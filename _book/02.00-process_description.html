<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.3.450">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="description" content="Report Summary">

<title>Final report – Advanced Energetics - 2&nbsp; Process description and analysis</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
/* CSS for citations */
div.csl-bib-body { }
div.csl-entry {
  clear: both;
}
.hanging-indent div.csl-entry {
  margin-left:2em;
  text-indent:-2em;
}
div.csl-left-margin {
  min-width:2em;
  float:left;
}
div.csl-right-inline {
  margin-left:2em;
  padding-left:1em;
}
div.csl-indent {
  margin-left: 2em;
}</style>


<script src="site_libs/quarto-nav/quarto-nav.js"></script>
<script src="site_libs/quarto-nav/headroom.min.js"></script>
<script src="site_libs/clipboard/clipboard.min.js"></script>
<script src="site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="site_libs/quarto-search/fuse.min.js"></script>
<script src="site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="./">
<link href="./03.00-energy_bill.html" rel="next">
<link href="./01.00-intro.html" rel="prev">
<script src="site_libs/quarto-html/quarto.js"></script>
<script src="site_libs/quarto-html/popper.min.js"></script>
<script src="site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="site_libs/quarto-html/anchor.min.js"></script>
<link href="site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="site_libs/bootstrap/bootstrap.min.js"></script>
<link href="site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 20,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>

<script src="site_libs/htmlwidgets-1.6.2/htmlwidgets.js"></script>
<link href="site_libs/datatables-css-0.0.0/datatables-crosstalk.css" rel="stylesheet">
<script src="site_libs/datatables-binding-0.29/datatables.js"></script>
<script src="site_libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<link href="site_libs/dt-core-1.13.4/css/jquery.dataTables.min.css" rel="stylesheet">
<link href="site_libs/dt-core-1.13.4/css/jquery.dataTables.extra.css" rel="stylesheet">
<script src="site_libs/dt-core-1.13.4/js/jquery.dataTables.min.js"></script>
<link href="site_libs/crosstalk-1.2.0/css/crosstalk.min.css" rel="stylesheet">
<script src="site_libs/crosstalk-1.2.0/js/crosstalk.min.js"></script>

  <script>window.backupDefine = window.define; window.define = undefined;</script><script src="https://cdn.jsdelivr.net/npm/katex@0.15.1/dist/katex.min.js"></script>
  <script>document.addEventListener("DOMContentLoaded", function () {
 var mathElements = document.getElementsByClassName("math");
 var macros = [];
 for (var i = 0; i < mathElements.length; i++) {
  var texText = mathElements[i].firstChild;
  if (mathElements[i].tagName == "SPAN") {
   katex.render(texText.data, mathElements[i], {
    displayMode: mathElements[i].classList.contains('display'),
    throwOnError: false,
    macros: macros,
    fleqn: false
   });
}}});
  </script>
  <script>window.define = window.backupDefine; window.backupDefine = undefined;</script><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.1/dist/katex.min.css">

</head>

<body class="nav-sidebar floating nav-fixed">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg navbar-dark ">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container">
    <a href="./index.html" class="navbar-brand navbar-brand-logo">
    <img src="https://web2018.epfl.ch/2.0.0/icons/epfl-logo.svg" alt="EPFL | IPESE" class="navbar-logo">
    </a>
    <a class="navbar-brand" href="./index.html">
    <span class="navbar-title">Final report – Advanced Energetics</span>
    </a>
  </div>
        <div class="quarto-navbar-tools ms-auto">
</div>
          <div id="quarto-search" class="" title="Search"></div>
      </div> <!-- /container-fluid -->
    </nav>
  <nav class="quarto-secondary-nav">
    <div class="container-fluid d-flex">
      <button type="button" class="quarto-btn-toggle btn" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar,#quarto-sidebar-glass" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
        <i class="bi bi-layout-text-sidebar-reverse"></i>
      </button>
      <nav class="quarto-page-breadcrumbs" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="./02.00-process_description.html"><span class="chapter-number">2</span>&nbsp; <span class="chapter-title">Process description and analysis</span></a></li></ol></nav>
      <a class="flex-grow-1" role="button" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar,#quarto-sidebar-glass" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">      
      </a>
    </div>
  </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse collapse-horizontal sidebar-navigation floating overflow-auto">
    <div class="sidebar-menu-container"> 
    <ul class="list-unstyled mt-1">
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Abstract</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./01.00-intro.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">1</span>&nbsp; <span class="chapter-title">Group 6/F: Process Integration and Optimization for a Dairy Factory</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./02.00-process_description.html" class="sidebar-item-text sidebar-link active">
 <span class="menu-text"><span class="chapter-number">2</span>&nbsp; <span class="chapter-title">Process description and analysis</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./03.00-energy_bill.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">3</span>&nbsp; <span class="chapter-title">Exergy analysis and Energy bill</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./04.00-HeatRecovery.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">4</span>&nbsp; <span class="chapter-title">Pinch analysis</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./05.00-HeatExhangerNetwork.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">5</span>&nbsp; <span class="chapter-title">Heat Exchanger Network design</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./06.00-Utilityintegration.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">6</span>&nbsp; <span class="chapter-title">Energy conversion integration</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./07-Conclusions.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">7</span>&nbsp; <span class="chapter-title">Conclusions</span></span></a>
  </div>
</li>
    </ul>
    </div>
</nav>
<div id="quarto-sidebar-glass" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar,#quarto-sidebar-glass"></div>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">Table of contents</h2>
   
  <ul>
  <li><a href="#pasteurisation" id="toc-pasteurisation" class="nav-link active" data-scroll-target="#pasteurisation"><span class="header-section-number">2.1</span> Pasteurisation</a>
  <ul class="collapse">
  <li><a href="#mass-flows" id="toc-mass-flows" class="nav-link" data-scroll-target="#mass-flows"><span class="header-section-number">2.1.1</span> Mass Flows</a></li>
  <li><a href="#heat-capacities" id="toc-heat-capacities" class="nav-link" data-scroll-target="#heat-capacities"><span class="header-section-number">2.1.2</span> Heat Capacities</a></li>
  <li><a href="#equations-of-operations" id="toc-equations-of-operations" class="nav-link" data-scroll-target="#equations-of-operations"><span class="header-section-number">2.1.3</span> Equations of operations</a></li>
  </ul></li>
  <li><a href="#evaporation" id="toc-evaporation" class="nav-link" data-scroll-target="#evaporation"><span class="header-section-number">2.2</span> Evaporation</a>
  <ul class="collapse">
  <li><a href="#mixture-at-each-evaporator" id="toc-mixture-at-each-evaporator" class="nav-link" data-scroll-target="#mixture-at-each-evaporator"><span class="header-section-number">2.2.1</span> Mixture at each Evaporator</a></li>
  <li><a href="#heating-demand-and-steam-flow-of-evaporators" id="toc-heating-demand-and-steam-flow-of-evaporators" class="nav-link" data-scroll-target="#heating-demand-and-steam-flow-of-evaporators"><span class="header-section-number">2.2.2</span> Heating Demand and Steam Flow of Evaporators</a></li>
  <li><a href="#steam-flow-to-hex" id="toc-steam-flow-to-hex" class="nav-link" data-scroll-target="#steam-flow-to-hex"><span class="header-section-number">2.2.3</span> Steam Flow to HEX</a></li>
  <li><a href="#hex-heat-demand-and-temperature-steps" id="toc-hex-heat-demand-and-temperature-steps" class="nav-link" data-scroll-target="#hex-heat-demand-and-temperature-steps"><span class="header-section-number">2.2.4</span> HEX Heat Demand and Temperature Steps</a></li>
  <li><a href="#cooling-demand" id="toc-cooling-demand" class="nav-link" data-scroll-target="#cooling-demand"><span class="header-section-number">2.2.5</span> Cooling Demand</a></li>
  <li><a href="#whey-extraction" id="toc-whey-extraction" class="nav-link" data-scroll-target="#whey-extraction"><span class="header-section-number">2.2.6</span> Whey Extraction</a></li>
  <li><a href="#summary-for-the-evaporator-section" id="toc-summary-for-the-evaporator-section" class="nav-link" data-scroll-target="#summary-for-the-evaporator-section"><span class="header-section-number">2.2.7</span> Summary for the evaporator section</a></li>
  </ul></li>
  <li><a href="#drum-dryers" id="toc-drum-dryers" class="nav-link" data-scroll-target="#drum-dryers"><span class="header-section-number">2.3</span> Drum Dryers</a>
  <ul class="collapse">
  <li><a href="#mixture-at-each-dryer" id="toc-mixture-at-each-dryer" class="nav-link" data-scroll-target="#mixture-at-each-dryer"><span class="header-section-number">2.3.1</span> Mixture at each dryer</a></li>
  <li><a href="#heating-demand-of-each-dryer" id="toc-heating-demand-of-each-dryer" class="nav-link" data-scroll-target="#heating-demand-of-each-dryer"><span class="header-section-number">2.3.2</span> Heating demand of each dryer</a></li>
  <li><a href="#heating-demand-of-each-hex" id="toc-heating-demand-of-each-hex" class="nav-link" data-scroll-target="#heating-demand-of-each-hex"><span class="header-section-number">2.3.3</span> Heating demand of each HEX</a></li>
  <li><a href="#water-demand-to-cool-down-the-milk-powder" id="toc-water-demand-to-cool-down-the-milk-powder" class="nav-link" data-scroll-target="#water-demand-to-cool-down-the-milk-powder"><span class="header-section-number">2.3.4</span> Water demand to cool down the milk powder</a></li>
  <li><a href="#steam-demand-to-heat-up-the-air" id="toc-steam-demand-to-heat-up-the-air" class="nav-link" data-scroll-target="#steam-demand-to-heat-up-the-air"><span class="header-section-number">2.3.5</span> Steam demand to heat up the air</a></li>
  <li><a href="#water-exiting-the-system" id="toc-water-exiting-the-system" class="nav-link" data-scroll-target="#water-exiting-the-system"><span class="header-section-number">2.3.6</span> Water exiting the system</a></li>
  <li><a href="#summary-for-the-drum-dryers-section" id="toc-summary-for-the-drum-dryers-section" class="nav-link" data-scroll-target="#summary-for-the-drum-dryers-section"><span class="header-section-number">2.3.7</span> Summary for the Drum Dryers section</a></li>
  </ul></li>
  <li><a href="#cleaning-in-place" id="toc-cleaning-in-place" class="nav-link" data-scroll-target="#cleaning-in-place"><span class="header-section-number">2.4</span> Cleaning in Place</a>
  <ul class="collapse">
  <li><a href="#mixer-1" id="toc-mixer-1" class="nav-link" data-scroll-target="#mixer-1"><span class="header-section-number">2.4.1</span> Mixer</a></li>
  <li><a href="#heater" id="toc-heater" class="nav-link" data-scroll-target="#heater"><span class="header-section-number">2.4.2</span> Heater</a></li>
  <li><a href="#showers" id="toc-showers" class="nav-link" data-scroll-target="#showers"><span class="header-section-number">2.4.3</span> Showers</a></li>
  <li><a href="#splitter" id="toc-splitter" class="nav-link" data-scroll-target="#splitter"><span class="header-section-number">2.4.4</span> Splitter</a></li>
  <li><a href="#cooler" id="toc-cooler" class="nav-link" data-scroll-target="#cooler"><span class="header-section-number">2.4.5</span> Cooler</a></li>
  <li><a href="#summary-for-the-cleaning-in-place-section" id="toc-summary-for-the-cleaning-in-place-section" class="nav-link" data-scroll-target="#summary-for-the-cleaning-in-place-section"><span class="header-section-number">2.4.6</span> Summary for the Cleaning in Place section</a></li>
  </ul></li>
  <li><a href="#cold-storage-hot-water" id="toc-cold-storage-hot-water" class="nav-link" data-scroll-target="#cold-storage-hot-water"><span class="header-section-number">2.5</span> Cold Storage &amp; Hot Water</a></li>
  <li><a href="#wastewater-and-sludge-production" id="toc-wastewater-and-sludge-production" class="nav-link" data-scroll-target="#wastewater-and-sludge-production"><span class="header-section-number">2.6</span> WasteWater and Sludge Production</a></li>
  <li><a href="#rivella-production" id="toc-rivella-production" class="nav-link" data-scroll-target="#rivella-production"><span class="header-section-number">2.7</span> Rivella Production</a>
  <ul class="collapse">
  <li><a href="#the-concentration-of-the-whey" id="toc-the-concentration-of-the-whey" class="nav-link" data-scroll-target="#the-concentration-of-the-whey"><span class="header-section-number">2.7.1</span> The concentration of the whey</a></li>
  <li><a href="#the-production-of-rivella-green" id="toc-the-production-of-rivella-green" class="nav-link" data-scroll-target="#the-production-of-rivella-green"><span class="header-section-number">2.7.2</span> The production of Rivella Green</a></li>
  <li><a href="#the-production-of-rivella-red" id="toc-the-production-of-rivella-red" class="nav-link" data-scroll-target="#the-production-of-rivella-red"><span class="header-section-number">2.7.3</span> The production of Rivella Red</a></li>
  <li><a href="#summary-for-the-rivella-production-section" id="toc-summary-for-the-rivella-production-section" class="nav-link" data-scroll-target="#summary-for-the-rivella-production-section"><span class="header-section-number">2.7.4</span> Summary for the Rivella production section</a></li>
  </ul></li>
  <li><a href="#digester" id="toc-digester" class="nav-link" data-scroll-target="#digester"><span class="header-section-number">2.8</span> Digester</a>
  <ul class="collapse">
  <li><a href="#digestor" id="toc-digestor" class="nav-link" data-scroll-target="#digestor"><span class="header-section-number">2.8.1</span> Digestor</a></li>
  <li><a href="#rotary-filter" id="toc-rotary-filter" class="nav-link" data-scroll-target="#rotary-filter"><span class="header-section-number">2.8.2</span> Rotary filter</a></li>
  <li><a href="#steam-dryer" id="toc-steam-dryer" class="nav-link" data-scroll-target="#steam-dryer"><span class="header-section-number">2.8.3</span> Steam dryer</a></li>
  <li><a href="#summary-for-the-digester-section" id="toc-summary-for-the-digester-section" class="nav-link" data-scroll-target="#summary-for-the-digester-section"><span class="header-section-number">2.8.4</span> Summary for the digester section</a></li>
  </ul></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<div class="quarto-title-block"><div><h1 class="title"><span class="chapter-number">2</span>&nbsp; <span class="chapter-title">Process description and analysis</span></h1><button type="button" class="btn code-tools-button dropdown-toggle" id="quarto-code-tools-menu" data-bs-toggle="dropdown" aria-expanded="false"><i class="bi"></i></button><ul class="dropdown-menu dropdown-menu-end" aria-labelelledby="quarto-code-tools-menu"><li><a id="quarto-show-all-code" class="dropdown-item" href="javascript:void(0)" role="button">Show All Code</a></li><li><a id="quarto-hide-all-code" class="dropdown-item" href="javascript:void(0)" role="button">Hide All Code</a></li></ul></div></div>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  

</header>

<blockquote class="blockquote">
<p><strong>Task Instructions</strong></p>
<p>To provide practical solutions to our industrial partner, the dairy factory, our first task is to show that we truly grasp the problem. To a business manager, industrial processes may seem mysterious and complex, like “black boxes.” However, as engineers, we need to dig into the details, using mathematics and physics to analyze and design these industrial processes.</p>
<p>In this section, the task is to compute the thermodynamic properties of all the streams within each section of the dairy factory. The data collected here will be instrumental in calculating exergy efficiency and energy bills in the following section.</p>
</blockquote>
<section id="pasteurisation" class="level2" data-number="2.1">
<h2 data-number="2.1" class="anchored" data-anchor-id="pasteurisation"><span class="header-section-number">2.1</span> Pasteurisation</h2>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="Figures/pasteurisation.svg" class="img-fluid figure-img"></p>
<figcaption class="figure-caption">Pasteurisation</figcaption>
</figure>
</div>
<p>In this section the mass and energy balances for each chemical operation of the milk pasteurisation are computed. The pasteurisation aims to produce cream and milk from fresh milk with the intergation of a thickener.</p>
<section id="mass-flows" class="level3" data-number="2.1.1">
<h3 data-number="2.1.1" class="anchored" data-anchor-id="mass-flows"><span class="header-section-number">2.1.1</span> Mass Flows</h3>
<p>Because of the mass flow conservation, we have:</p>
<p><span class="math display">
\begin{cases}
    \dot m_{Mixure~out} = \dot m_{Past{\_}Cent}=\dot m_{Fresh~Milk}=8~kg/s \\
    \dot m_{Milk{\_}0} = \dot m_{Past{\_}a} = \dot m_{Past{\_}b} = \dot m_{Past{\_}c} =  \dot m_{Past{\_}d} = \dot m_{Milk} = 7.52~kg/s \\
    \dot m_{cream{\_}0} = \dot m_{crpast{\_}a} = \dot m_{Past{\_}cent} - \dot m_{Milk{\_}0} =  \dot m_{Fresh~Milk} - \dot m_{Milk} = 8 - 7.52 = 0.48~kg/s \\
    \dot m_{crpast{\_}x} = \dot m_{crpast{\_}b} = \dot m_{crpast{\_}c} = \dot m_{Cream} =  0.55~kg/s \\
    \dot m_{thickener} = 0.07~kg/s
\end{cases}
</span></p>
<p>Consequently, all mass flows are defined.</p>
</section>
<section id="heat-capacities" class="level3" data-number="2.1.2">
<h3 data-number="2.1.2" class="anchored" data-anchor-id="heat-capacities"><span class="header-section-number">2.1.2</span> Heat Capacities</h3>
<p>The following heat capacities are already provided :</p>
<ul>
<li><p><span class="math inline">c_{p,Raw~Milk} = 3.8 kJ/(kgK)</span> (milk after centrifuge)</p></li>
<li><p><span class="math inline">c_{p,Cream~ac} = 3.4 kJ/(kgK)</span> (cream after centrifuge)</p></li>
</ul>
<p>From Litterature <span class="citation" data-cites="NAGHAVI201864">Naghavi, Dehghannya, and Ghanbarzadeh (<a href="#ref-NAGHAVI201864" role="doc-biblioref">2018</a>)</span> we chose:</p>
<ul>
<li><span class="math inline">c_{p,thickener} = c_{p,alginate} = 4.175 kJ/(kg.K)</span></li>
</ul>
<p>Assuming that the mixer provides an ideal mix, we have:</p>
<p><span class="math display">
\begin{align*}
    c_{p,cream} &amp;= \frac{\dot m_{cream{\_}0}}{\dot m_{Cream}} \cdot c_{p,Cream~ac} + \frac{\dot m_{thickener}}{\dot m_{Cream}} \cdot c_{p,thickener} \\
    \\
    c_{p,cream} &amp;= \frac{0.48}{0.55} \cdot 3400 + \frac{0.07}{0.55} \cdot 4175
\end{align*}
</span></p>
<p>We also consider the centrifuge separes an ideal mix, therefore:</p>
<p><span class="math display">
\begin{align*}
    c_{p,fresh{\_}milk} &amp;= \frac{\dot m_{cream{\_}0}}{\dot m_{fresh{\_}milk}} \cdot c_{p,Cream~ac} + \frac{\dot m_{Milk{\_}0} }{\dot m_{fresh{\_}milk}} \cdot c_{p,raw{\_}milk} \\
    \\
    c_{p,fresh{\_}milk} &amp;= \frac{0.48}{8} \cdot 3400 + \frac{7.52}{8} \cdot 3800
\end{align*}
</span></p>
<p>Finally:</p>
<ul>
<li><span class="math inline">c_{p,cream} = 3.5~kJ/(kgK)</span></li>
<li><span class="math inline">c_{p,fresh_milk} = 3.78~kJ/(kgK)</span></li>
</ul>
</section>
<section id="equations-of-operations" class="level3" data-number="2.1.3">
<h3 data-number="2.1.3" class="anchored" data-anchor-id="equations-of-operations"><span class="header-section-number">2.1.3</span> Equations of operations</h3>
<p>In this subsection the heat flow equations for each element of the pasteurisation are indicated. All variables are defined on the pasteurization scheme or in the mass flow and heat capacities sections. The <span class="math inline">\Delta T = 5K</span> is applied on Past 2, between Milk_0 and Past_a and on Past 5, between crpast_c and cream. Regarding the glycolic water and the steam, the same temperatures and heat capacities as the one in the beer pasteurization process are used, and it is assumed the exact cooling or the heating are controlled by the mass flow of these elements.</p>
<section id="refrigeration" class="level4" data-number="2.1.3.1">
<h4 data-number="2.1.3.1" class="anchored" data-anchor-id="refrigeration"><span class="header-section-number">2.1.3.1</span> Refrigeration</h4>
<p><span id="eq-past_refrigeration"><span class="math display">
\begin{align*}
    \dot Q_{refrigeration} &amp;= \dot m_{Fresh~Milk} \cdot c_{p,Fresh~Milk} \cdot (T_{Fresh~Milk} - T_{Mixure{\_}out}) \\
    &amp;= \dot m_{glywater{\_}ref} \cdot c_{p,glywater} \cdot (T_{glywater{\_}out,ref} - T_{glywater{\_}in,ref})
\end{align*}
\tag{2.1}</span></span></p>
</section>
<section id="past1" class="level4" data-number="2.1.3.2">
<h4 data-number="2.1.3.2" class="anchored" data-anchor-id="past1"><span class="header-section-number">2.1.3.2</span> PAST1</h4>
<p><span id="eq-past_past1"><span class="math display">
\begin{align*}
    \dot Q_{past1} &amp;= \dot m_{Fresh~Milk} \cdot c_{p,Fresh~Milk} \cdot (T_{Past{\_}cent} - T_{Mixure{\_}out}) \\
    &amp;= \dot m_{Milk} \cdot c_{p,Raw~Milk} \cdot (T_{Past{\_}c} - T_{Past{\_}d})
\end{align*}
\tag{2.2}</span></span></p>
</section>
<section id="past2" class="level4" data-number="2.1.3.3">
<h4 data-number="2.1.3.3" class="anchored" data-anchor-id="past2"><span class="header-section-number">2.1.3.3</span> PAST2</h4>
<p><span id="eq-past_past2"><span class="math display">
\begin{align*}
    \dot Q_{past2} &amp;= \dot m_{Milk} \cdot c_{p,Raw~Milk} \cdot (T_{Past{\_}a} - T_{Milk{\_}0}) \\
    &amp;= \dot m_{Milk} \cdot c_{p,Raw~Milk} \cdot (T_{Past{\_}b} - T_{Past{\_}c})
\end{align*}
\tag{2.3}</span></span></p>
</section>
<section id="centrifuge" class="level4" data-number="2.1.3.4">
<h4 data-number="2.1.3.4" class="anchored" data-anchor-id="centrifuge"><span class="header-section-number">2.1.3.4</span> CENTRIFUGE</h4>
<p><span id="eq-past_centrifuge"><span class="math display">
\begin{align*}
    T_{Past{\_}cent} = T_{Milk{\_}0} = T_{cream{\_}0} ~~~~~~(isothermal~mix)
\end{align*}
\tag{2.4}</span></span></p>
</section>
<section id="past3" class="level4" data-number="2.1.3.5">
<h4 data-number="2.1.3.5" class="anchored" data-anchor-id="past3"><span class="header-section-number">2.1.3.5</span> PAST3</h4>
<p><span id="eq-past_past3"><span class="math display">
\begin{align*}
    \dot Q_{past3} &amp;= \dot m_{Milk} \cdot c_{p,Raw~Milk} \cdot (T_{Milk{\_}b} - T_{Past{\_}a}) \\
    &amp;= \dot m_{steam{\_}p2} \cdot c_{p,steam} \cdot (T_{Steam{\_}in,p3} - T_{Steam{\_}out,p3})
\end{align*}
\tag{2.5}</span></span></p>
</section>
<section id="past4" class="level4" data-number="2.1.3.6">
<h4 data-number="2.1.3.6" class="anchored" data-anchor-id="past4"><span class="header-section-number">2.1.3.6</span> PAST4</h4>
<p><span id="eq-past_past4"><span class="math display">
\begin{align*}
    \dot Q_{past4} &amp;= \dot m_{Milk} \cdot c_{p,Raw~Milk} \cdot (T_{past{\_}d} - T_{Milk}) \\
    &amp;= \dot m_{glywater{\_}p4} \cdot c_{p,glywater} \cdot (T_{glywater{\_}out,p4} - T_{glywater{\_}in,p4})
\end{align*}
\tag{2.6}</span></span></p>
</section>
<section id="past5" class="level4" data-number="2.1.3.7">
<h4 data-number="2.1.3.7" class="anchored" data-anchor-id="past5"><span class="header-section-number">2.1.3.7</span> PAST5</h4>
<p><span id="eq-past_past5"><span class="math display">
\begin{align*}
    \dot Q_{past5} &amp;= \dot m_{Intern} \cdot c_{p,Cream~ac} \cdot (T_{crpast{\_}a} - T_{cream{\_}0}) \\
    &amp;= \dot m_{Cream} \cdot c_{p,Cream} \cdot (T_{crpast{\_}b} - T_{crpast{\_}c})
\end{align*}
\tag{2.7}</span></span></p>
</section>
<section id="mixer" class="level4" data-number="2.1.3.8">
<h4 data-number="2.1.3.8" class="anchored" data-anchor-id="mixer"><span class="header-section-number">2.1.3.8</span> MIXER</h4>
<p><span id="eq-past_mixer"><span class="math display">
\begin{align*}
    \dot m_{thickener} \cdot c_{p,thickener} \cdot (T_{crpast{\_}x} - T_{thickener})
    = \dot m_{intern} \cdot c_{p,Cream~ac} \cdot (T_{crpast{\_}a} - T_{thickener}) \\
\end{align*}
\tag{2.8}</span></span></p>
</section>
<section id="past6" class="level4" data-number="2.1.3.9">
<h4 data-number="2.1.3.9" class="anchored" data-anchor-id="past6"><span class="header-section-number">2.1.3.9</span> PAST6</h4>
<p><span id="eq-past_past6"><span class="math display">
\begin{align*}
    \dot Q_{past6} &amp;= \dot m_{Cream} \cdot c_{p,Cream} \cdot (T_{crpast{\_}b} - T_{crpast{\_}x}) \\
    &amp;= \dot m_{steam{\_}p6} \cdot c_{p,steam} \cdot (T_{Steam{\_}in,p6} - T_{Steam{\_}out,p6})
\end{align*}
\tag{2.9}</span></span></p>
</section>
<section id="past7" class="level4" data-number="2.1.3.10">
<h4 data-number="2.1.3.10" class="anchored" data-anchor-id="past7"><span class="header-section-number">2.1.3.10</span> PAST7</h4>
<p><span id="eq-past_past7"><span class="math display">
\begin{align*}
    \dot Q_{past7} &amp;= \dot m_{Cream} \cdot c_{p,Cream} \cdot (T_{crpast{\_}c} - T_{Cream}) \\
    &amp;= \dot m_{glywater{\_}p7} \cdot c_{p,glywater} \cdot (T_{glywater{\_}out,p7} - T_{glywater{\_}in,p7})
\end{align*}
\tag{2.10}</span></span></p>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> pandas <span class="im">as</span> pd</span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> numpy <span class="im">as</span> np</span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> IPython.display <span class="im">import</span> display, HTML</span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> codes_01_energy_bill.pasteurisation_functions <span class="im">import</span> heat_exchanger_Q</span>
<span id="cb1-5"><a href="#cb1-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-6"><a href="#cb1-6" aria-hidden="true" tabindex="-1"></a><span class="co"># Mass flows(kg/s)</span></span>
<span id="cb1-7"><a href="#cb1-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-8"><a href="#cb1-8" aria-hidden="true" tabindex="-1"></a>m_fmilk <span class="op">=</span> <span class="dv">8</span></span>
<span id="cb1-9"><a href="#cb1-9" aria-hidden="true" tabindex="-1"></a>m_milk <span class="op">=</span> <span class="fl">7.52</span></span>
<span id="cb1-10"><a href="#cb1-10" aria-hidden="true" tabindex="-1"></a>m_cream <span class="op">=</span> <span class="fl">0.55</span></span>
<span id="cb1-11"><a href="#cb1-11" aria-hidden="true" tabindex="-1"></a>m_int <span class="op">=</span> m_fmilk <span class="op">-</span> m_milk</span>
<span id="cb1-12"><a href="#cb1-12" aria-hidden="true" tabindex="-1"></a>m_thick <span class="op">=</span> <span class="fl">0.07</span></span>
<span id="cb1-13"><a href="#cb1-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-14"><a href="#cb1-14" aria-hidden="true" tabindex="-1"></a><span class="co"># Heat capacities (J/(kg.K))</span></span>
<span id="cb1-15"><a href="#cb1-15" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-16"><a href="#cb1-16" aria-hidden="true" tabindex="-1"></a>Cp_alboline <span class="op">=</span> <span class="dv">4175</span></span>
<span id="cb1-17"><a href="#cb1-17" aria-hidden="true" tabindex="-1"></a>Cp_raw_milk <span class="op">=</span> <span class="dv">3800</span> <span class="co"># Has been computed with mix</span></span>
<span id="cb1-18"><a href="#cb1-18" aria-hidden="true" tabindex="-1"></a>Cp_cream <span class="op">=</span> <span class="dv">3400</span></span>
<span id="cb1-19"><a href="#cb1-19" aria-hidden="true" tabindex="-1"></a>Cp_glywater <span class="op">=</span> <span class="dv">3900</span> <span class="co">#(Beer pasteurization exercise)</span></span>
<span id="cb1-20"><a href="#cb1-20" aria-hidden="true" tabindex="-1"></a>Cp_steam <span class="op">=</span> <span class="dv">1996</span> <span class="co">#(Internet)</span></span>
<span id="cb1-21"><a href="#cb1-21" aria-hidden="true" tabindex="-1"></a>Cp_fmilk <span class="op">=</span> (m_int<span class="op">/</span>m_fmilk)<span class="op">*</span>Cp_cream <span class="op">+</span> (m_milk<span class="op">/</span>m_fmilk)<span class="op">*</span>Cp_raw_milk</span>
<span id="cb1-22"><a href="#cb1-22" aria-hidden="true" tabindex="-1"></a>Cp_cream_mixed <span class="op">=</span> (m_int<span class="op">/</span>m_cream)<span class="op">*</span>Cp_cream <span class="op">+</span> (m_thick<span class="op">/</span>m_cream)<span class="op">*</span>Cp_alboline</span>
<span id="cb1-23"><a href="#cb1-23" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-24"><a href="#cb1-24" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-25"><a href="#cb1-25" aria-hidden="true" tabindex="-1"></a><span class="co"># Temperatures (K)</span></span>
<span id="cb1-26"><a href="#cb1-26" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-27"><a href="#cb1-27" aria-hidden="true" tabindex="-1"></a>T_a<span class="op">=</span><span class="dv">25</span><span class="op">+</span><span class="fl">273.15</span></span>
<span id="cb1-28"><a href="#cb1-28" aria-hidden="true" tabindex="-1"></a>T_fmilk <span class="op">=</span> <span class="dv">6</span><span class="op">+</span><span class="fl">273.15</span></span>
<span id="cb1-29"><a href="#cb1-29" aria-hidden="true" tabindex="-1"></a>T_mixure_out <span class="op">=</span> <span class="dv">4</span><span class="op">+</span><span class="fl">273.15</span></span>
<span id="cb1-30"><a href="#cb1-30" aria-hidden="true" tabindex="-1"></a>T_past_cent <span class="op">=</span> <span class="dv">60</span><span class="op">+</span><span class="fl">273.15</span></span>
<span id="cb1-31"><a href="#cb1-31" aria-hidden="true" tabindex="-1"></a>T_milk_0 <span class="op">=</span> T_past_cent</span>
<span id="cb1-32"><a href="#cb1-32" aria-hidden="true" tabindex="-1"></a>T_cream_0 <span class="op">=</span> T_past_cent</span>
<span id="cb1-33"><a href="#cb1-33" aria-hidden="true" tabindex="-1"></a>T_past_b <span class="op">=</span> <span class="dv">75</span><span class="op">+</span><span class="fl">273.15</span></span>
<span id="cb1-34"><a href="#cb1-34" aria-hidden="true" tabindex="-1"></a>T_milk <span class="op">=</span> <span class="dv">4</span><span class="op">+</span><span class="fl">273.15</span></span>
<span id="cb1-35"><a href="#cb1-35" aria-hidden="true" tabindex="-1"></a>T_thick <span class="op">=</span> <span class="dv">4</span><span class="op">+</span><span class="fl">273.15</span></span>
<span id="cb1-36"><a href="#cb1-36" aria-hidden="true" tabindex="-1"></a>T_crpast_b <span class="op">=</span> <span class="dv">75</span><span class="op">+</span><span class="fl">273.15</span></span>
<span id="cb1-37"><a href="#cb1-37" aria-hidden="true" tabindex="-1"></a>T_cream <span class="op">=</span> <span class="dv">4</span><span class="op">+</span><span class="fl">273.15</span></span>
<span id="cb1-38"><a href="#cb1-38" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-39"><a href="#cb1-39" aria-hidden="true" tabindex="-1"></a>T_glywater_in <span class="op">=</span> <span class="op">-</span><span class="dv">5</span> <span class="op">+</span> <span class="fl">273.15</span></span>
<span id="cb1-40"><a href="#cb1-40" aria-hidden="true" tabindex="-1"></a>T_glywater_out <span class="op">=</span> <span class="op">-</span><span class="dv">1</span> <span class="op">+</span> <span class="fl">273.15</span></span>
<span id="cb1-41"><a href="#cb1-41" aria-hidden="true" tabindex="-1"></a>T_steam_in <span class="op">=</span> <span class="fl">207.336</span> <span class="op">+</span> <span class="fl">273.15</span></span>
<span id="cb1-42"><a href="#cb1-42" aria-hidden="true" tabindex="-1"></a>T_steam_out <span class="op">=</span> <span class="dv">110</span> <span class="op">+</span> <span class="fl">273.15</span></span>
<span id="cb1-43"><a href="#cb1-43" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-44"><a href="#cb1-44" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-45"><a href="#cb1-45" aria-hidden="true" tabindex="-1"></a><span class="co"># T_past_a, computed later</span></span>
<span id="cb1-46"><a href="#cb1-46" aria-hidden="true" tabindex="-1"></a><span class="co"># T_past_c, computed later</span></span>
<span id="cb1-47"><a href="#cb1-47" aria-hidden="true" tabindex="-1"></a><span class="co"># T_past_d, computed later</span></span>
<span id="cb1-48"><a href="#cb1-48" aria-hidden="true" tabindex="-1"></a><span class="co"># T_crpast_a, computed later</span></span>
<span id="cb1-49"><a href="#cb1-49" aria-hidden="true" tabindex="-1"></a><span class="co"># T_crpast_x, computed later</span></span>
<span id="cb1-50"><a href="#cb1-50" aria-hidden="true" tabindex="-1"></a><span class="co"># T_crpast_c, computed later</span></span>
<span id="cb1-51"><a href="#cb1-51" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-52"><a href="#cb1-52" aria-hidden="true" tabindex="-1"></a><span class="co"># Temperatures computation</span></span>
<span id="cb1-53"><a href="#cb1-53" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-54"><a href="#cb1-54" aria-hidden="true" tabindex="-1"></a>T_past_c <span class="op">=</span> <span class="op">-</span><span class="dv">5</span> <span class="op">+</span> T_past_b</span>
<span id="cb1-55"><a href="#cb1-55" aria-hidden="true" tabindex="-1"></a>T_past_a <span class="op">=</span> T_past_b <span class="op">-</span> T_past_c <span class="op">+</span> T_milk_0 </span>
<span id="cb1-56"><a href="#cb1-56" aria-hidden="true" tabindex="-1"></a>T_past_d <span class="op">=</span> <span class="op">-</span> (( m_fmilk <span class="op">/</span> m_milk ) <span class="op">*</span> ( Cp_fmilk <span class="op">/</span> Cp_raw_milk ) <span class="op">*</span> (T_past_cent<span class="op">-</span> T_mixure_out)) <span class="op">+</span> T_past_c</span>
<span id="cb1-57"><a href="#cb1-57" aria-hidden="true" tabindex="-1"></a>T_crpast_a <span class="op">=</span> (( m_cream <span class="op">/</span> m_int ) <span class="op">*</span> ( Cp_cream_mixed <span class="op">/</span> Cp_cream ) <span class="op">*</span> <span class="dv">5</span>) <span class="op">+</span> T_cream_0</span>
<span id="cb1-58"><a href="#cb1-58" aria-hidden="true" tabindex="-1"></a>T_crpast_c <span class="op">=</span> (( m_int <span class="op">/</span> m_cream ) <span class="op">*</span> ( Cp_cream <span class="op">/</span> Cp_cream_mixed ) <span class="op">*</span> (<span class="op">-</span>T_crpast_a <span class="op">+</span> T_cream_0)) <span class="op">+</span> T_crpast_b</span>
<span id="cb1-59"><a href="#cb1-59" aria-hidden="true" tabindex="-1"></a>T_crpast_x <span class="op">=</span> ((Cp_alboline<span class="op">*</span>m_thick)<span class="op">*</span>T_thick <span class="op">+</span> (Cp_cream<span class="op">*</span>m_int)<span class="op">*</span>T_crpast_a) <span class="op">/</span> ((Cp_alboline<span class="op">*</span>m_thick)<span class="op">+</span>(Cp_cream<span class="op">*</span>m_int))</span>
<span id="cb1-60"><a href="#cb1-60" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-61"><a href="#cb1-61" aria-hidden="true" tabindex="-1"></a><span class="co"># Heat flows computation</span></span>
<span id="cb1-62"><a href="#cb1-62" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-63"><a href="#cb1-63" aria-hidden="true" tabindex="-1"></a>Q_refrigeration <span class="op">=</span> heat_exchanger_Q(T_fmilk,T_mixure_out,m_fmilk,Cp_fmilk)</span>
<span id="cb1-64"><a href="#cb1-64" aria-hidden="true" tabindex="-1"></a>Q_past1 <span class="op">=</span> heat_exchanger_Q(T_past_cent,T_mixure_out,m_fmilk,Cp_fmilk) </span>
<span id="cb1-65"><a href="#cb1-65" aria-hidden="true" tabindex="-1"></a>Q_past2 <span class="op">=</span> heat_exchanger_Q(T_past_a,T_milk_0,m_milk,Cp_raw_milk)</span>
<span id="cb1-66"><a href="#cb1-66" aria-hidden="true" tabindex="-1"></a>Q_past3 <span class="op">=</span> heat_exchanger_Q(T_past_a,T_past_b,m_milk,Cp_raw_milk)</span>
<span id="cb1-67"><a href="#cb1-67" aria-hidden="true" tabindex="-1"></a>Q_past4 <span class="op">=</span> heat_exchanger_Q(T_past_d,T_milk,m_milk,Cp_raw_milk)</span>
<span id="cb1-68"><a href="#cb1-68" aria-hidden="true" tabindex="-1"></a>Q_past5 <span class="op">=</span> heat_exchanger_Q(T_crpast_a,T_crpast_b,m_cream,Cp_cream_mixed)</span>
<span id="cb1-69"><a href="#cb1-69" aria-hidden="true" tabindex="-1"></a>Q_past6 <span class="op">=</span> heat_exchanger_Q(T_crpast_x,T_crpast_b,m_cream,Cp_cream_mixed)</span>
<span id="cb1-70"><a href="#cb1-70" aria-hidden="true" tabindex="-1"></a>Q_past7 <span class="op">=</span> heat_exchanger_Q(T_cream,T_crpast_c,m_cream,Cp_cream_mixed)</span>
<span id="cb1-71"><a href="#cb1-71" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-72"><a href="#cb1-72" aria-hidden="true" tabindex="-1"></a><span class="co"># Computation for steam and glywater</span></span>
<span id="cb1-73"><a href="#cb1-73" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-74"><a href="#cb1-74" aria-hidden="true" tabindex="-1"></a>m_gly_ref <span class="op">=</span> Q_refrigeration <span class="op">/</span> ( Cp_glywater <span class="op">*</span> (T_glywater_out<span class="op">-</span>T_glywater_in) )</span>
<span id="cb1-75"><a href="#cb1-75" aria-hidden="true" tabindex="-1"></a>m_steam_past3 <span class="op">=</span> Q_past3 <span class="op">/</span> ( Cp_steam <span class="op">*</span> (T_steam_in<span class="op">-</span>T_steam_out) )</span>
<span id="cb1-76"><a href="#cb1-76" aria-hidden="true" tabindex="-1"></a>m_gly_past4 <span class="op">=</span> Q_past4 <span class="op">/</span> ( Cp_glywater <span class="op">*</span> (T_glywater_out<span class="op">-</span>T_glywater_in) )</span>
<span id="cb1-77"><a href="#cb1-77" aria-hidden="true" tabindex="-1"></a>m_steam_past6 <span class="op">=</span> Q_past6 <span class="op">/</span> ( Cp_steam <span class="op">*</span> (T_steam_in<span class="op">-</span>T_steam_out) )</span>
<span id="cb1-78"><a href="#cb1-78" aria-hidden="true" tabindex="-1"></a>m_gly_past7 <span class="op">=</span> Q_past7 <span class="op">/</span> ( Cp_glywater <span class="op">*</span> (T_glywater_out<span class="op">-</span>T_glywater_in) )</span>
<span id="cb1-79"><a href="#cb1-79" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-80"><a href="#cb1-80" aria-hidden="true" tabindex="-1"></a><span class="co"># Specific entropy and enthalpy from beer pasteurisation</span></span>
<span id="cb1-81"><a href="#cb1-81" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-82"><a href="#cb1-82" aria-hidden="true" tabindex="-1"></a>delta_s_steam <span class="op">=</span> <span class="fl">7.343e3</span> <span class="op">-</span> <span class="fl">1.418e3</span></span>
<span id="cb1-83"><a href="#cb1-83" aria-hidden="true" tabindex="-1"></a>delta_h_steam <span class="op">=</span> <span class="fl">2880.8e3</span> <span class="op">-</span> <span class="fl">461.368e3</span></span>
<span id="cb1-84"><a href="#cb1-84" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-85"><a href="#cb1-85" aria-hidden="true" tabindex="-1"></a>s_steam_in<span class="op">=</span><span class="dv">7343</span></span>
<span id="cb1-86"><a href="#cb1-86" aria-hidden="true" tabindex="-1"></a>s_steam_out<span class="op">=</span><span class="dv">1418</span></span>
<span id="cb1-87"><a href="#cb1-87" aria-hidden="true" tabindex="-1"></a>h_steam_in<span class="op">=</span><span class="dv">28880800</span></span>
<span id="cb1-88"><a href="#cb1-88" aria-hidden="true" tabindex="-1"></a>h_steam_out<span class="op">=</span><span class="dv">461368</span></span>
<span id="cb1-89"><a href="#cb1-89" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-90"><a href="#cb1-90" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-91"><a href="#cb1-91" aria-hidden="true" tabindex="-1"></a><span class="co">#DATAFRAMES</span></span>
<span id="cb1-92"><a href="#cb1-92" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-93"><a href="#cb1-93" aria-hidden="true" tabindex="-1"></a><span class="co"># Dataframe for Heat Flows</span></span>
<span id="cb1-94"><a href="#cb1-94" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-95"><a href="#cb1-95" aria-hidden="true" tabindex="-1"></a>Energy_flow <span class="op">=</span> <span class="st">'kJ/s'</span></span>
<span id="cb1-96"><a href="#cb1-96" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-97"><a href="#cb1-97" aria-hidden="true" tabindex="-1"></a>Variables_Names <span class="op">=</span> [<span class="st">'Refrigeration'</span>,<span class="st">'Past1'</span>,<span class="st">'Past2'</span>,<span class="st">'Past3'</span>,<span class="st">'Past4'</span>,<span class="st">'Past5'</span>,<span class="st">'Past6'</span>,<span class="st">'Past7'</span>]</span>
<span id="cb1-98"><a href="#cb1-98" aria-hidden="true" tabindex="-1"></a>Variables_Values <span class="op">=</span> np.divide([Q_refrigeration,Q_past1,Q_past2,Q_past3,Q_past4,Q_past5,Q_past6,Q_past7],<span class="dv">1000</span>)</span>
<span id="cb1-99"><a href="#cb1-99" aria-hidden="true" tabindex="-1"></a>Variables_Units <span class="op">=</span>  Energy_flow </span>
<span id="cb1-100"><a href="#cb1-100" aria-hidden="true" tabindex="-1"></a>df_pasteurization_heat_flow <span class="op">=</span> pd.DataFrame(data <span class="op">=</span> {<span class="st">'Heat Flow'</span>: Variables_Names, <span class="st">'Value'</span>:Variables_Values, <span class="st">'Unit'</span>: Variables_Units})</span>
<span id="cb1-101"><a href="#cb1-101" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-102"><a href="#cb1-102" aria-hidden="true" tabindex="-1"></a><span class="co"># Dataframe for Temperatures</span></span>
<span id="cb1-103"><a href="#cb1-103" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-104"><a href="#cb1-104" aria-hidden="true" tabindex="-1"></a>Temperature <span class="op">=</span> <span class="st">'°C'</span></span>
<span id="cb1-105"><a href="#cb1-105" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-106"><a href="#cb1-106" aria-hidden="true" tabindex="-1"></a>Temperatures_vector <span class="op">=</span> [T_a,T_fmilk,T_mixure_out,T_past_cent,T_milk_0,T_cream_0,T_past_a,T_past_b,T_past_c,T_past_d,T_milk,T_crpast_a,T_thick,T_crpast_x,T_crpast_b,T_crpast_c,T_cream,T_steam_in,T_steam_out,T_glywater_in,T_glywater_out]</span>
<span id="cb1-107"><a href="#cb1-107" aria-hidden="true" tabindex="-1"></a>to_celsius <span class="op">=</span> <span class="kw">lambda</span> t: t <span class="op">-</span> <span class="fl">273.15</span></span>
<span id="cb1-108"><a href="#cb1-108" aria-hidden="true" tabindex="-1"></a>Temperatures_vector <span class="op">=</span> np.array([to_celsius(x) <span class="cf">for</span> x <span class="kw">in</span> Temperatures_vector])</span>
<span id="cb1-109"><a href="#cb1-109" aria-hidden="true" tabindex="-1"></a>Variables_Names <span class="op">=</span> [<span class="st">'a'</span>,<span class="st">'fmilk'</span>,<span class="st">'mixure_out'</span>,<span class="st">'past_cent'</span>,<span class="st">'milk_0'</span>,<span class="st">'cream_0'</span>,<span class="st">'past_a'</span>,<span class="st">'past_b'</span>,<span class="st">'past_c'</span>,<span class="st">'past_d'</span>,<span class="st">'milk'</span>,<span class="st">'crpast_a'</span>,<span class="st">'thick'</span>,<span class="st">'crpast_x'</span>,<span class="st">'crpast_b'</span>,<span class="st">'crpast_c'</span>,<span class="st">'cream'</span>,<span class="st">'steam_in'</span>,<span class="st">'steam_out'</span>,<span class="st">'glywater_in'</span>,<span class="st">'glywater_out'</span>]</span>
<span id="cb1-110"><a href="#cb1-110" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-111"><a href="#cb1-111" aria-hidden="true" tabindex="-1"></a>Variables_Values <span class="op">=</span> Temperatures_vector</span>
<span id="cb1-112"><a href="#cb1-112" aria-hidden="true" tabindex="-1"></a>Variables_Units <span class="op">=</span>  Temperature </span>
<span id="cb1-113"><a href="#cb1-113" aria-hidden="true" tabindex="-1"></a>df_pasteurization_temperatures <span class="op">=</span> pd.DataFrame(data <span class="op">=</span> {<span class="st">'Temperature'</span>: Variables_Names, <span class="st">'Value'</span>:Variables_Values, <span class="st">'Unit'</span>: Variables_Units})</span>
<span id="cb1-114"><a href="#cb1-114" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-115"><a href="#cb1-115" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-116"><a href="#cb1-116" aria-hidden="true" tabindex="-1"></a><span class="co"># Dataframe for Mass Flows in the Pasteurisation</span></span>
<span id="cb1-117"><a href="#cb1-117" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-118"><a href="#cb1-118" aria-hidden="true" tabindex="-1"></a>Mass_flow <span class="op">=</span> <span class="st">'kg/s'</span></span>
<span id="cb1-119"><a href="#cb1-119" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-120"><a href="#cb1-120" aria-hidden="true" tabindex="-1"></a>Variables_Names <span class="op">=</span> [<span class="st">'fresh_milk'</span>,<span class="st">'milk'</span>,<span class="st">'cream'</span>,<span class="st">'intern = fresh_milk - milk'</span>,<span class="st">'thickener'</span>]</span>
<span id="cb1-121"><a href="#cb1-121" aria-hidden="true" tabindex="-1"></a>Variables_Values <span class="op">=</span> [m_fmilk,m_milk,m_cream,m_int,m_thick]</span>
<span id="cb1-122"><a href="#cb1-122" aria-hidden="true" tabindex="-1"></a>Variables_Units <span class="op">=</span>  Mass_flow </span>
<span id="cb1-123"><a href="#cb1-123" aria-hidden="true" tabindex="-1"></a>df_pasteurization_mf_in <span class="op">=</span> pd.DataFrame(data <span class="op">=</span> {<span class="st">'Mass Flow'</span>: Variables_Names, <span class="st">'Value'</span>:Variables_Values, <span class="st">'Unit'</span>: Variables_Units})</span>
<span id="cb1-124"><a href="#cb1-124" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-125"><a href="#cb1-125" aria-hidden="true" tabindex="-1"></a><span class="co"># Dataframe for Mass Flows for steam and glywater</span></span>
<span id="cb1-126"><a href="#cb1-126" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-127"><a href="#cb1-127" aria-hidden="true" tabindex="-1"></a>Mass_flow <span class="op">=</span> <span class="st">'kg/s'</span></span>
<span id="cb1-128"><a href="#cb1-128" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-129"><a href="#cb1-129" aria-hidden="true" tabindex="-1"></a>Variables_Names <span class="op">=</span> [<span class="st">'glywater in refrigeration'</span>,<span class="st">'steam in past3'</span>,<span class="st">'glywater in past4'</span>,<span class="st">'steam in past6'</span>,<span class="st">'glywater in past4'</span>]</span>
<span id="cb1-130"><a href="#cb1-130" aria-hidden="true" tabindex="-1"></a>Variables_Values <span class="op">=</span> [m_gly_ref,m_steam_past3,m_gly_past4,m_steam_past6,m_gly_past7 ]</span>
<span id="cb1-131"><a href="#cb1-131" aria-hidden="true" tabindex="-1"></a>Variables_Units <span class="op">=</span>  Mass_flow </span>
<span id="cb1-132"><a href="#cb1-132" aria-hidden="true" tabindex="-1"></a>df_pasteurization_mf_steam_gly <span class="op">=</span> pd.DataFrame(data <span class="op">=</span> {<span class="st">'Mass Flow'</span>: Variables_Names, <span class="st">'Value'</span>:Variables_Values, <span class="st">'Unit'</span>: Variables_Units})</span>
<span id="cb1-133"><a href="#cb1-133" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-134"><a href="#cb1-134" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-135"><a href="#cb1-135" aria-hidden="true" tabindex="-1"></a><span class="co"># Dataframe for Heat capacities (J/(kg.K))</span></span>
<span id="cb1-136"><a href="#cb1-136" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-137"><a href="#cb1-137" aria-hidden="true" tabindex="-1"></a>Heat_capacity <span class="op">=</span> <span class="st">'J/(kg.K)'</span></span>
<span id="cb1-138"><a href="#cb1-138" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-139"><a href="#cb1-139" aria-hidden="true" tabindex="-1"></a>Variables_Names <span class="op">=</span> [<span class="st">'alboline'</span>,<span class="st">'raw_milk'</span>,<span class="st">'cream'</span>,<span class="st">'glywater'</span>,<span class="st">'steam'</span>,<span class="st">'fmilk'</span>,<span class="st">'cream_mixed'</span>]</span>
<span id="cb1-140"><a href="#cb1-140" aria-hidden="true" tabindex="-1"></a>Variables_Values <span class="op">=</span> [Cp_alboline,Cp_raw_milk,Cp_cream,Cp_glywater,Cp_steam,Cp_fmilk,Cp_cream_mixed]</span>
<span id="cb1-141"><a href="#cb1-141" aria-hidden="true" tabindex="-1"></a>Variables_Units <span class="op">=</span>  Heat_capacity </span>
<span id="cb1-142"><a href="#cb1-142" aria-hidden="true" tabindex="-1"></a>df_pasteurization_heat_capacities <span class="op">=</span> pd.DataFrame(data <span class="op">=</span> {<span class="st">'Heat Capacity'</span>: Variables_Names, <span class="st">'Value'</span>:Variables_Values, <span class="st">'Unit'</span>: Variables_Units})</span>
<span id="cb1-143"><a href="#cb1-143" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-144"><a href="#cb1-144" aria-hidden="true" tabindex="-1"></a><span class="co"># Dataframe for entropy</span></span>
<span id="cb1-145"><a href="#cb1-145" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-146"><a href="#cb1-146" aria-hidden="true" tabindex="-1"></a>Specific_entropy <span class="op">=</span> <span class="st">'J/(kg.K)'</span></span>
<span id="cb1-147"><a href="#cb1-147" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-148"><a href="#cb1-148" aria-hidden="true" tabindex="-1"></a>Variables_Names <span class="op">=</span> [<span class="st">'delta_s_steam'</span>]</span>
<span id="cb1-149"><a href="#cb1-149" aria-hidden="true" tabindex="-1"></a>Variables_Values <span class="op">=</span> [delta_s_steam]</span>
<span id="cb1-150"><a href="#cb1-150" aria-hidden="true" tabindex="-1"></a>Variables_Units <span class="op">=</span>  Specific_entropy </span>
<span id="cb1-151"><a href="#cb1-151" aria-hidden="true" tabindex="-1"></a>df_pasteurization_entropy <span class="op">=</span> pd.DataFrame(data <span class="op">=</span> {<span class="st">'Specific Entropy'</span>: Variables_Names, <span class="st">'Value'</span>:Variables_Values, <span class="st">'Unit'</span>: Variables_Units})</span>
<span id="cb1-152"><a href="#cb1-152" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-153"><a href="#cb1-153" aria-hidden="true" tabindex="-1"></a><span class="co"># Dataframe for enthalpy</span></span>
<span id="cb1-154"><a href="#cb1-154" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-155"><a href="#cb1-155" aria-hidden="true" tabindex="-1"></a>Specific_enthalpy <span class="op">=</span> <span class="st">'J/(kg)'</span></span>
<span id="cb1-156"><a href="#cb1-156" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-157"><a href="#cb1-157" aria-hidden="true" tabindex="-1"></a>Variables_Names <span class="op">=</span> [<span class="st">'delta_h_steam'</span>]</span>
<span id="cb1-158"><a href="#cb1-158" aria-hidden="true" tabindex="-1"></a>Variables_Values <span class="op">=</span> [delta_h_steam]</span>
<span id="cb1-159"><a href="#cb1-159" aria-hidden="true" tabindex="-1"></a>Variables_Units <span class="op">=</span>  Specific_enthalpy </span>
<span id="cb1-160"><a href="#cb1-160" aria-hidden="true" tabindex="-1"></a>df_pasteurization_enthalpy <span class="op">=</span> pd.DataFrame(data <span class="op">=</span> {<span class="st">'Specific Enthalpy'</span>: Variables_Names, <span class="st">'Value'</span>:Variables_Values, <span class="st">'Unit'</span>: Variables_Units})</span>
<span id="cb1-161"><a href="#cb1-161" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-162"><a href="#cb1-162" aria-hidden="true" tabindex="-1"></a><span class="co">#HTML(df_pasteurization_heat_flow.to_html(index=False))</span></span>
<span id="cb1-163"><a href="#cb1-163" aria-hidden="true" tabindex="-1"></a><span class="co">#HTML(df_pasteurization_temperatures.to_html(index=False))</span></span>
<span id="cb1-164"><a href="#cb1-164" aria-hidden="true" tabindex="-1"></a><span class="co">#HTML(df_pasteurization_mf_in.to_html(index=False))</span></span>
<span id="cb1-165"><a href="#cb1-165" aria-hidden="true" tabindex="-1"></a><span class="co">#HTML(df_pasteurization_mf_steam_gly.to_html(index=False))</span></span>
<span id="cb1-166"><a href="#cb1-166" aria-hidden="true" tabindex="-1"></a><span class="co">#HTML(df_pasteurization_heat_capacities.to_html(index=False))</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</section>
<section id="results" class="level4" data-number="2.1.3.11">
<h4 data-number="2.1.3.11" class="anchored" data-anchor-id="results"><span class="header-section-number">2.1.3.11</span> Results</h4>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb2"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> pandas <span class="im">as</span> pd</span>
<span id="cb2-3"><a href="#cb2-3" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> numpy <span class="im">as</span> np</span>
<span id="cb2-4"><a href="#cb2-4" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> IPython.display <span class="im">import</span> display, HTML</span>
<span id="cb2-5"><a href="#cb2-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-6"><a href="#cb2-6" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> degree(x):</span>
<span id="cb2-7"><a href="#cb2-7" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> x <span class="op">+</span><span class="fl">273.15</span></span>
<span id="cb2-8"><a href="#cb2-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-9"><a href="#cb2-9" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> to_J(x):</span>
<span id="cb2-10"><a href="#cb2-10" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> x <span class="op">*</span><span class="dv">1000</span></span>
<span id="cb2-11"><a href="#cb2-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-12"><a href="#cb2-12" aria-hidden="true" tabindex="-1"></a>df_1_variable <span class="op">=</span> pd.DataFrame(data <span class="op">=</span> {<span class="st">'Variable'</span> : [<span class="st">'Q_refrigeration'</span>,<span class="st">'Q_past1'</span>,<span class="st">'Q_past2'</span>,<span class="st">'Q_past3'</span>,<span class="st">'Q_past4'</span>,<span class="st">'Q_past5'</span>,<span class="st">'Q_past6'</span>,<span class="st">'Q_past7'</span>]})</span>
<span id="cb2-13"><a href="#cb2-13" aria-hidden="true" tabindex="-1"></a>df_1_values <span class="op">=</span> df_pasteurization_heat_flow[<span class="st">'Value'</span>].<span class="bu">apply</span>(to_J)</span>
<span id="cb2-14"><a href="#cb2-14" aria-hidden="true" tabindex="-1"></a>df_1 <span class="op">=</span> pd.concat([df_1_variable,df_1_values], axis <span class="op">=</span> <span class="dv">1</span>)</span>
<span id="cb2-15"><a href="#cb2-15" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-16"><a href="#cb2-16" aria-hidden="true" tabindex="-1"></a>df_2_variable <span class="op">=</span> pd.DataFrame(data <span class="op">=</span> {<span class="st">'Variable'</span> : [<span class="st">'T_a'</span>,<span class="st">'T_fmilk'</span>,<span class="st">'T_mixure_out'</span>,<span class="st">'T_past_cent'</span>,<span class="st">'T_milk_0'</span>,<span class="st">'T_cream_0'</span>,<span class="st">'T_past_a'</span>,<span class="st">'T_past_b'</span>,<span class="st">'T_past_c'</span>,<span class="st">'T_past_d'</span>,<span class="st">'T_milk'</span>,<span class="st">'T_crpast_a'</span>,<span class="st">'T_thick'</span>,<span class="st">'T_crpast_x'</span>,<span class="st">'T_crpast_b'</span>,<span class="st">'T_crpast_c'</span>,<span class="st">'T_cream'</span>,<span class="st">'T_steam_in'</span>,<span class="st">'T_steam_out'</span>,<span class="st">'T_glywater_in'</span>,<span class="st">'T_glywater_out'</span>]})</span>
<span id="cb2-17"><a href="#cb2-17" aria-hidden="true" tabindex="-1"></a>df_2_values <span class="op">=</span> df_pasteurization_temperatures[<span class="st">'Value'</span>].<span class="bu">apply</span>(degree)</span>
<span id="cb2-18"><a href="#cb2-18" aria-hidden="true" tabindex="-1"></a>df_2 <span class="op">=</span> pd.concat([df_2_variable,df_2_values], axis <span class="op">=</span> <span class="dv">1</span>)</span>
<span id="cb2-19"><a href="#cb2-19" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-20"><a href="#cb2-20" aria-hidden="true" tabindex="-1"></a>df_3_variable <span class="op">=</span> pd.DataFrame(data <span class="op">=</span> {<span class="st">'Variable'</span> : [<span class="st">'m_fmilk'</span>,<span class="st">'m_milk'</span>,<span class="st">'m_cream'</span>,<span class="st">'m_int'</span>,<span class="st">'m_thick'</span>]})</span>
<span id="cb2-21"><a href="#cb2-21" aria-hidden="true" tabindex="-1"></a>df_3_values <span class="op">=</span> df_pasteurization_mf_in[<span class="st">'Value'</span>]</span>
<span id="cb2-22"><a href="#cb2-22" aria-hidden="true" tabindex="-1"></a>df_3 <span class="op">=</span> pd.concat([df_3_variable,df_3_values], axis <span class="op">=</span> <span class="dv">1</span>)</span>
<span id="cb2-23"><a href="#cb2-23" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-24"><a href="#cb2-24" aria-hidden="true" tabindex="-1"></a>df_4_variable <span class="op">=</span> pd.DataFrame(data <span class="op">=</span> {<span class="st">'Variable'</span> : [<span class="st">'m_gly_ref'</span>,<span class="st">'m_steam_past3'</span>,<span class="st">'m_gly_past4'</span>,<span class="st">'m_steam_past6'</span>,<span class="st">'m_gly_past7'</span>]})</span>
<span id="cb2-25"><a href="#cb2-25" aria-hidden="true" tabindex="-1"></a>df_4_values <span class="op">=</span> df_pasteurization_mf_steam_gly[<span class="st">'Value'</span>]</span>
<span id="cb2-26"><a href="#cb2-26" aria-hidden="true" tabindex="-1"></a>df_4 <span class="op">=</span> pd.concat([df_4_variable,df_4_values], axis <span class="op">=</span> <span class="dv">1</span>)</span>
<span id="cb2-27"><a href="#cb2-27" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-28"><a href="#cb2-28" aria-hidden="true" tabindex="-1"></a>df_5_variable <span class="op">=</span> pd.DataFrame(data <span class="op">=</span> {<span class="st">'Variable'</span> : [<span class="st">'Cp_alboline'</span>,<span class="st">'Cp_raw_milk'</span>,<span class="st">'Cp_cream'</span>,<span class="st">'Cp_glywater'</span>,<span class="st">'Cp_steam'</span>,<span class="st">'Cp_fmilk'</span>,<span class="st">'Cp_cream_mixed'</span>]})</span>
<span id="cb2-29"><a href="#cb2-29" aria-hidden="true" tabindex="-1"></a>df_5_values <span class="op">=</span> df_pasteurization_heat_capacities[<span class="st">'Value'</span>]</span>
<span id="cb2-30"><a href="#cb2-30" aria-hidden="true" tabindex="-1"></a>df_5 <span class="op">=</span> pd.concat([df_5_variable,df_5_values], axis <span class="op">=</span> <span class="dv">1</span>)</span>
<span id="cb2-31"><a href="#cb2-31" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-32"><a href="#cb2-32" aria-hidden="true" tabindex="-1"></a>df_6_variable <span class="op">=</span>  pd.DataFrame(data <span class="op">=</span> {<span class="st">'Variable'</span> : [<span class="st">'delta_s_steam'</span>]})</span>
<span id="cb2-33"><a href="#cb2-33" aria-hidden="true" tabindex="-1"></a>df_6_values <span class="op">=</span> df_pasteurization_entropy[<span class="st">'Value'</span>]</span>
<span id="cb2-34"><a href="#cb2-34" aria-hidden="true" tabindex="-1"></a>df_6 <span class="op">=</span> pd.concat([df_6_variable,df_6_values], axis <span class="op">=</span> <span class="dv">1</span>)</span>
<span id="cb2-35"><a href="#cb2-35" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-36"><a href="#cb2-36" aria-hidden="true" tabindex="-1"></a>df_7_variable <span class="op">=</span>  pd.DataFrame(data <span class="op">=</span> {<span class="st">'Variable'</span> : [<span class="st">'delta_h_steam'</span>]})</span>
<span id="cb2-37"><a href="#cb2-37" aria-hidden="true" tabindex="-1"></a>df_7_values <span class="op">=</span> df_pasteurization_enthalpy[<span class="st">'Value'</span>]</span>
<span id="cb2-38"><a href="#cb2-38" aria-hidden="true" tabindex="-1"></a>df_7 <span class="op">=</span> pd.concat([df_7_variable,df_7_values], axis <span class="op">=</span> <span class="dv">1</span>)</span>
<span id="cb2-39"><a href="#cb2-39" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-40"><a href="#cb2-40" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-41"><a href="#cb2-41" aria-hidden="true" tabindex="-1"></a>df_pasteurization_csv <span class="op">=</span> pd.concat([df_1,df_2,df_3,df_4,df_5,df_6,df_7], axis <span class="op">=</span> <span class="dv">0</span>, ignore_index <span class="op">=</span> <span class="va">True</span>)</span>
<span id="cb2-42"><a href="#cb2-42" aria-hidden="true" tabindex="-1"></a><span class="co">#df_pasteurization_csv = pd.concat([df_1,df_2,df_3,df_4,df_5], axis = 0, ignore_index = True)</span></span>
<span id="cb2-43"><a href="#cb2-43" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-44"><a href="#cb2-44" aria-hidden="true" tabindex="-1"></a>df_pasteurization_csv.to_csv(<span class="st">'pasteurization_process.csv'</span>,sep<span class="op">=</span><span class="st">';'</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb3"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> pandas <span class="im">as</span> pd</span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> numpy <span class="im">as</span> np</span>
<span id="cb3-3"><a href="#cb3-3" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> IPython.display <span class="im">import</span> display, HTML</span>
<span id="cb3-4"><a href="#cb3-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-5"><a href="#cb3-5" aria-hidden="true" tabindex="-1"></a>df_pasteurization_heat_flow <span class="op">=</span> df_pasteurization_heat_flow.<span class="bu">round</span>(<span class="dv">2</span>)</span>
<span id="cb3-6"><a href="#cb3-6" aria-hidden="true" tabindex="-1"></a>df_pasteurization_temperatures <span class="op">=</span> df_pasteurization_temperatures.<span class="bu">round</span>(<span class="dv">2</span>)</span>
<span id="cb3-7"><a href="#cb3-7" aria-hidden="true" tabindex="-1"></a>df_pasteurization_mf_steam_gly <span class="op">=</span> df_pasteurization_mf_steam_gly.<span class="bu">round</span>(<span class="dv">2</span>)</span>
<span id="cb3-8"><a href="#cb3-8" aria-hidden="true" tabindex="-1"></a>df_pasteurization_heat_capacities <span class="op">=</span> df_pasteurization_heat_capacities.<span class="bu">round</span>(<span class="dv">2</span>)</span>
<span id="cb3-9"><a href="#cb3-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-10"><a href="#cb3-10" aria-hidden="true" tabindex="-1"></a>HTML(df_pasteurization_heat_flow.to_html(index<span class="op">=</span><span class="va">False</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<table class="dataframe table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th">Heat Flow</th>
<th data-quarto-table-cell-role="th">Value</th>
<th data-quarto-table-cell-role="th">Unit</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>Refrigeration</td>
<td>60.42</td>
<td>kJ/s</td>
</tr>
<tr class="even">
<td>Past1</td>
<td>1691.65</td>
<td>kJ/s</td>
</tr>
<tr class="odd">
<td>Past2</td>
<td>142.88</td>
<td>kJ/s</td>
</tr>
<tr class="even">
<td>Past3</td>
<td>285.76</td>
<td>kJ/s</td>
</tr>
<tr class="odd">
<td>Past4</td>
<td>194.37</td>
<td>kJ/s</td>
</tr>
<tr class="even">
<td>Past5</td>
<td>17.52</td>
<td>kJ/s</td>
</tr>
<tr class="odd">
<td>Past6</td>
<td>35.61</td>
<td>kJ/s</td>
</tr>
<tr class="even">
<td>Past7</td>
<td>127.00</td>
<td>kJ/s</td>
</tr>
</tbody>
</table>
</div>
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb4"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a>HTML(df_pasteurization_temperatures.to_html(index<span class="op">=</span><span class="va">False</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<table class="dataframe table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th">Temperature</th>
<th data-quarto-table-cell-role="th">Value</th>
<th data-quarto-table-cell-role="th">Unit</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>a</td>
<td>25.00</td>
<td>°C</td>
</tr>
<tr class="even">
<td>fmilk</td>
<td>6.00</td>
<td>°C</td>
</tr>
<tr class="odd">
<td>mixure_out</td>
<td>4.00</td>
<td>°C</td>
</tr>
<tr class="even">
<td>past_cent</td>
<td>60.00</td>
<td>°C</td>
</tr>
<tr class="odd">
<td>milk_0</td>
<td>60.00</td>
<td>°C</td>
</tr>
<tr class="even">
<td>cream_0</td>
<td>60.00</td>
<td>°C</td>
</tr>
<tr class="odd">
<td>past_a</td>
<td>65.00</td>
<td>°C</td>
</tr>
<tr class="even">
<td>past_b</td>
<td>75.00</td>
<td>°C</td>
</tr>
<tr class="odd">
<td>past_c</td>
<td>70.00</td>
<td>°C</td>
</tr>
<tr class="even">
<td>past_d</td>
<td>10.80</td>
<td>°C</td>
</tr>
<tr class="odd">
<td>milk</td>
<td>4.00</td>
<td>°C</td>
</tr>
<tr class="even">
<td>crpast_a</td>
<td>65.90</td>
<td>°C</td>
</tr>
<tr class="odd">
<td>thick</td>
<td>4.00</td>
<td>°C</td>
</tr>
<tr class="even">
<td>crpast_x</td>
<td>56.49</td>
<td>°C</td>
</tr>
<tr class="odd">
<td>crpast_b</td>
<td>75.00</td>
<td>°C</td>
</tr>
<tr class="even">
<td>crpast_c</td>
<td>70.00</td>
<td>°C</td>
</tr>
<tr class="odd">
<td>cream</td>
<td>4.00</td>
<td>°C</td>
</tr>
<tr class="even">
<td>steam_in</td>
<td>207.34</td>
<td>°C</td>
</tr>
<tr class="odd">
<td>steam_out</td>
<td>110.00</td>
<td>°C</td>
</tr>
<tr class="even">
<td>glywater_in</td>
<td>-5.00</td>
<td>°C</td>
</tr>
<tr class="odd">
<td>glywater_out</td>
<td>-1.00</td>
<td>°C</td>
</tr>
</tbody>
</table>
</div>
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb5"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a>HTML(df_pasteurization_mf_in.to_html(index<span class="op">=</span><span class="va">False</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<table class="dataframe table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th">Mass Flow</th>
<th data-quarto-table-cell-role="th">Value</th>
<th data-quarto-table-cell-role="th">Unit</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>fresh_milk</td>
<td>8.00</td>
<td>kg/s</td>
</tr>
<tr class="even">
<td>milk</td>
<td>7.52</td>
<td>kg/s</td>
</tr>
<tr class="odd">
<td>cream</td>
<td>0.55</td>
<td>kg/s</td>
</tr>
<tr class="even">
<td>intern = fresh_milk - milk</td>
<td>0.48</td>
<td>kg/s</td>
</tr>
<tr class="odd">
<td>thickener</td>
<td>0.07</td>
<td>kg/s</td>
</tr>
</tbody>
</table>
</div>
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb6"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a>HTML(df_pasteurization_mf_steam_gly.to_html(index<span class="op">=</span><span class="va">False</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<table class="dataframe table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th">Mass Flow</th>
<th data-quarto-table-cell-role="th">Value</th>
<th data-quarto-table-cell-role="th">Unit</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>glywater in refrigeration</td>
<td>3.87</td>
<td>kg/s</td>
</tr>
<tr class="even">
<td>steam in past3</td>
<td>1.47</td>
<td>kg/s</td>
</tr>
<tr class="odd">
<td>glywater in past4</td>
<td>12.46</td>
<td>kg/s</td>
</tr>
<tr class="even">
<td>steam in past6</td>
<td>0.18</td>
<td>kg/s</td>
</tr>
<tr class="odd">
<td>glywater in past4</td>
<td>8.14</td>
<td>kg/s</td>
</tr>
</tbody>
</table>
</div>
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb7"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a>HTML(df_pasteurization_heat_capacities.to_html(index<span class="op">=</span><span class="va">False</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<table class="dataframe table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th">Heat Capacity</th>
<th data-quarto-table-cell-role="th">Value</th>
<th data-quarto-table-cell-role="th">Unit</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>alboline</td>
<td>4175.00</td>
<td>J/(kg.K)</td>
</tr>
<tr class="even">
<td>raw_milk</td>
<td>3800.00</td>
<td>J/(kg.K)</td>
</tr>
<tr class="odd">
<td>cream</td>
<td>3400.00</td>
<td>J/(kg.K)</td>
</tr>
<tr class="even">
<td>glywater</td>
<td>3900.00</td>
<td>J/(kg.K)</td>
</tr>
<tr class="odd">
<td>steam</td>
<td>1996.00</td>
<td>J/(kg.K)</td>
</tr>
<tr class="even">
<td>fmilk</td>
<td>3776.00</td>
<td>J/(kg.K)</td>
</tr>
<tr class="odd">
<td>cream_mixed</td>
<td>3498.64</td>
<td>J/(kg.K)</td>
</tr>
</tbody>
</table>
</div>
</div>
<!---



::: {.cell}

:::
::: {.cell}

```{.python .cell-code}
from CoolProp.CoolProp import PropsSI
rho = PropsSI('D', 'T', 298.15, 'P', 101325, 'Nitrogen')
```
:::

::: {.cell}

```{.r .cell-code}
# a way to pass the value from python to r is to through json file
library(reticulate)
x = 42
```
:::

-->
</section>
</section>
</section>
<section id="evaporation" class="level2" data-number="2.2">
<h2 data-number="2.2" class="anchored" data-anchor-id="evaporation"><span class="header-section-number">2.2</span> Evaporation</h2>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="Figures/evap.png" class="img-fluid figure-img"></p>
<figcaption class="figure-caption">Evaporation</figcaption>
</figure>
</div>
<p>The evaporator section receives milk from pasteurisation. This milk can be seen as a mixture of water and fat. The aim of this section is to increase the fat proportion from <span class="math inline">11.7\% wt.</span> to <span class="math inline">50\% wt.</span> by evaporating water. It is composed of heat-exchanger (HEX), 3 evaporators, 2 splitters and a processing module.</p>
<p>In order to compute the mass and energy balance at each point, the following method is used:</p>
<ol type="1">
<li>Compute the target mixture at the input and output of each evaporator, and the mass flow associated.</li>
<li>Compute the heating demand of each evaporator and the mass flow of steam needed.</li>
<li>Derive the mass flow of steam going from the evaporator, through the splitter, to the heat exchanger.</li>
<li>Compute the heating capacity of each HEX and find the possible temperature steps according to the HEX requirements.</li>
<li>Compute the Glycolic water needed to cool down the milk and the waste water from HEX.</li>
<li>Derive the amount of whey that can be extracted from the processing module.</li>
</ol>
<section id="mixture-at-each-evaporator" class="level3" data-number="2.2.1">
<h3 data-number="2.2.1" class="anchored" data-anchor-id="mixture-at-each-evaporator"><span class="header-section-number">2.2.1</span> Mixture at each Evaporator</h3>
<p>The mass flow <span class="math inline">m_1</span> is a given data and the mass flows <span class="math inline">m_{14}</span>, <span class="math inline">m_{15}</span> and <span class="math inline">m_{16}</span> are parameters that can be manually changed in order to get a reasonable system. Knowing those 4 mass flows and the target mixture, the fat content at each point can be computed by substracting water mass flows.</p>
<p>Given data:</p>
<ul>
<li><span class="math inline">m_1</span> = 5.0 kg/s</li>
<li>At point 11, Fat content = <span class="math inline">50\%wt.</span> and Water content = <span class="math inline">50\%wt.</span></li>
</ul>
<p>Assumptions:</p>
<ul>
<li><span class="math inline">m_{14}</span> = 1.6 kg/s ajusted by the user to limit the number of unknowns based on given values on our project description</li>
<li><span class="math inline">m_{15}</span> = 1.28 kg/s fixed by the user for the same reason</li>
<li><span class="math inline">m_{16}</span> = 0.8 kg/s fixed by the user for the same reason</li>
</ul>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb8"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> pandas <span class="im">as</span> pd</span>
<span id="cb8-2"><a href="#cb8-2" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> numpy <span class="im">as</span> np</span>
<span id="cb8-3"><a href="#cb8-3" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> IPython.display <span class="im">import</span> display, HTML</span>
<span id="cb8-4"><a href="#cb8-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-5"><a href="#cb8-5" aria-hidden="true" tabindex="-1"></a>m1<span class="op">=</span><span class="fl">5.0</span></span>
<span id="cb8-6"><a href="#cb8-6" aria-hidden="true" tabindex="-1"></a>m6<span class="op">=</span>m1</span>
<span id="cb8-7"><a href="#cb8-7" aria-hidden="true" tabindex="-1"></a>m14<span class="op">=</span><span class="fl">1.6</span></span>
<span id="cb8-8"><a href="#cb8-8" aria-hidden="true" tabindex="-1"></a>m15<span class="op">=</span><span class="fl">1.28</span></span>
<span id="cb8-9"><a href="#cb8-9" aria-hidden="true" tabindex="-1"></a>m16<span class="op">=</span><span class="fl">0.8</span></span>
<span id="cb8-10"><a href="#cb8-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-11"><a href="#cb8-11" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> fat_increase(m_int1, m_int2, m_int3, m_in <span class="op">=</span> <span class="fl">5.0</span>, p_fat_out3 <span class="op">=</span> <span class="fl">0.50</span>):</span>
<span id="cb8-12"><a href="#cb8-12" aria-hidden="true" tabindex="-1"></a>    m_out <span class="op">=</span> m_in <span class="op">-</span> m_int1 <span class="op">-</span> m_int2 <span class="op">-</span> m_int3</span>
<span id="cb8-13"><a href="#cb8-13" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span> m_out <span class="op">&lt;</span> <span class="dv">0</span>:</span>
<span id="cb8-14"><a href="#cb8-14" aria-hidden="true" tabindex="-1"></a>        <span class="bu">print</span>(<span class="st">"ERROR: The mass of the output is negative."</span>)</span>
<span id="cb8-15"><a href="#cb8-15" aria-hidden="true" tabindex="-1"></a>    <span class="co"># OUT 3</span></span>
<span id="cb8-16"><a href="#cb8-16" aria-hidden="true" tabindex="-1"></a>    p_water_out3 <span class="op">=</span> <span class="dv">1</span> <span class="op">-</span> p_fat_out3</span>
<span id="cb8-17"><a href="#cb8-17" aria-hidden="true" tabindex="-1"></a>    m_water_out3 <span class="op">=</span> m_out <span class="op">*</span> p_water_out3</span>
<span id="cb8-18"><a href="#cb8-18" aria-hidden="true" tabindex="-1"></a>    m_fat <span class="op">=</span> m_out <span class="op">*</span> p_fat_out3</span>
<span id="cb8-19"><a href="#cb8-19" aria-hidden="true" tabindex="-1"></a>    <span class="co"># OUT 2</span></span>
<span id="cb8-20"><a href="#cb8-20" aria-hidden="true" tabindex="-1"></a>    m_water_out2 <span class="op">=</span> m_water_out3 <span class="op">+</span> m_int3</span>
<span id="cb8-21"><a href="#cb8-21" aria-hidden="true" tabindex="-1"></a>    m_tot_2 <span class="op">=</span> m_water_out2 <span class="op">+</span> m_fat</span>
<span id="cb8-22"><a href="#cb8-22" aria-hidden="true" tabindex="-1"></a>    p_fat_out2 <span class="op">=</span> m_fat <span class="op">/</span> m_tot_2</span>
<span id="cb8-23"><a href="#cb8-23" aria-hidden="true" tabindex="-1"></a>    p_water_out2 <span class="op">=</span> <span class="dv">1</span> <span class="op">-</span> p_fat_out2</span>
<span id="cb8-24"><a href="#cb8-24" aria-hidden="true" tabindex="-1"></a>    <span class="co"># OUT 1</span></span>
<span id="cb8-25"><a href="#cb8-25" aria-hidden="true" tabindex="-1"></a>    m_water_out1 <span class="op">=</span> m_water_out2 <span class="op">+</span> m_int2</span>
<span id="cb8-26"><a href="#cb8-26" aria-hidden="true" tabindex="-1"></a>    m_tot_1 <span class="op">=</span> m_water_out1 <span class="op">+</span> m_fat</span>
<span id="cb8-27"><a href="#cb8-27" aria-hidden="true" tabindex="-1"></a>    p_fat_out1 <span class="op">=</span> m_fat <span class="op">/</span> m_tot_1</span>
<span id="cb8-28"><a href="#cb8-28" aria-hidden="true" tabindex="-1"></a>    p_water_out1 <span class="op">=</span> <span class="dv">1</span> <span class="op">-</span> p_fat_out1</span>
<span id="cb8-29"><a href="#cb8-29" aria-hidden="true" tabindex="-1"></a>    <span class="co"># OUT 0</span></span>
<span id="cb8-30"><a href="#cb8-30" aria-hidden="true" tabindex="-1"></a>    m_water_out0 <span class="op">=</span> m_water_out1 <span class="op">+</span> m_int1</span>
<span id="cb8-31"><a href="#cb8-31" aria-hidden="true" tabindex="-1"></a>    m_tot_0 <span class="op">=</span> m_water_out0 <span class="op">+</span> m_fat</span>
<span id="cb8-32"><a href="#cb8-32" aria-hidden="true" tabindex="-1"></a>    p_fat_out0 <span class="op">=</span> m_fat <span class="op">/</span> m_tot_0</span>
<span id="cb8-33"><a href="#cb8-33" aria-hidden="true" tabindex="-1"></a>    p_water_out0 <span class="op">=</span> <span class="dv">1</span> <span class="op">-</span> p_fat_out0</span>
<span id="cb8-34"><a href="#cb8-34" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span> p_water_out0 <span class="op">&gt;</span> <span class="fl">0.883</span>:</span>
<span id="cb8-35"><a href="#cb8-35" aria-hidden="true" tabindex="-1"></a>        <span class="bu">print</span>(<span class="st">"WARNING: The water content in the final product is too high."</span>)</span>
<span id="cb8-36"><a href="#cb8-36" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> m_out, p_fat_out0, p_fat_out1, p_fat_out2, p_fat_out3, p_water_out0, p_water_out1, p_water_out2, p_water_out3</span>
<span id="cb8-37"><a href="#cb8-37" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-38"><a href="#cb8-38" aria-hidden="true" tabindex="-1"></a>m11, p_fat_out0, p_fat_out1, p_fat_out2, p_fat_out3, p_water_out0, p_water_out1, p_water_out2, p_water_out3 <span class="op">=</span> fat_increase(m_int1<span class="op">=</span>m14, m_int2<span class="op">=</span>m15, m_int3<span class="op">=</span>m16, m_in <span class="op">=</span> m6, p_fat_out3 <span class="op">=</span> <span class="fl">0.5</span>)</span>
<span id="cb8-39"><a href="#cb8-39" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-40"><a href="#cb8-40" aria-hidden="true" tabindex="-1"></a>data <span class="op">=</span> {<span class="st">'Point'</span>: [<span class="st">'6'</span>, <span class="st">'7&amp;8'</span>, <span class="st">'9&amp;10'</span>, <span class="st">'11'</span>],</span>
<span id="cb8-41"><a href="#cb8-41" aria-hidden="true" tabindex="-1"></a>        <span class="st">'Fat content (%)'</span>: [p_fat_out0<span class="op">*</span><span class="dv">100</span>, p_fat_out1<span class="op">*</span><span class="dv">100</span>, p_fat_out2<span class="op">*</span><span class="dv">100</span>, p_fat_out3<span class="op">*</span><span class="dv">100</span>],</span>
<span id="cb8-42"><a href="#cb8-42" aria-hidden="true" tabindex="-1"></a>        <span class="st">'Water content (%)'</span>: [p_water_out0<span class="op">*</span><span class="dv">100</span>, p_water_out1<span class="op">*</span><span class="dv">100</span>, p_water_out2<span class="op">*</span><span class="dv">100</span>, p_water_out3<span class="op">*</span><span class="dv">100</span>]}</span>
<span id="cb8-43"><a href="#cb8-43" aria-hidden="true" tabindex="-1"></a>df <span class="op">=</span> pd.DataFrame(data)</span>
<span id="cb8-44"><a href="#cb8-44" aria-hidden="true" tabindex="-1"></a>df <span class="op">=</span> df.set_index(<span class="st">'Point'</span>)</span>
<span id="cb8-45"><a href="#cb8-45" aria-hidden="true" tabindex="-1"></a>df <span class="op">=</span> df.<span class="bu">round</span>(<span class="dv">2</span>)</span>
<span id="cb8-46"><a href="#cb8-46" aria-hidden="true" tabindex="-1"></a><span class="co">#print(df)</span></span>
<span id="cb8-47"><a href="#cb8-47" aria-hidden="true" tabindex="-1"></a>HTML(df.to_html())</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<table class="dataframe table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">Fat content (%)</th>
<th data-quarto-table-cell-role="th">Water content (%)</th>
</tr>
<tr class="odd">
<th data-quarto-table-cell-role="th">Point</th>
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th"></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">6</td>
<td>13.20</td>
<td>86.80</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">7&amp;8</td>
<td>19.41</td>
<td>80.59</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">9&amp;10</td>
<td>31.13</td>
<td>68.87</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">11</td>
<td>50.00</td>
<td>50.00</td>
</tr>
</tbody>
</table>
</div>
</div>
</section>
<section id="heating-demand-and-steam-flow-of-evaporators" class="level3" data-number="2.2.2">
<h3 data-number="2.2.2" class="anchored" data-anchor-id="heating-demand-and-steam-flow-of-evaporators"><span class="header-section-number">2.2.2</span> Heating Demand and Steam Flow of Evaporators</h3>
<p>Knowing the mass flow of each evaporator, the heating demand can be computed. The heating demand is the amount of heat needed to evaporate the water in the milk and is given by the following equation.</p>
<p><span id="eq-Qevap"><span class="math display">
Q_{\text{evap}} = m_{\text{in}} \cdot c_{p_{\text{in}}} \cdot \Delta T - m_{\text{in}} \cdot h_{\text{in}} + m_{\text{out1}} \cdot h_{\text{out1}} + m_{\text{out2}} \cdot h_{\text{out2}}
\tag{2.11}</span></span></p>
<p>Then, knowing the heat requirement, it is possible to derive the mass flow of steam that is needed to evaporate the water, assuming a pressure value.</p>
<p><span id="eq-mw"><span class="math display">
m_{\text{w}} = \frac{Q_{\text{evap}}}{h_{\text{fg}}}
\tag{2.12}</span></span></p>
<p>All the enthalpy, heat capacity and latent heat of vaporization are computed using the CoolProp library. The pressure of the steam is assumed.</p>
<p>Given/Known data:</p>
<ul>
<li>All the mixture mass flows, pressures and temperatures (either given or computed on previous section)</li>
</ul>
<p>Assumptions:</p>
<ul>
<li>Steam at point 22 is assumed to be 1 bar, at 373 K (saturated steam)</li>
<li>Perfect evaporator at constant temperatures and constant pressure</li>
</ul>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb9"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a><span class="co">#Evaporator 1</span></span>
<span id="cb9-2"><a href="#cb9-2" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> codes_01_energy_bill.coolprop_functions <span class="im">import</span> mixture</span>
<span id="cb9-3"><a href="#cb9-3" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> pyxosmose.state <span class="im">import</span> State</span>
<span id="cb9-4"><a href="#cb9-4" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> evaporator_fct(m_in,m_out1,m_out2,h_in,h_out1,h_out2,cp_in,deltaT,hfg):</span>
<span id="cb9-5"><a href="#cb9-5" aria-hidden="true" tabindex="-1"></a>    Q_evap <span class="op">=</span> m_in<span class="op">*</span>cp_in<span class="op">*</span>deltaT <span class="op">-</span> m_in<span class="op">*</span>h_in <span class="op">+</span> m_out1<span class="op">*</span>h_out1 <span class="op">+</span> m_out2<span class="op">*</span>h_out2</span>
<span id="cb9-6"><a href="#cb9-6" aria-hidden="true" tabindex="-1"></a>    m_w <span class="op">=</span> (Q_evap)<span class="op">/</span>(hfg)</span>
<span id="cb9-7"><a href="#cb9-7" aria-hidden="true" tabindex="-1"></a>    <span class="co">#print('Qevap:',Q_evap)</span></span>
<span id="cb9-8"><a href="#cb9-8" aria-hidden="true" tabindex="-1"></a>    <span class="co">#print('mw:',m_w)</span></span>
<span id="cb9-9"><a href="#cb9-9" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> Q_evap, m_w</span>
<span id="cb9-10"><a href="#cb9-10" aria-hidden="true" tabindex="-1"></a><span class="co">#Fixed Parameters </span></span>
<span id="cb9-11"><a href="#cb9-11" aria-hidden="true" tabindex="-1"></a>p6<span class="op">=</span><span class="dv">31000</span></span>
<span id="cb9-12"><a href="#cb9-12" aria-hidden="true" tabindex="-1"></a>p7<span class="op">=</span>p6</span>
<span id="cb9-13"><a href="#cb9-13" aria-hidden="true" tabindex="-1"></a>p14<span class="op">=</span>p6</span>
<span id="cb9-14"><a href="#cb9-14" aria-hidden="true" tabindex="-1"></a>p24<span class="op">=</span><span class="dv">100000</span></span>
<span id="cb9-15"><a href="#cb9-15" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-16"><a href="#cb9-16" aria-hidden="true" tabindex="-1"></a>T6<span class="op">=</span><span class="dv">343</span></span>
<span id="cb9-17"><a href="#cb9-17" aria-hidden="true" tabindex="-1"></a>T7<span class="op">=</span>T6</span>
<span id="cb9-18"><a href="#cb9-18" aria-hidden="true" tabindex="-1"></a>T14<span class="op">=</span><span class="dv">343</span></span>
<span id="cb9-19"><a href="#cb9-19" aria-hidden="true" tabindex="-1"></a>T24<span class="op">=</span><span class="dv">373</span> <span class="co">#can be changed if needed to reduce cost instead of having a high pressure</span></span>
<span id="cb9-20"><a href="#cb9-20" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-21"><a href="#cb9-21" aria-hidden="true" tabindex="-1"></a><span class="co">#Dependent Parameters</span></span>
<span id="cb9-22"><a href="#cb9-22" aria-hidden="true" tabindex="-1"></a>State_e6<span class="op">=</span>mixture(T<span class="op">=</span>T6, P<span class="op">=</span>p6, frac_water<span class="op">=</span>p_water_out0, frac_fat<span class="op">=</span>p_fat_out0) <span class="co"># this is a dictionary!!</span></span>
<span id="cb9-23"><a href="#cb9-23" aria-hidden="true" tabindex="-1"></a><span class="co">#print(State_e6)</span></span>
<span id="cb9-24"><a href="#cb9-24" aria-hidden="true" tabindex="-1"></a>h6<span class="op">=</span>State_e6[<span class="st">"enthalpy"</span>]</span>
<span id="cb9-25"><a href="#cb9-25" aria-hidden="true" tabindex="-1"></a>cp6<span class="op">=</span>State_e6[<span class="st">"cpmass"</span>]</span>
<span id="cb9-26"><a href="#cb9-26" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-27"><a href="#cb9-27" aria-hidden="true" tabindex="-1"></a>State_e7<span class="op">=</span>mixture(T<span class="op">=</span>T7, P<span class="op">=</span>p7, frac_water<span class="op">=</span>p_water_out1, frac_fat<span class="op">=</span>p_fat_out1) <span class="co"># this is a dictionary!!</span></span>
<span id="cb9-28"><a href="#cb9-28" aria-hidden="true" tabindex="-1"></a><span class="co">#print(State_e7)</span></span>
<span id="cb9-29"><a href="#cb9-29" aria-hidden="true" tabindex="-1"></a>h7<span class="op">=</span>State_e7[<span class="st">"enthalpy"</span>]</span>
<span id="cb9-30"><a href="#cb9-30" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-31"><a href="#cb9-31" aria-hidden="true" tabindex="-1"></a>Point_e14 <span class="op">=</span> State(pair<span class="op">=</span><span class="st">'TP'</span>, fluid<span class="op">=</span><span class="st">'water'</span>, temperature<span class="op">=</span>T14, pressure<span class="op">=</span>p14)</span>
<span id="cb9-32"><a href="#cb9-32" aria-hidden="true" tabindex="-1"></a><span class="co"># Then calculate the state using the State class method StateCalc</span></span>
<span id="cb9-33"><a href="#cb9-33" aria-hidden="true" tabindex="-1"></a>Point_e14.StateCalc()</span>
<span id="cb9-34"><a href="#cb9-34" aria-hidden="true" tabindex="-1"></a><span class="co"># And print the dictionary for revision</span></span>
<span id="cb9-35"><a href="#cb9-35" aria-hidden="true" tabindex="-1"></a>State_e14 <span class="op">=</span> Point_e14.__dict__ <span class="co"># Whole dictionary with properties</span></span>
<span id="cb9-36"><a href="#cb9-36" aria-hidden="true" tabindex="-1"></a>h14<span class="op">=</span>State_e14[<span class="st">"enthalpy"</span>]</span>
<span id="cb9-37"><a href="#cb9-37" aria-hidden="true" tabindex="-1"></a><span class="co">#print(h14)</span></span>
<span id="cb9-38"><a href="#cb9-38" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-39"><a href="#cb9-39" aria-hidden="true" tabindex="-1"></a>Point_e24 <span class="op">=</span> State(pair<span class="op">=</span><span class="st">'TP'</span>, fluid<span class="op">=</span><span class="st">'water'</span>, temperature<span class="op">=</span>T24, pressure<span class="op">=</span>p24)</span>
<span id="cb9-40"><a href="#cb9-40" aria-hidden="true" tabindex="-1"></a><span class="co"># Then calculate the state using the State class method StateCalc</span></span>
<span id="cb9-41"><a href="#cb9-41" aria-hidden="true" tabindex="-1"></a>Point_e24.StateCalc()</span>
<span id="cb9-42"><a href="#cb9-42" aria-hidden="true" tabindex="-1"></a><span class="co"># And print the dictionary for revision</span></span>
<span id="cb9-43"><a href="#cb9-43" aria-hidden="true" tabindex="-1"></a>State_e24 <span class="op">=</span> Point_e24.__dict__ <span class="co"># Whole dictionary with properties</span></span>
<span id="cb9-44"><a href="#cb9-44" aria-hidden="true" tabindex="-1"></a>hfg1<span class="op">=</span>State_e24[<span class="st">"enthalpy"</span>]</span>
<span id="cb9-45"><a href="#cb9-45" aria-hidden="true" tabindex="-1"></a><span class="co">#print(hfg1)</span></span>
<span id="cb9-46"><a href="#cb9-46" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-47"><a href="#cb9-47" aria-hidden="true" tabindex="-1"></a><span class="co">#Evap 1 calculation of heat </span></span>
<span id="cb9-48"><a href="#cb9-48" aria-hidden="true" tabindex="-1"></a>m7<span class="op">=</span>m6<span class="op">-</span>m14</span>
<span id="cb9-49"><a href="#cb9-49" aria-hidden="true" tabindex="-1"></a>deltaT<span class="op">=</span><span class="dv">5</span></span>
<span id="cb9-50"><a href="#cb9-50" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-51"><a href="#cb9-51" aria-hidden="true" tabindex="-1"></a>Q_evap1, m_w1 <span class="op">=</span> evaporator_fct(m6,m14,m7,h6,h14,h7,cp6,deltaT,hfg1)</span>
<span id="cb9-52"><a href="#cb9-52" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-53"><a href="#cb9-53" aria-hidden="true" tabindex="-1"></a><span class="co">#print(Q_evap1)</span></span>
<span id="cb9-54"><a href="#cb9-54" aria-hidden="true" tabindex="-1"></a><span class="co">#print(m_w1)</span></span>
<span id="cb9-55"><a href="#cb9-55" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-56"><a href="#cb9-56" aria-hidden="true" tabindex="-1"></a><span class="co">#Evaporator 2</span></span>
<span id="cb9-57"><a href="#cb9-57" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-58"><a href="#cb9-58" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> codes_01_energy_bill.coolprop_functions <span class="im">import</span> mixture</span>
<span id="cb9-59"><a href="#cb9-59" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-60"><a href="#cb9-60" aria-hidden="true" tabindex="-1"></a>p8<span class="op">=</span><span class="dv">25000</span></span>
<span id="cb9-61"><a href="#cb9-61" aria-hidden="true" tabindex="-1"></a>p9<span class="op">=</span>p8</span>
<span id="cb9-62"><a href="#cb9-62" aria-hidden="true" tabindex="-1"></a>p15<span class="op">=</span><span class="dv">25000</span></span>
<span id="cb9-63"><a href="#cb9-63" aria-hidden="true" tabindex="-1"></a>p17<span class="op">=</span>p14</span>
<span id="cb9-64"><a href="#cb9-64" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-65"><a href="#cb9-65" aria-hidden="true" tabindex="-1"></a>T8<span class="op">=</span><span class="dv">338</span></span>
<span id="cb9-66"><a href="#cb9-66" aria-hidden="true" tabindex="-1"></a>T9<span class="op">=</span>T8</span>
<span id="cb9-67"><a href="#cb9-67" aria-hidden="true" tabindex="-1"></a>T15<span class="op">=</span><span class="dv">338</span></span>
<span id="cb9-68"><a href="#cb9-68" aria-hidden="true" tabindex="-1"></a>T17<span class="op">=</span>T14</span>
<span id="cb9-69"><a href="#cb9-69" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-70"><a href="#cb9-70" aria-hidden="true" tabindex="-1"></a>State_e8<span class="op">=</span>mixture(T<span class="op">=</span>T8, P<span class="op">=</span>p8, frac_water<span class="op">=</span>p_water_out2, frac_fat<span class="op">=</span>p_fat_out2) <span class="co"># this is a dictionary!!</span></span>
<span id="cb9-71"><a href="#cb9-71" aria-hidden="true" tabindex="-1"></a><span class="co">#print(State_e8)</span></span>
<span id="cb9-72"><a href="#cb9-72" aria-hidden="true" tabindex="-1"></a>h8<span class="op">=</span>State_e8[<span class="st">"enthalpy"</span>]</span>
<span id="cb9-73"><a href="#cb9-73" aria-hidden="true" tabindex="-1"></a>cp8<span class="op">=</span>State_e8[<span class="st">"cpmass"</span>]</span>
<span id="cb9-74"><a href="#cb9-74" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-75"><a href="#cb9-75" aria-hidden="true" tabindex="-1"></a>State_e9<span class="op">=</span>mixture(T<span class="op">=</span>T9, P<span class="op">=</span>p9, frac_water<span class="op">=</span>p_water_out2, frac_fat<span class="op">=</span>p_fat_out2) <span class="co"># this is a dictionary!!</span></span>
<span id="cb9-76"><a href="#cb9-76" aria-hidden="true" tabindex="-1"></a><span class="co">#print(State_e9)</span></span>
<span id="cb9-77"><a href="#cb9-77" aria-hidden="true" tabindex="-1"></a>h9<span class="op">=</span>State_e9[<span class="st">"enthalpy"</span>]</span>
<span id="cb9-78"><a href="#cb9-78" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-79"><a href="#cb9-79" aria-hidden="true" tabindex="-1"></a>Point_e15 <span class="op">=</span> State(pair<span class="op">=</span><span class="st">'TP'</span>, fluid<span class="op">=</span><span class="st">'water'</span>, temperature<span class="op">=</span>T15, pressure<span class="op">=</span>p15)</span>
<span id="cb9-80"><a href="#cb9-80" aria-hidden="true" tabindex="-1"></a><span class="co"># Then calculate the state using the State class method StateCalc</span></span>
<span id="cb9-81"><a href="#cb9-81" aria-hidden="true" tabindex="-1"></a>Point_e15.StateCalc()</span>
<span id="cb9-82"><a href="#cb9-82" aria-hidden="true" tabindex="-1"></a><span class="co"># And print the dictionary for revision</span></span>
<span id="cb9-83"><a href="#cb9-83" aria-hidden="true" tabindex="-1"></a>State_e15 <span class="op">=</span> Point_e15.__dict__ <span class="co"># Whole dictionary with properties</span></span>
<span id="cb9-84"><a href="#cb9-84" aria-hidden="true" tabindex="-1"></a>h15<span class="op">=</span>State_e15[<span class="st">"enthalpy"</span>]</span>
<span id="cb9-85"><a href="#cb9-85" aria-hidden="true" tabindex="-1"></a><span class="co">#print(h15)</span></span>
<span id="cb9-86"><a href="#cb9-86" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-87"><a href="#cb9-87" aria-hidden="true" tabindex="-1"></a>Point_e17 <span class="op">=</span> State(pair<span class="op">=</span><span class="st">'TP'</span>, fluid<span class="op">=</span><span class="st">'water'</span>, temperature<span class="op">=</span>T17, pressure<span class="op">=</span>p17)</span>
<span id="cb9-88"><a href="#cb9-88" aria-hidden="true" tabindex="-1"></a><span class="co"># Then calculate the state using the State class method StateCalc</span></span>
<span id="cb9-89"><a href="#cb9-89" aria-hidden="true" tabindex="-1"></a>Point_e17.StateCalc()</span>
<span id="cb9-90"><a href="#cb9-90" aria-hidden="true" tabindex="-1"></a><span class="co"># And print the dictionary for revision</span></span>
<span id="cb9-91"><a href="#cb9-91" aria-hidden="true" tabindex="-1"></a>State_e17 <span class="op">=</span> Point_e17.__dict__ <span class="co"># Whole dictionary with properties</span></span>
<span id="cb9-92"><a href="#cb9-92" aria-hidden="true" tabindex="-1"></a>hfg2<span class="op">=</span>State_e17[<span class="st">"enthalpy"</span>]</span>
<span id="cb9-93"><a href="#cb9-93" aria-hidden="true" tabindex="-1"></a><span class="co">#print(hfg2)</span></span>
<span id="cb9-94"><a href="#cb9-94" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-95"><a href="#cb9-95" aria-hidden="true" tabindex="-1"></a>m8<span class="op">=</span>m7</span>
<span id="cb9-96"><a href="#cb9-96" aria-hidden="true" tabindex="-1"></a>m9<span class="op">=</span>m8<span class="op">-</span>m15</span>
<span id="cb9-97"><a href="#cb9-97" aria-hidden="true" tabindex="-1"></a>deltaT<span class="op">=</span><span class="dv">5</span></span>
<span id="cb9-98"><a href="#cb9-98" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-99"><a href="#cb9-99" aria-hidden="true" tabindex="-1"></a>Q_evap2, m_w2 <span class="op">=</span> evaporator_fct(m8,m15,m9,h8,h15,h9,cp8,deltaT,hfg2)</span>
<span id="cb9-100"><a href="#cb9-100" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-101"><a href="#cb9-101" aria-hidden="true" tabindex="-1"></a><span class="co">#print(Q_evap2)</span></span>
<span id="cb9-102"><a href="#cb9-102" aria-hidden="true" tabindex="-1"></a><span class="co">#print(m_w2)</span></span>
<span id="cb9-103"><a href="#cb9-103" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-104"><a href="#cb9-104" aria-hidden="true" tabindex="-1"></a><span class="co">#Evaporator 3</span></span>
<span id="cb9-105"><a href="#cb9-105" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-106"><a href="#cb9-106" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> codes_01_energy_bill.coolprop_functions <span class="im">import</span> mixture</span>
<span id="cb9-107"><a href="#cb9-107" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-108"><a href="#cb9-108" aria-hidden="true" tabindex="-1"></a>p10<span class="op">=</span><span class="dv">20000</span></span>
<span id="cb9-109"><a href="#cb9-109" aria-hidden="true" tabindex="-1"></a>p11<span class="op">=</span>p10</span>
<span id="cb9-110"><a href="#cb9-110" aria-hidden="true" tabindex="-1"></a>p15<span class="op">=</span><span class="dv">25000</span></span>
<span id="cb9-111"><a href="#cb9-111" aria-hidden="true" tabindex="-1"></a>p18<span class="op">=</span>p15</span>
<span id="cb9-112"><a href="#cb9-112" aria-hidden="true" tabindex="-1"></a>p16<span class="op">=</span><span class="dv">20000</span></span>
<span id="cb9-113"><a href="#cb9-113" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-114"><a href="#cb9-114" aria-hidden="true" tabindex="-1"></a>T10<span class="op">=</span><span class="dv">333</span></span>
<span id="cb9-115"><a href="#cb9-115" aria-hidden="true" tabindex="-1"></a>T11<span class="op">=</span>T10</span>
<span id="cb9-116"><a href="#cb9-116" aria-hidden="true" tabindex="-1"></a>T15<span class="op">=</span><span class="dv">338</span></span>
<span id="cb9-117"><a href="#cb9-117" aria-hidden="true" tabindex="-1"></a>T18<span class="op">=</span>T15</span>
<span id="cb9-118"><a href="#cb9-118" aria-hidden="true" tabindex="-1"></a>T16<span class="op">=</span><span class="dv">333</span></span>
<span id="cb9-119"><a href="#cb9-119" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-120"><a href="#cb9-120" aria-hidden="true" tabindex="-1"></a>State_e10<span class="op">=</span>mixture(T<span class="op">=</span>T10, P<span class="op">=</span>p10, frac_water<span class="op">=</span>p_water_out2, frac_fat<span class="op">=</span>p_fat_out2) <span class="co"># this is a dictionary!!</span></span>
<span id="cb9-121"><a href="#cb9-121" aria-hidden="true" tabindex="-1"></a><span class="co">#print(State_e10)</span></span>
<span id="cb9-122"><a href="#cb9-122" aria-hidden="true" tabindex="-1"></a>h10<span class="op">=</span>State_e10[<span class="st">"enthalpy"</span>]</span>
<span id="cb9-123"><a href="#cb9-123" aria-hidden="true" tabindex="-1"></a>cp10<span class="op">=</span>State_e10[<span class="st">"cpmass"</span>]</span>
<span id="cb9-124"><a href="#cb9-124" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-125"><a href="#cb9-125" aria-hidden="true" tabindex="-1"></a>State_e11<span class="op">=</span>mixture(T<span class="op">=</span>T11, P<span class="op">=</span>p11, frac_water<span class="op">=</span>p_water_out3, frac_fat<span class="op">=</span>p_fat_out3) <span class="co"># this is a dictionary!!</span></span>
<span id="cb9-126"><a href="#cb9-126" aria-hidden="true" tabindex="-1"></a><span class="co">#print(State_e11)</span></span>
<span id="cb9-127"><a href="#cb9-127" aria-hidden="true" tabindex="-1"></a>h11<span class="op">=</span>State_e11[<span class="st">"enthalpy"</span>]</span>
<span id="cb9-128"><a href="#cb9-128" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-129"><a href="#cb9-129" aria-hidden="true" tabindex="-1"></a>Point_e16 <span class="op">=</span> State(pair<span class="op">=</span><span class="st">'TP'</span>, fluid<span class="op">=</span><span class="st">'water'</span>, temperature<span class="op">=</span>T16, pressure<span class="op">=</span>p16)</span>
<span id="cb9-130"><a href="#cb9-130" aria-hidden="true" tabindex="-1"></a><span class="co"># Then calculate the state using the State class method StateCalc</span></span>
<span id="cb9-131"><a href="#cb9-131" aria-hidden="true" tabindex="-1"></a>Point_e16.StateCalc()</span>
<span id="cb9-132"><a href="#cb9-132" aria-hidden="true" tabindex="-1"></a><span class="co"># And print the dictionary for revision</span></span>
<span id="cb9-133"><a href="#cb9-133" aria-hidden="true" tabindex="-1"></a>State_e16 <span class="op">=</span> Point_e16.__dict__ <span class="co"># Whole dictionary with properties</span></span>
<span id="cb9-134"><a href="#cb9-134" aria-hidden="true" tabindex="-1"></a>h16<span class="op">=</span>State_e16[<span class="st">"enthalpy"</span>]</span>
<span id="cb9-135"><a href="#cb9-135" aria-hidden="true" tabindex="-1"></a><span class="co">#print(h16)</span></span>
<span id="cb9-136"><a href="#cb9-136" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-137"><a href="#cb9-137" aria-hidden="true" tabindex="-1"></a>Point_e18 <span class="op">=</span> State(pair<span class="op">=</span><span class="st">'TP'</span>, fluid<span class="op">=</span><span class="st">'water'</span>, temperature<span class="op">=</span>T18, pressure<span class="op">=</span>p18)</span>
<span id="cb9-138"><a href="#cb9-138" aria-hidden="true" tabindex="-1"></a><span class="co"># Then calculate the state using the State class method StateCalc</span></span>
<span id="cb9-139"><a href="#cb9-139" aria-hidden="true" tabindex="-1"></a>Point_e18.StateCalc()</span>
<span id="cb9-140"><a href="#cb9-140" aria-hidden="true" tabindex="-1"></a><span class="co"># And print the dictionary for revision</span></span>
<span id="cb9-141"><a href="#cb9-141" aria-hidden="true" tabindex="-1"></a>State_e18 <span class="op">=</span> Point_e18.__dict__ <span class="co"># Whole dictionary with properties</span></span>
<span id="cb9-142"><a href="#cb9-142" aria-hidden="true" tabindex="-1"></a>hfg3<span class="op">=</span>State_e18[<span class="st">"enthalpy"</span>]</span>
<span id="cb9-143"><a href="#cb9-143" aria-hidden="true" tabindex="-1"></a><span class="co">#print(hfg3)</span></span>
<span id="cb9-144"><a href="#cb9-144" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-145"><a href="#cb9-145" aria-hidden="true" tabindex="-1"></a>m10<span class="op">=</span>m9</span>
<span id="cb9-146"><a href="#cb9-146" aria-hidden="true" tabindex="-1"></a>m11<span class="op">=</span>m10<span class="op">-</span>m16</span>
<span id="cb9-147"><a href="#cb9-147" aria-hidden="true" tabindex="-1"></a>deltaT<span class="op">=</span><span class="dv">5</span></span>
<span id="cb9-148"><a href="#cb9-148" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-149"><a href="#cb9-149" aria-hidden="true" tabindex="-1"></a>Q_evap3, m_w3 <span class="op">=</span> evaporator_fct(m10,m16,m11,h10,h16,h11,cp10,deltaT,hfg3)</span>
<span id="cb9-150"><a href="#cb9-150" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-151"><a href="#cb9-151" aria-hidden="true" tabindex="-1"></a>m17<span class="op">=</span>m_w2</span>
<span id="cb9-152"><a href="#cb9-152" aria-hidden="true" tabindex="-1"></a>m18<span class="op">=</span>m_w3</span>
<span id="cb9-153"><a href="#cb9-153" aria-hidden="true" tabindex="-1"></a>m24<span class="op">=</span>m_w1</span>
<span id="cb9-154"><a href="#cb9-154" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-155"><a href="#cb9-155" aria-hidden="true" tabindex="-1"></a><span class="co">#print(Q_evap3)</span></span>
<span id="cb9-156"><a href="#cb9-156" aria-hidden="true" tabindex="-1"></a><span class="co">#print(m_w3)</span></span>
<span id="cb9-157"><a href="#cb9-157" aria-hidden="true" tabindex="-1"></a><span class="co"># print mass flow, temperature, preasure for the points 6, 7, 8, 9, 10, 11, 14, 15, 16, 17, 18 in a dataframe</span></span>
<span id="cb9-158"><a href="#cb9-158" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-159"><a href="#cb9-159" aria-hidden="true" tabindex="-1"></a>data <span class="op">=</span> {<span class="st">'Point'</span>: [<span class="st">'6'</span>, <span class="st">'7'</span>, <span class="st">'8'</span>, <span class="st">'9'</span>, <span class="st">'10'</span>, <span class="st">'11'</span>, <span class="st">'14'</span>, <span class="st">'15'</span>, <span class="st">'16'</span>, <span class="st">'17'</span>, <span class="st">'18'</span>, <span class="st">'24'</span>],</span>
<span id="cb9-160"><a href="#cb9-160" aria-hidden="true" tabindex="-1"></a>        <span class="st">'Mass flow (kg/s)'</span>: [m6, m7, m8, m9, m10, m11, m14, m15, m16, m17, m18, m24],</span>
<span id="cb9-161"><a href="#cb9-161" aria-hidden="true" tabindex="-1"></a>        <span class="st">'Temperature (K)'</span>: [T6, T7, T8, T9, T10, T11, T14, T15, T16, T17, T18, T24],</span>
<span id="cb9-162"><a href="#cb9-162" aria-hidden="true" tabindex="-1"></a>        <span class="st">'Pressure (Pa)'</span>: [p6, p7, p8, p9, p10, p11, p14, p15, p16, p17, p18, p24]}</span>
<span id="cb9-163"><a href="#cb9-163" aria-hidden="true" tabindex="-1"></a>df <span class="op">=</span> pd.DataFrame(data)</span>
<span id="cb9-164"><a href="#cb9-164" aria-hidden="true" tabindex="-1"></a>df <span class="op">=</span> df.set_index(<span class="st">'Point'</span>)</span>
<span id="cb9-165"><a href="#cb9-165" aria-hidden="true" tabindex="-1"></a>df <span class="op">=</span> df.<span class="bu">round</span>(<span class="dv">4</span>)</span>
<span id="cb9-166"><a href="#cb9-166" aria-hidden="true" tabindex="-1"></a>HTML(df.to_html())</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<table class="dataframe table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">Mass flow (kg/s)</th>
<th data-quarto-table-cell-role="th">Temperature (K)</th>
<th data-quarto-table-cell-role="th">Pressure (Pa)</th>
</tr>
<tr class="odd">
<th data-quarto-table-cell-role="th">Point</th>
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th"></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">6</td>
<td>5.0000</td>
<td>343</td>
<td>31000</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">7</td>
<td>3.4000</td>
<td>343</td>
<td>31000</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">8</td>
<td>3.4000</td>
<td>338</td>
<td>25000</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">9</td>
<td>2.1200</td>
<td>338</td>
<td>25000</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">10</td>
<td>2.1200</td>
<td>333</td>
<td>20000</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">11</td>
<td>1.3200</td>
<td>333</td>
<td>20000</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">14</td>
<td>1.6000</td>
<td>343</td>
<td>31000</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">15</td>
<td>1.2800</td>
<td>338</td>
<td>25000</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">16</td>
<td>0.8000</td>
<td>333</td>
<td>20000</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">17</td>
<td>1.5505</td>
<td>343</td>
<td>31000</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">18</td>
<td>0.1386</td>
<td>338</td>
<td>25000</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">24</td>
<td>0.0366</td>
<td>373</td>
<td>100000</td>
</tr>
</tbody>
</table>
</div>
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb10"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a><span class="co">#print in a data frame the heat demand of each evaporator</span></span>
<span id="cb10-2"><a href="#cb10-2" aria-hidden="true" tabindex="-1"></a>data <span class="op">=</span> {<span class="st">'Evaporator'</span>: [<span class="st">'1'</span>, <span class="st">'2'</span>, <span class="st">'3'</span>],</span>
<span id="cb10-3"><a href="#cb10-3" aria-hidden="true" tabindex="-1"></a>        <span class="st">'Heat demand (W)'</span>: [Q_evap1, Q_evap2, Q_evap3]}</span>
<span id="cb10-4"><a href="#cb10-4" aria-hidden="true" tabindex="-1"></a>df <span class="op">=</span> pd.DataFrame(data)</span>
<span id="cb10-5"><a href="#cb10-5" aria-hidden="true" tabindex="-1"></a>df <span class="op">=</span> df.set_index(<span class="st">'Evaporator'</span>)</span>
<span id="cb10-6"><a href="#cb10-6" aria-hidden="true" tabindex="-1"></a>df <span class="op">=</span> df.<span class="bu">round</span>(<span class="dv">4</span>)</span>
<span id="cb10-7"><a href="#cb10-7" aria-hidden="true" tabindex="-1"></a>HTML(df.to_html())</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<table class="dataframe table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">Heat demand (W)</th>
</tr>
<tr class="odd">
<th data-quarto-table-cell-role="th">Evaporator</th>
<th data-quarto-table-cell-role="th"></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">1</td>
<td>98038.8718</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">2</td>
<td>453437.0884</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">3</td>
<td>37624.9694</td>
</tr>
</tbody>
</table>
</div>
</div>
</section>
<section id="steam-flow-to-hex" class="level3" data-number="2.2.3">
<h3 data-number="2.2.3" class="anchored" data-anchor-id="steam-flow-to-hex"><span class="header-section-number">2.2.3</span> Steam Flow to HEX</h3>
<p>From previous sections, <span class="math inline">m_{14}</span>, <span class="math inline">m_{15}</span>, <span class="math inline">m_{16}</span>, <span class="math inline">m_{17}</span>, and <span class="math inline">m_{18}</span> are known. The mass flow of steam going through the HEX4, HEX3 can be computed using the following equation, corresponding to the ideal splitter:</p>
<p><span id="eq-msteamHEX"><span class="math display">
m_{\text{steam,HEX}} = m_{\text{in}} - m_{\text{steam,evap}}
\tag{2.13}</span></span></p>
<p>The steam mass flow through HEX2 and HEX1 are known ; <span class="math inline">m_{16}</span> and <span class="math inline">m_{11}</span> respectively.</p>
<p>Known data:</p>
<ul>
<li><span class="math inline">m_{14}</span>, <span class="math inline">m_{15}</span>, <span class="math inline">m_{16}</span>, <span class="math inline">m_{17}</span>, and <span class="math inline">m_{18}</span></li>
</ul>
<p>Assumptions:</p>
<ul>
<li>Perfect splitter</li>
</ul>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb11"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a>m19<span class="op">=</span>m14<span class="op">-</span>m_w2</span>
<span id="cb11-2"><a href="#cb11-2" aria-hidden="true" tabindex="-1"></a>m20<span class="op">=</span>m15<span class="op">-</span>m_w3</span>
<span id="cb11-3"><a href="#cb11-3" aria-hidden="true" tabindex="-1"></a><span class="co">#print(' mHEX4 = m19 = ', m19, '\n', 'mHEX3 = m20 = ', m20, '\n', 'mHEX2 = m16 = ', m16, '\n', 'mHEX1 = m11 = ', m11, '\n',)</span></span>
<span id="cb11-4"><a href="#cb11-4" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="ss">f'mHEX4 = m19 = </span><span class="sc">{</span>m19<span class="sc">:.3f}</span><span class="ss"> (kg/s)</span><span class="ch">\n</span><span class="ss">'</span></span>
<span id="cb11-5"><a href="#cb11-5" aria-hidden="true" tabindex="-1"></a>      <span class="ss">f'mHEX3 = m20 = </span><span class="sc">{</span>m20<span class="sc">:.3f}</span><span class="ss"> (kg/s)</span><span class="ch">\n</span><span class="ss">'</span></span>
<span id="cb11-6"><a href="#cb11-6" aria-hidden="true" tabindex="-1"></a>      <span class="ss">f'mHEX2 = m16 = </span><span class="sc">{</span>m16<span class="sc">:.3f}</span><span class="ss"> (kg/s)</span><span class="ch">\n</span><span class="ss">'</span></span>
<span id="cb11-7"><a href="#cb11-7" aria-hidden="true" tabindex="-1"></a>      <span class="ss">f'mHEX1 = m11 = </span><span class="sc">{</span>m11<span class="sc">:.3f}</span><span class="ss"> (kg/s)</span><span class="ch">\n</span><span class="ss">'</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>mHEX4 = m19 = 0.049 (kg/s)
mHEX3 = m20 = 1.141 (kg/s)
mHEX2 = m16 = 0.800 (kg/s)
mHEX1 = m11 = 1.320 (kg/s)</code></pre>
</div>
</div>
</section>
<section id="hex-heat-demand-and-temperature-steps" class="level3" data-number="2.2.4">
<h3 data-number="2.2.4" class="anchored" data-anchor-id="hex-heat-demand-and-temperature-steps"><span class="header-section-number">2.2.4</span> HEX Heat Demand and Temperature Steps</h3>
<p>Before doing any calculation, it is noticeable that <span class="math inline">m_{19}</span>, i.e.&nbsp;the hot flow through HEX4, is very small. The heating capacity is therefore too small to ensure the required heating. In order to reduce the cost of the system, it is preferable to remove HEX4. To compute the temperature steps and the heating capacity, the following method is used: fatincreasedef - Assume some temperature steps between the 3 HEX. - Compute the heating capacity of each HEX, by being aware that <span class="math inline">T_{\text{hot,out}} \geq T_{\text{cold,in}}</span> condition is satisfied. - Adapt the temperature steps with the heating capacity of each HEX, to satisfy the previous condition.</p>
<p>The following function is used to know the heating capacity of each HEX:</p>
<pre><code>def HeatExchanger(mcold, cpcold, Tcoldin, Tcoldout, Thotin, cphot, mhot, hhot):
    Q = mcold * cpcold * (Tcoldout - Tcoldin)
    Qcond = mhot * abs(hhot)
    if Qcond &lt; Q:
        #print("Cold stream is completely condensed")
        Thotout = (-Q + mhot * abs(hhot)) / (mhot * cphot) + Thotin
    else:
        #print("Cold stream is not completely condensed")
        Thotout = Thotin
    return Q, Thotout</code></pre>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb14"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb14-1"><a href="#cb14-1" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> HeatExchanger(mcold, cpcold, Tcoldin, Tcoldout, Thotin, cphot, mhot, hhot):</span>
<span id="cb14-2"><a href="#cb14-2" aria-hidden="true" tabindex="-1"></a>    Q <span class="op">=</span> mcold<span class="op">*</span>cpcold<span class="op">*</span>(Tcoldout<span class="op">-</span>Tcoldin)</span>
<span id="cb14-3"><a href="#cb14-3" aria-hidden="true" tabindex="-1"></a>    Qcond <span class="op">=</span> mhot<span class="op">*</span><span class="bu">abs</span>(hhot)</span>
<span id="cb14-4"><a href="#cb14-4" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span> Qcond<span class="op">&lt;</span>Q:</span>
<span id="cb14-5"><a href="#cb14-5" aria-hidden="true" tabindex="-1"></a>        <span class="co">#print("Cold stream is completely condensed")</span></span>
<span id="cb14-6"><a href="#cb14-6" aria-hidden="true" tabindex="-1"></a>        Thotout <span class="op">=</span> (<span class="op">-</span>Q<span class="op">+</span>mhot<span class="op">*</span><span class="bu">abs</span>(hhot))<span class="op">/</span>(mhot<span class="op">*</span>cphot) <span class="op">+</span> Thotin</span>
<span id="cb14-7"><a href="#cb14-7" aria-hidden="true" tabindex="-1"></a>    <span class="cf">else</span>:</span>
<span id="cb14-8"><a href="#cb14-8" aria-hidden="true" tabindex="-1"></a>        <span class="co">#print("Cold stream is not completely condensed")</span></span>
<span id="cb14-9"><a href="#cb14-9" aria-hidden="true" tabindex="-1"></a>        Thotout <span class="op">=</span> Thotin</span>
<span id="cb14-10"><a href="#cb14-10" aria-hidden="true" tabindex="-1"></a>    <span class="co">#print('Q_cond:', Qcond, 'W')</span></span>
<span id="cb14-11"><a href="#cb14-11" aria-hidden="true" tabindex="-1"></a>    <span class="co">#print('Q_HEX:', Q, 'W')</span></span>
<span id="cb14-12"><a href="#cb14-12" aria-hidden="true" tabindex="-1"></a>    <span class="co">#print('T_cold_in:', Tcoldin, 'K')</span></span>
<span id="cb14-13"><a href="#cb14-13" aria-hidden="true" tabindex="-1"></a>    <span class="co">#print('T_cold_out:', Tcoldout, 'K')</span></span>
<span id="cb14-14"><a href="#cb14-14" aria-hidden="true" tabindex="-1"></a>    <span class="co">#print('T_hot_in:', Thotin, 'K')</span></span>
<span id="cb14-15"><a href="#cb14-15" aria-hidden="true" tabindex="-1"></a>    <span class="co">#print('T_hot_out:', Thotout, 'K')</span></span>
<span id="cb14-16"><a href="#cb14-16" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> Q, Thotout</span>
<span id="cb14-17"><a href="#cb14-17" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb14-18"><a href="#cb14-18" aria-hidden="true" tabindex="-1"></a><span class="co"># Heat Exchanger 4</span></span>
<span id="cb14-19"><a href="#cb14-19" aria-hidden="true" tabindex="-1"></a><span class="co"># Calculation can be done but the module is not used</span></span>
<span id="cb14-20"><a href="#cb14-20" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb14-21"><a href="#cb14-21" aria-hidden="true" tabindex="-1"></a>T4<span class="op">=</span><span class="dv">338</span></span>
<span id="cb14-22"><a href="#cb14-22" aria-hidden="true" tabindex="-1"></a>T5<span class="op">=</span>T4</span>
<span id="cb14-23"><a href="#cb14-23" aria-hidden="true" tabindex="-1"></a>T19<span class="op">=</span>T14</span>
<span id="cb14-24"><a href="#cb14-24" aria-hidden="true" tabindex="-1"></a>p4<span class="op">=</span><span class="dv">100000</span></span>
<span id="cb14-25"><a href="#cb14-25" aria-hidden="true" tabindex="-1"></a>State_e4<span class="op">=</span>mixture(T<span class="op">=</span>T4, P<span class="op">=</span>p4, frac_water<span class="op">=</span>p_water_out0, frac_fat<span class="op">=</span>p_fat_out0) <span class="co"># this is a dictionary!!</span></span>
<span id="cb14-26"><a href="#cb14-26" aria-hidden="true" tabindex="-1"></a>cp4<span class="op">=</span>State_e4[<span class="st">"cpmass"</span>]</span>
<span id="cb14-27"><a href="#cb14-27" aria-hidden="true" tabindex="-1"></a>m5<span class="op">=</span>m1</span>
<span id="cb14-28"><a href="#cb14-28" aria-hidden="true" tabindex="-1"></a>m19<span class="op">=</span>m14<span class="op">-</span>m_w2</span>
<span id="cb14-29"><a href="#cb14-29" aria-hidden="true" tabindex="-1"></a>p19<span class="op">=</span>p6</span>
<span id="cb14-30"><a href="#cb14-30" aria-hidden="true" tabindex="-1"></a>Point_e19 <span class="op">=</span> State(pair<span class="op">=</span><span class="st">'TP'</span>, fluid<span class="op">=</span><span class="st">'water'</span>, temperature<span class="op">=</span>T19, pressure<span class="op">=</span>p19)</span>
<span id="cb14-31"><a href="#cb14-31" aria-hidden="true" tabindex="-1"></a><span class="co"># Then calculate the state using the State class method StateCalc</span></span>
<span id="cb14-32"><a href="#cb14-32" aria-hidden="true" tabindex="-1"></a>Point_e19.StateCalc()</span>
<span id="cb14-33"><a href="#cb14-33" aria-hidden="true" tabindex="-1"></a><span class="co"># And print the dictionary for revision</span></span>
<span id="cb14-34"><a href="#cb14-34" aria-hidden="true" tabindex="-1"></a>State_e19 <span class="op">=</span> Point_e19.__dict__ <span class="co"># Whole dictionary with properties</span></span>
<span id="cb14-35"><a href="#cb14-35" aria-hidden="true" tabindex="-1"></a>h19<span class="op">=</span>State_e19[<span class="st">"enthalpy"</span>]</span>
<span id="cb14-36"><a href="#cb14-36" aria-hidden="true" tabindex="-1"></a>cp19<span class="op">=</span>State_e19[<span class="st">"cpmass"</span>]</span>
<span id="cb14-37"><a href="#cb14-37" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb14-38"><a href="#cb14-38" aria-hidden="true" tabindex="-1"></a>Q4, Thot4 <span class="op">=</span> HeatExchanger(m5, cp4, T4, T5, T19, cp19, m19, h19)</span>
<span id="cb14-39"><a href="#cb14-39" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb14-40"><a href="#cb14-40" aria-hidden="true" tabindex="-1"></a><span class="co">#Heat Exchanger 3</span></span>
<span id="cb14-41"><a href="#cb14-41" aria-hidden="true" tabindex="-1"></a>T3<span class="op">=</span><span class="fl">317.5</span></span>
<span id="cb14-42"><a href="#cb14-42" aria-hidden="true" tabindex="-1"></a>T20<span class="op">=</span>T15</span>
<span id="cb14-43"><a href="#cb14-43" aria-hidden="true" tabindex="-1"></a>m4<span class="op">=</span>m1</span>
<span id="cb14-44"><a href="#cb14-44" aria-hidden="true" tabindex="-1"></a>m20<span class="op">=</span>m15<span class="op">-</span>m_w3</span>
<span id="cb14-45"><a href="#cb14-45" aria-hidden="true" tabindex="-1"></a>p20<span class="op">=</span>p8</span>
<span id="cb14-46"><a href="#cb14-46" aria-hidden="true" tabindex="-1"></a>p3<span class="op">=</span>p4</span>
<span id="cb14-47"><a href="#cb14-47" aria-hidden="true" tabindex="-1"></a>State_e3<span class="op">=</span>mixture(T<span class="op">=</span>T3, P<span class="op">=</span>p3, frac_water<span class="op">=</span>p_water_out0, frac_fat<span class="op">=</span>p_fat_out0) <span class="co"># this is a dictionary!!</span></span>
<span id="cb14-48"><a href="#cb14-48" aria-hidden="true" tabindex="-1"></a>cp3<span class="op">=</span>State_e3[<span class="st">"cpmass"</span>]</span>
<span id="cb14-49"><a href="#cb14-49" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb14-50"><a href="#cb14-50" aria-hidden="true" tabindex="-1"></a>Point_e20 <span class="op">=</span> State(pair<span class="op">=</span><span class="st">'TP'</span>, fluid<span class="op">=</span><span class="st">'water'</span>, temperature<span class="op">=</span>T20, pressure<span class="op">=</span>p20)</span>
<span id="cb14-51"><a href="#cb14-51" aria-hidden="true" tabindex="-1"></a><span class="co"># Then calculate the state using the State class method StateCalc</span></span>
<span id="cb14-52"><a href="#cb14-52" aria-hidden="true" tabindex="-1"></a>Point_e20.StateCalc()</span>
<span id="cb14-53"><a href="#cb14-53" aria-hidden="true" tabindex="-1"></a><span class="co"># And print the dictionary for revision</span></span>
<span id="cb14-54"><a href="#cb14-54" aria-hidden="true" tabindex="-1"></a>State_e20 <span class="op">=</span> Point_e20.__dict__ <span class="co"># Whole dictionary with properties</span></span>
<span id="cb14-55"><a href="#cb14-55" aria-hidden="true" tabindex="-1"></a>h20<span class="op">=</span>State_e20[<span class="st">"enthalpy"</span>]</span>
<span id="cb14-56"><a href="#cb14-56" aria-hidden="true" tabindex="-1"></a>cp20<span class="op">=</span>State_e20[<span class="st">"cpmass"</span>]</span>
<span id="cb14-57"><a href="#cb14-57" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb14-58"><a href="#cb14-58" aria-hidden="true" tabindex="-1"></a>Q3, Thot3 <span class="op">=</span> HeatExchanger(m4, cp3, T3, T4, T20, cp20, m20, h20)</span>
<span id="cb14-59"><a href="#cb14-59" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb14-60"><a href="#cb14-60" aria-hidden="true" tabindex="-1"></a><span class="co">#Heat Exchanger 2</span></span>
<span id="cb14-61"><a href="#cb14-61" aria-hidden="true" tabindex="-1"></a>T2<span class="op">=</span><span class="dv">302</span></span>
<span id="cb14-62"><a href="#cb14-62" aria-hidden="true" tabindex="-1"></a>m3<span class="op">=</span>m1</span>
<span id="cb14-63"><a href="#cb14-63" aria-hidden="true" tabindex="-1"></a>p2<span class="op">=</span>p4</span>
<span id="cb14-64"><a href="#cb14-64" aria-hidden="true" tabindex="-1"></a>State_e2<span class="op">=</span>mixture(T<span class="op">=</span>T2, P<span class="op">=</span>p2, frac_water<span class="op">=</span>p_water_out0, frac_fat<span class="op">=</span>p_fat_out0) <span class="co"># this is a dictionary!!</span></span>
<span id="cb14-65"><a href="#cb14-65" aria-hidden="true" tabindex="-1"></a>cp2<span class="op">=</span>State_e2[<span class="st">"cpmass"</span>]</span>
<span id="cb14-66"><a href="#cb14-66" aria-hidden="true" tabindex="-1"></a>cp16<span class="op">=</span>State_e16[<span class="st">"cpmass"</span>]</span>
<span id="cb14-67"><a href="#cb14-67" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb14-68"><a href="#cb14-68" aria-hidden="true" tabindex="-1"></a>Q2, Thot2 <span class="op">=</span> HeatExchanger(m3, cp2, T2, T3, T16, cp16, m16, h16)</span>
<span id="cb14-69"><a href="#cb14-69" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb14-70"><a href="#cb14-70" aria-hidden="true" tabindex="-1"></a><span class="co">#Heat Exchanger 1</span></span>
<span id="cb14-71"><a href="#cb14-71" aria-hidden="true" tabindex="-1"></a>T1<span class="op">=</span><span class="dv">277</span></span>
<span id="cb14-72"><a href="#cb14-72" aria-hidden="true" tabindex="-1"></a>p1<span class="op">=</span>p4</span>
<span id="cb14-73"><a href="#cb14-73" aria-hidden="true" tabindex="-1"></a>State_e1<span class="op">=</span>mixture(T<span class="op">=</span>T1, P<span class="op">=</span>p1, frac_water<span class="op">=</span>p_water_out0, frac_fat<span class="op">=</span>p_fat_out0) <span class="co"># this is a dictionary!!</span></span>
<span id="cb14-74"><a href="#cb14-74" aria-hidden="true" tabindex="-1"></a>cp1<span class="op">=</span>State_e1[<span class="st">"cpmass"</span>]</span>
<span id="cb14-75"><a href="#cb14-75" aria-hidden="true" tabindex="-1"></a>cp11<span class="op">=</span>State_e11[<span class="st">"cpmass"</span>]</span>
<span id="cb14-76"><a href="#cb14-76" aria-hidden="true" tabindex="-1"></a>h11<span class="op">=</span>State_e11[<span class="st">"enthalpy"</span>]</span>
<span id="cb14-77"><a href="#cb14-77" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb14-78"><a href="#cb14-78" aria-hidden="true" tabindex="-1"></a><span class="co"># mcold, cpcold, Tcoldin, Tcoldout, Thotin, cphot, mhot, hhot</span></span>
<span id="cb14-79"><a href="#cb14-79" aria-hidden="true" tabindex="-1"></a>Q1, Thot1 <span class="op">=</span> HeatExchanger(m1, cp1, T1, T2, T11, cp11, m11, h11)</span>
<span id="cb14-80"><a href="#cb14-80" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb14-81"><a href="#cb14-81" aria-hidden="true" tabindex="-1"></a><span class="co">#HeatExchanger(mcold, cpcold, Tcoldin, Tcoldout, Thotin, cphot, mhot, hhot)</span></span>
<span id="cb14-82"><a href="#cb14-82" aria-hidden="true" tabindex="-1"></a><span class="co">#Q4, Thot4 = HeatExchanger(m5, cp4, T4, T5, T19, cp19, m19, h19)</span></span>
<span id="cb14-83"><a href="#cb14-83" aria-hidden="true" tabindex="-1"></a><span class="co">#Q3, Thot3 = HeatExchanger(m4, cp3, T3, T4, T20, cp20, m20, h20)</span></span>
<span id="cb14-84"><a href="#cb14-84" aria-hidden="true" tabindex="-1"></a><span class="co">#Q2, Thot2 = HeatExchanger(m3, cp2, T2, T3, T16, cp16, m16, h16)</span></span>
<span id="cb14-85"><a href="#cb14-85" aria-hidden="true" tabindex="-1"></a><span class="co">#Q1, Thot1 = HeatExchanger(m1, cp1, T1, T2, T11, cp11, m11, h11)</span></span>
<span id="cb14-86"><a href="#cb14-86" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb14-87"><a href="#cb14-87" aria-hidden="true" tabindex="-1"></a>data <span class="op">=</span> {<span class="st">'HEX'</span>: [<span class="st">'1'</span>, <span class="st">'2'</span>, <span class="st">'3'</span>, <span class="st">'4'</span>],</span>
<span id="cb14-88"><a href="#cb14-88" aria-hidden="true" tabindex="-1"></a>        <span class="st">'Steam Flow (kg/s)'</span> : [m11, m16, m20, m19],</span>
<span id="cb14-89"><a href="#cb14-89" aria-hidden="true" tabindex="-1"></a>        <span class="st">'T cold in (K)'</span>: [T1, T2, T3, T4],</span>
<span id="cb14-90"><a href="#cb14-90" aria-hidden="true" tabindex="-1"></a>        <span class="st">'T cold out (K)'</span>: [T2, T3, T4, T5],</span>
<span id="cb14-91"><a href="#cb14-91" aria-hidden="true" tabindex="-1"></a>        <span class="st">'T hot in (K)'</span>: [T11, T16, T20, T19],</span>
<span id="cb14-92"><a href="#cb14-92" aria-hidden="true" tabindex="-1"></a>        <span class="st">'T hot out (K)'</span>: [Thot1, Thot2, Thot3, Thot4],</span>
<span id="cb14-93"><a href="#cb14-93" aria-hidden="true" tabindex="-1"></a>        <span class="st">'Heat (W)'</span>: [Q1, Q2, Q3, Q4]}</span>
<span id="cb14-94"><a href="#cb14-94" aria-hidden="true" tabindex="-1"></a>df <span class="op">=</span> pd.DataFrame(data)</span>
<span id="cb14-95"><a href="#cb14-95" aria-hidden="true" tabindex="-1"></a>df <span class="op">=</span> df.set_index(<span class="st">'HEX'</span>)</span>
<span id="cb14-96"><a href="#cb14-96" aria-hidden="true" tabindex="-1"></a>df <span class="op">=</span> df.<span class="bu">round</span>(<span class="dv">2</span>)</span>
<span id="cb14-97"><a href="#cb14-97" aria-hidden="true" tabindex="-1"></a>HTML(df.to_html())</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<table class="dataframe table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">Steam Flow (kg/s)</th>
<th data-quarto-table-cell-role="th">T cold in (K)</th>
<th data-quarto-table-cell-role="th">T cold out (K)</th>
<th data-quarto-table-cell-role="th">T hot in (K)</th>
<th data-quarto-table-cell-role="th">T hot out (K)</th>
<th data-quarto-table-cell-role="th">Heat (W)</th>
</tr>
<tr class="odd">
<th data-quarto-table-cell-role="th">HEX</th>
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th"></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">1</td>
<td>1.32</td>
<td>277.0</td>
<td>302.0</td>
<td>333</td>
<td>290.39</td>
<td>491475.77</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">2</td>
<td>0.80</td>
<td>302.0</td>
<td>317.5</td>
<td>333</td>
<td>302.41</td>
<td>302869.43</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">3</td>
<td>1.14</td>
<td>317.5</td>
<td>338.0</td>
<td>338</td>
<td>319.00</td>
<td>400698.49</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">4</td>
<td>0.05</td>
<td>338.0</td>
<td>338.0</td>
<td>343</td>
<td>343.00</td>
<td>0.00</td>
</tr>
</tbody>
</table>
</div>
</div>
</section>
<section id="cooling-demand" class="level3" data-number="2.2.5">
<h3 data-number="2.2.5" class="anchored" data-anchor-id="cooling-demand"><span class="header-section-number">2.2.5</span> Cooling Demand</h3>
<p>HEX5 ensures that the milk is cooled down from <span class="math inline">T_{\text{hot,out,HEX1}}</span> = 290.38 K to 277 K. The cooling demand is computed using the following equation:</p>
<p><span id="eq-Qglycol"><span class="math display">
Q_{\text{glycol}} = m_{12} \cdot cp_{12} \cdot (T_{12} - T_{13})
\tag{2.14}</span></span></p>
<p><span id="eq-mglycol"><span class="math display">
m_{\text{glycol}} = \frac{Q_{\text{glycol}}}{cp_{{\text{glycol}}} \cdot (T_{\text{out,glycol}} - T_{\text{in,glycol}})}
\tag{2.15}</span></span></p>
<p>Given/Known data:</p>
<ul>
<li><span class="math inline">m_{12}</span>, <span class="math inline">T_{12}</span>, <span class="math inline">T_{13}</span></li>
</ul>
<p>Assumptions:</p>
<ul>
<li><span class="math inline">T_{\text{in,glycol}}</span> = 270 K</li>
<li><span class="math inline">T_{\text{out,glycol}}</span> = 277 K</li>
<li><span class="math inline">cp_{\text{glycol}}</span> = 2294 kJ/kg.K from heat capacity tables at 270 K</li>
</ul>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb15"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb15-1"><a href="#cb15-1" aria-hidden="true" tabindex="-1"></a><span class="co">#Heat Exchanger Glycolic water</span></span>
<span id="cb15-2"><a href="#cb15-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb15-3"><a href="#cb15-3" aria-hidden="true" tabindex="-1"></a>p12<span class="op">=</span>p11</span>
<span id="cb15-4"><a href="#cb15-4" aria-hidden="true" tabindex="-1"></a>T12<span class="op">=</span>Thot1</span>
<span id="cb15-5"><a href="#cb15-5" aria-hidden="true" tabindex="-1"></a>T13<span class="op">=</span><span class="dv">277</span></span>
<span id="cb15-6"><a href="#cb15-6" aria-hidden="true" tabindex="-1"></a>m12<span class="op">=</span>m11</span>
<span id="cb15-7"><a href="#cb15-7" aria-hidden="true" tabindex="-1"></a><span class="co">#print(p12,p_water_out3,p_fat_out3)</span></span>
<span id="cb15-8"><a href="#cb15-8" aria-hidden="true" tabindex="-1"></a>State_e12 <span class="op">=</span> mixture(T<span class="op">=</span>T12, P<span class="op">=</span>p12, frac_water<span class="op">=</span>p_water_out3, frac_fat<span class="op">=</span>p_fat_out3)</span>
<span id="cb15-9"><a href="#cb15-9" aria-hidden="true" tabindex="-1"></a>cp12<span class="op">=</span>State_e12[<span class="st">"cpmass"</span>]</span>
<span id="cb15-10"><a href="#cb15-10" aria-hidden="true" tabindex="-1"></a><span class="co">#print('cp12', cp12)</span></span>
<span id="cb15-11"><a href="#cb15-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb15-12"><a href="#cb15-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb15-13"><a href="#cb15-13" aria-hidden="true" tabindex="-1"></a>Tinglycol<span class="op">=</span><span class="dv">270</span></span>
<span id="cb15-14"><a href="#cb15-14" aria-hidden="true" tabindex="-1"></a>Toutglycol<span class="op">=</span><span class="dv">277</span></span>
<span id="cb15-15"><a href="#cb15-15" aria-hidden="true" tabindex="-1"></a>cpglycol<span class="op">=</span><span class="dv">2294</span></span>
<span id="cb15-16"><a href="#cb15-16" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb15-17"><a href="#cb15-17" aria-hidden="true" tabindex="-1"></a>Qglycol <span class="op">=</span> m12<span class="op">*</span>cp12<span class="op">*</span>(T12<span class="op">-</span>T13)</span>
<span id="cb15-18"><a href="#cb15-18" aria-hidden="true" tabindex="-1"></a>mglycol <span class="op">=</span> m12<span class="op">*</span>(cp12<span class="op">/</span>cpglycol)<span class="op">*</span>(T12<span class="op">-</span>T13)<span class="op">/</span>(Toutglycol<span class="op">-</span>Tinglycol)</span>
<span id="cb15-19"><a href="#cb15-19" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb15-20"><a href="#cb15-20" aria-hidden="true" tabindex="-1"></a><span class="co">#print(f'Q_glycol = {Qglycol:.3f} (W)\n' f'm_glycol = {mglycol:.3f} (kg/s)')</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<p>The heat exchanged at HEX5 is thus: 55703.141 W for a mass flow of 3.469kg/s</p>
</section>
<section id="whey-extraction" class="level3" data-number="2.2.6">
<h3 data-number="2.2.6" class="anchored" data-anchor-id="whey-extraction"><span class="header-section-number">2.2.6</span> Whey Extraction</h3>
<p>Finally, in order to match the target fat content, it is possible to extract whey from the system. The mass flow of whey is computed using the following equation:</p>
<p><strong>Processing</strong>:</p>
<p>Flow In: <span class="math display">\begin{align*}
    m_{\text{pasteur}} &amp;= 7.52 \text{ (kg/s)}\\
    p_{\text{water\_pasteur}} &amp;= 0.883 \\
    p_{\text{fat\_pasteur}} &amp;= 1 - p_{\text{water\_pasteur}}
\end{align*}</span></p>
<p>Flow to HEX:</p>
<p><span class="math display">\begin{align*}
    m_1 &amp;= 5.0 \text{ (kg/s)}\\
    p_{\text{water\_out1}} &amp;= 0.868 \\
    p_{\text{fat\_out1}} &amp;= 1 - p_{\text{water\_out1}}
\end{align*}</span></p>
<p>Flow to Filter: <span class="math display">\begin{align*}
    m_{\text{water\_21}} &amp;= m_{\text{pasteur}} \cdot p_{\text{water\_pasteur}} - p_{\text{water\_out1}} \cdot m_1 \\
    m_{\text{fat\_21}} &amp;= m_{\text{pasteur}} \cdot p_{\text{fat\_pasteur}} - p_{\text{fat\_out1}} \cdot m_1 \\
    m_{21} &amp;= m_{\text{pasteur}} - m_1 \\
    p_{\text{water\_21}} &amp;= \frac{m_{\text{water\_21}}}{m_{21}} \\
    p_{\text{fat\_21}} &amp;= \frac{m_{\text{fat\_21}}}{m_{21}}
\end{align*}</span></p>
<p><strong>Filter:</strong></p>
<p>Wastewater flow:</p>
<p><span class="math display">\begin{align*}
    m_{23} &amp;= 1 \text{ (kg/s)}\\
    p_{\text{water\_23}} &amp;= 1 \\
    p_{\text{fat\_23}} &amp;= 0
\end{align*}</span></p>
<p>Whey flow: <span class="math display">\begin{align*}
    m_{\text{water\_22}} &amp;= m_{\text{water\_21}} - m_{23} \cdot p_{\text{water\_23}} \\
    m_{\text{fat\_22}} &amp;= m_{\text{fat\_21}} - m_{23} \cdot p_{\text{fat\_23}} \\
    m_{22} &amp;= m_{21} - m_{23} \\
    p_{\text{water\_22}} &amp;= \frac{m_{\text{water\_22}}}{m_{22}} \\
    p_{\text{fat\_22}} &amp;= \frac{m_{\text{fat\_22}}}{m_{22}}
\end{align*}</span></p>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb16"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb16-1"><a href="#cb16-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Processing</span></span>
<span id="cb16-2"><a href="#cb16-2" aria-hidden="true" tabindex="-1"></a><span class="co"># Flow In</span></span>
<span id="cb16-3"><a href="#cb16-3" aria-hidden="true" tabindex="-1"></a>m_pasteur <span class="op">=</span> <span class="fl">7.52</span></span>
<span id="cb16-4"><a href="#cb16-4" aria-hidden="true" tabindex="-1"></a>p_water_pasteur <span class="op">=</span> <span class="fl">0.883</span></span>
<span id="cb16-5"><a href="#cb16-5" aria-hidden="true" tabindex="-1"></a>p_fat_pasteur <span class="op">=</span> <span class="dv">1</span> <span class="op">-</span> p_water_pasteur</span>
<span id="cb16-6"><a href="#cb16-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb16-7"><a href="#cb16-7" aria-hidden="true" tabindex="-1"></a><span class="co"># Flow Out</span></span>
<span id="cb16-8"><a href="#cb16-8" aria-hidden="true" tabindex="-1"></a>m_water_21 <span class="op">=</span> m_pasteur <span class="op">*</span> p_water_pasteur <span class="op">-</span> p_water_out0 <span class="op">*</span> m1</span>
<span id="cb16-9"><a href="#cb16-9" aria-hidden="true" tabindex="-1"></a>m_fat_21 <span class="op">=</span> m_pasteur <span class="op">*</span> p_fat_pasteur <span class="op">-</span> p_fat_out0 <span class="op">*</span> m1</span>
<span id="cb16-10"><a href="#cb16-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb16-11"><a href="#cb16-11" aria-hidden="true" tabindex="-1"></a>m_21 <span class="op">=</span> m_pasteur <span class="op">-</span> m1</span>
<span id="cb16-12"><a href="#cb16-12" aria-hidden="true" tabindex="-1"></a>p_water_21 <span class="op">=</span> m_water_21 <span class="op">/</span> m_21</span>
<span id="cb16-13"><a href="#cb16-13" aria-hidden="true" tabindex="-1"></a>p_fat_21 <span class="op">=</span> m_fat_21 <span class="op">/</span> m_21</span>
<span id="cb16-14"><a href="#cb16-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb16-15"><a href="#cb16-15" aria-hidden="true" tabindex="-1"></a><span class="co"># Filter</span></span>
<span id="cb16-16"><a href="#cb16-16" aria-hidden="true" tabindex="-1"></a>m_23 <span class="op">=</span> <span class="dv">1</span></span>
<span id="cb16-17"><a href="#cb16-17" aria-hidden="true" tabindex="-1"></a>p_water_23 <span class="op">=</span> <span class="dv">1</span></span>
<span id="cb16-18"><a href="#cb16-18" aria-hidden="true" tabindex="-1"></a>p_fat_23 <span class="op">=</span> <span class="dv">0</span></span>
<span id="cb16-19"><a href="#cb16-19" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb16-20"><a href="#cb16-20" aria-hidden="true" tabindex="-1"></a><span class="co"># Flow out Whey</span></span>
<span id="cb16-21"><a href="#cb16-21" aria-hidden="true" tabindex="-1"></a>m_water_22 <span class="op">=</span> m_water_21 <span class="op">-</span> m_23 <span class="op">*</span> p_water_23</span>
<span id="cb16-22"><a href="#cb16-22" aria-hidden="true" tabindex="-1"></a>m_fat_22 <span class="op">=</span> m_fat_21 <span class="op">-</span> m_23 <span class="op">*</span> p_fat_23</span>
<span id="cb16-23"><a href="#cb16-23" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb16-24"><a href="#cb16-24" aria-hidden="true" tabindex="-1"></a>m_22 <span class="op">=</span> m_21 <span class="op">-</span> m_23</span>
<span id="cb16-25"><a href="#cb16-25" aria-hidden="true" tabindex="-1"></a>p_water_22 <span class="op">=</span> m_water_22 <span class="op">/</span> m_22</span>
<span id="cb16-26"><a href="#cb16-26" aria-hidden="true" tabindex="-1"></a>p_fat_22 <span class="op">=</span> m_fat_22 <span class="op">/</span> m_22</span>
<span id="cb16-27"><a href="#cb16-27" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb16-28"><a href="#cb16-28" aria-hidden="true" tabindex="-1"></a><span class="co"># Print in a data frame the percent and mass flow of fat and water for point pasteur, 21, 22 and 23</span></span>
<span id="cb16-29"><a href="#cb16-29" aria-hidden="true" tabindex="-1"></a>data <span class="op">=</span> {<span class="st">'Point'</span>: [<span class="st">'Pasteur'</span>, <span class="st">'21'</span>, <span class="st">'22'</span>, <span class="st">'23'</span>],</span>
<span id="cb16-30"><a href="#cb16-30" aria-hidden="true" tabindex="-1"></a>        <span class="st">'Fat content (%)'</span>: [p_fat_pasteur<span class="op">*</span><span class="dv">100</span>, p_fat_21<span class="op">*</span><span class="dv">100</span>, p_fat_22<span class="op">*</span><span class="dv">100</span>, p_fat_23<span class="op">*</span><span class="dv">100</span>],</span>
<span id="cb16-31"><a href="#cb16-31" aria-hidden="true" tabindex="-1"></a>        <span class="st">'Water content (%)'</span>: [p_water_pasteur<span class="op">*</span><span class="dv">100</span>, p_water_21<span class="op">*</span><span class="dv">100</span>, p_water_22<span class="op">*</span><span class="dv">100</span>, p_water_23<span class="op">*</span><span class="dv">100</span>],</span>
<span id="cb16-32"><a href="#cb16-32" aria-hidden="true" tabindex="-1"></a>        <span class="st">'Mass flow (kg/s)'</span>: [m_pasteur, m_21, m_22, m_23]}</span>
<span id="cb16-33"><a href="#cb16-33" aria-hidden="true" tabindex="-1"></a>dfwhey <span class="op">=</span> pd.DataFrame(data)</span>
<span id="cb16-34"><a href="#cb16-34" aria-hidden="true" tabindex="-1"></a>dfwhey <span class="op">=</span> dfwhey.set_index(<span class="st">'Point'</span>)</span>
<span id="cb16-35"><a href="#cb16-35" aria-hidden="true" tabindex="-1"></a>dfwhey <span class="op">=</span> dfwhey.<span class="bu">round</span>(<span class="dv">2</span>)</span>
<span id="cb16-36"><a href="#cb16-36" aria-hidden="true" tabindex="-1"></a><span class="co">#print(dfwhey)</span></span>
<span id="cb16-37"><a href="#cb16-37" aria-hidden="true" tabindex="-1"></a>HTML(dfwhey.to_html())</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<table class="dataframe table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">Fat content (%)</th>
<th data-quarto-table-cell-role="th">Water content (%)</th>
<th data-quarto-table-cell-role="th">Mass flow (kg/s)</th>
</tr>
<tr class="odd">
<th data-quarto-table-cell-role="th">Point</th>
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th"></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">Pasteur</td>
<td>11.70</td>
<td>88.30</td>
<td>7.52</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">21</td>
<td>8.72</td>
<td>91.28</td>
<td>2.52</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">22</td>
<td>14.46</td>
<td>85.54</td>
<td>1.52</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">23</td>
<td>0.00</td>
<td>100.00</td>
<td>1.00</td>
</tr>
</tbody>
</table>
</div>
</div>
</section>
<section id="summary-for-the-evaporator-section" class="level3" data-number="2.2.7">
<h3 data-number="2.2.7" class="anchored" data-anchor-id="summary-for-the-evaporator-section"><span class="header-section-number">2.2.7</span> Summary for the evaporator section</h3>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb17"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb17-1"><a href="#cb17-1" aria-hidden="true" tabindex="-1"></a><span class="co">#Entropy</span></span>
<span id="cb17-2"><a href="#cb17-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-3"><a href="#cb17-3" aria-hidden="true" tabindex="-1"></a><span class="co">#Computing remaining states</span></span>
<span id="cb17-4"><a href="#cb17-4" aria-hidden="true" tabindex="-1"></a>p5<span class="op">=</span>p4</span>
<span id="cb17-5"><a href="#cb17-5" aria-hidden="true" tabindex="-1"></a>State_e5 <span class="op">=</span> mixture(T<span class="op">=</span>T5, P<span class="op">=</span>p5, frac_water<span class="op">=</span>p_water_out0, frac_fat<span class="op">=</span>p_fat_out0) <span class="co"># this is a dictionary!!</span></span>
<span id="cb17-6"><a href="#cb17-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-7"><a href="#cb17-7" aria-hidden="true" tabindex="-1"></a>p13<span class="op">=</span>p12</span>
<span id="cb17-8"><a href="#cb17-8" aria-hidden="true" tabindex="-1"></a>State_e13 <span class="op">=</span> mixture(T<span class="op">=</span>T13, P<span class="op">=</span>p13, frac_water<span class="op">=</span>p_water_out3, frac_fat<span class="op">=</span>p_fat_out3) <span class="co"># this is a dictionary!!</span></span>
<span id="cb17-9"><a href="#cb17-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-10"><a href="#cb17-10" aria-hidden="true" tabindex="-1"></a>T21<span class="op">=</span><span class="dv">277</span></span>
<span id="cb17-11"><a href="#cb17-11" aria-hidden="true" tabindex="-1"></a>p21<span class="op">=</span>p1</span>
<span id="cb17-12"><a href="#cb17-12" aria-hidden="true" tabindex="-1"></a>State_e21 <span class="op">=</span> mixture(T<span class="op">=</span>T21, P<span class="op">=</span>p21, frac_water<span class="op">=</span>p_water_21, frac_fat<span class="op">=</span>p_fat_21) <span class="co"># this is a dictionary!!</span></span>
<span id="cb17-13"><a href="#cb17-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-14"><a href="#cb17-14" aria-hidden="true" tabindex="-1"></a>T22<span class="op">=</span>T21</span>
<span id="cb17-15"><a href="#cb17-15" aria-hidden="true" tabindex="-1"></a>p22<span class="op">=</span>p21</span>
<span id="cb17-16"><a href="#cb17-16" aria-hidden="true" tabindex="-1"></a>State_e22 <span class="op">=</span> mixture(T<span class="op">=</span>T22, P<span class="op">=</span>p22, frac_water<span class="op">=</span>p_water_22, frac_fat<span class="op">=</span>p_fat_22) <span class="co"># this is a dictionary!!</span></span>
<span id="cb17-17"><a href="#cb17-17" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-18"><a href="#cb17-18" aria-hidden="true" tabindex="-1"></a>T23<span class="op">=</span>T21</span>
<span id="cb17-19"><a href="#cb17-19" aria-hidden="true" tabindex="-1"></a>p23<span class="op">=</span>p21</span>
<span id="cb17-20"><a href="#cb17-20" aria-hidden="true" tabindex="-1"></a>State_e23 <span class="op">=</span> mixture(T<span class="op">=</span>T23, P<span class="op">=</span>p23, frac_water<span class="op">=</span>p_water_23, frac_fat<span class="op">=</span>p_fat_23) <span class="co"># this is a dictionary!!</span></span>
<span id="cb17-21"><a href="#cb17-21" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-22"><a href="#cb17-22" aria-hidden="true" tabindex="-1"></a><span class="co">#Exit flows of 3 HXs </span></span>
<span id="cb17-23"><a href="#cb17-23" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-24"><a href="#cb17-24" aria-hidden="true" tabindex="-1"></a>Texit2<span class="op">=</span> T16<span class="op">-</span>(Q2<span class="op">/</span>(cp16<span class="op">*</span>m16))</span>
<span id="cb17-25"><a href="#cb17-25" aria-hidden="true" tabindex="-1"></a>pexit2<span class="op">=</span>p16</span>
<span id="cb17-26"><a href="#cb17-26" aria-hidden="true" tabindex="-1"></a>State_exit2 <span class="op">=</span> State(pair<span class="op">=</span><span class="st">'TP'</span>, fluid<span class="op">=</span><span class="st">'water'</span>, temperature<span class="op">=</span>Texit2, pressure<span class="op">=</span>pexit2) </span>
<span id="cb17-27"><a href="#cb17-27" aria-hidden="true" tabindex="-1"></a>State_exit2.StateCalc()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>Saturation pressure and temperature are dependent. Select another pair (e.g. PQ, PH, etc.)</code></pre>
</div>
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb19"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb19-1"><a href="#cb19-1" aria-hidden="true" tabindex="-1"></a><span class="co"># And print the dictionary for revision</span></span>
<span id="cb19-2"><a href="#cb19-2" aria-hidden="true" tabindex="-1"></a>State_exit2 <span class="op">=</span> State_exit2.__dict__</span>
<span id="cb19-3"><a href="#cb19-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb19-4"><a href="#cb19-4" aria-hidden="true" tabindex="-1"></a>Texit3<span class="op">=</span> T20<span class="op">-</span>(Q3<span class="op">/</span>(cp20<span class="op">*</span>m20))</span>
<span id="cb19-5"><a href="#cb19-5" aria-hidden="true" tabindex="-1"></a>pexit3<span class="op">=</span>p20</span>
<span id="cb19-6"><a href="#cb19-6" aria-hidden="true" tabindex="-1"></a>State_exit3 <span class="op">=</span> State(pair<span class="op">=</span><span class="st">'TP'</span>, fluid<span class="op">=</span><span class="st">'water'</span>, temperature<span class="op">=</span>Texit3, pressure<span class="op">=</span>pexit3) </span>
<span id="cb19-7"><a href="#cb19-7" aria-hidden="true" tabindex="-1"></a>State_exit3.StateCalc()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>Saturation pressure and temperature are dependent. Select another pair (e.g. PQ, PH, etc.)</code></pre>
</div>
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb21"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb21-1"><a href="#cb21-1" aria-hidden="true" tabindex="-1"></a><span class="co"># And print the dictionary for revision</span></span>
<span id="cb21-2"><a href="#cb21-2" aria-hidden="true" tabindex="-1"></a>State_exit3 <span class="op">=</span> State_exit3.__dict__</span>
<span id="cb21-3"><a href="#cb21-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb21-4"><a href="#cb21-4" aria-hidden="true" tabindex="-1"></a><span class="co">#Exctraction of entropy</span></span>
<span id="cb21-5"><a href="#cb21-5" aria-hidden="true" tabindex="-1"></a>s1<span class="op">=</span>State_e1[<span class="st">"entropy"</span>]</span>
<span id="cb21-6"><a href="#cb21-6" aria-hidden="true" tabindex="-1"></a>s2<span class="op">=</span>State_e2[<span class="st">"entropy"</span>]</span>
<span id="cb21-7"><a href="#cb21-7" aria-hidden="true" tabindex="-1"></a>s3<span class="op">=</span>State_e3[<span class="st">"entropy"</span>]</span>
<span id="cb21-8"><a href="#cb21-8" aria-hidden="true" tabindex="-1"></a>s4<span class="op">=</span>State_e4[<span class="st">"entropy"</span>]</span>
<span id="cb21-9"><a href="#cb21-9" aria-hidden="true" tabindex="-1"></a>s5<span class="op">=</span>State_e5[<span class="st">"entropy"</span>]</span>
<span id="cb21-10"><a href="#cb21-10" aria-hidden="true" tabindex="-1"></a>s6<span class="op">=</span>State_e6[<span class="st">"entropy"</span>]</span>
<span id="cb21-11"><a href="#cb21-11" aria-hidden="true" tabindex="-1"></a>s7<span class="op">=</span>State_e7[<span class="st">"entropy"</span>]</span>
<span id="cb21-12"><a href="#cb21-12" aria-hidden="true" tabindex="-1"></a>s8<span class="op">=</span>State_e8[<span class="st">"entropy"</span>]</span>
<span id="cb21-13"><a href="#cb21-13" aria-hidden="true" tabindex="-1"></a>s9<span class="op">=</span>State_e9[<span class="st">"entropy"</span>]</span>
<span id="cb21-14"><a href="#cb21-14" aria-hidden="true" tabindex="-1"></a>s10<span class="op">=</span>State_e10[<span class="st">"entropy"</span>]</span>
<span id="cb21-15"><a href="#cb21-15" aria-hidden="true" tabindex="-1"></a>s11<span class="op">=</span>State_e11[<span class="st">"entropy"</span>]</span>
<span id="cb21-16"><a href="#cb21-16" aria-hidden="true" tabindex="-1"></a>s12<span class="op">=</span>State_e12[<span class="st">"entropy"</span>]</span>
<span id="cb21-17"><a href="#cb21-17" aria-hidden="true" tabindex="-1"></a>s13<span class="op">=</span>State_e13[<span class="st">"entropy"</span>]</span>
<span id="cb21-18"><a href="#cb21-18" aria-hidden="true" tabindex="-1"></a>s14<span class="op">=</span>State_e14[<span class="st">"entropy"</span>]</span>
<span id="cb21-19"><a href="#cb21-19" aria-hidden="true" tabindex="-1"></a>s15<span class="op">=</span>State_e15[<span class="st">"entropy"</span>]</span>
<span id="cb21-20"><a href="#cb21-20" aria-hidden="true" tabindex="-1"></a>s16<span class="op">=</span>State_e16[<span class="st">"entropy"</span>]</span>
<span id="cb21-21"><a href="#cb21-21" aria-hidden="true" tabindex="-1"></a>s17<span class="op">=</span>State_e17[<span class="st">"entropy"</span>]</span>
<span id="cb21-22"><a href="#cb21-22" aria-hidden="true" tabindex="-1"></a>s18<span class="op">=</span>State_e18[<span class="st">"entropy"</span>]</span>
<span id="cb21-23"><a href="#cb21-23" aria-hidden="true" tabindex="-1"></a>s19<span class="op">=</span>State_e19[<span class="st">"entropy"</span>]</span>
<span id="cb21-24"><a href="#cb21-24" aria-hidden="true" tabindex="-1"></a>s20<span class="op">=</span>State_e20[<span class="st">"entropy"</span>]</span>
<span id="cb21-25"><a href="#cb21-25" aria-hidden="true" tabindex="-1"></a>s21<span class="op">=</span>State_e21[<span class="st">"entropy"</span>]</span>
<span id="cb21-26"><a href="#cb21-26" aria-hidden="true" tabindex="-1"></a>s22<span class="op">=</span>State_e22[<span class="st">"entropy"</span>]</span>
<span id="cb21-27"><a href="#cb21-27" aria-hidden="true" tabindex="-1"></a>s23<span class="op">=</span>State_e23[<span class="st">"entropy"</span>]</span>
<span id="cb21-28"><a href="#cb21-28" aria-hidden="true" tabindex="-1"></a>sexit2<span class="op">=</span>State_exit2[<span class="st">"entropy"</span>]</span>
<span id="cb21-29"><a href="#cb21-29" aria-hidden="true" tabindex="-1"></a>sexit3<span class="op">=</span>State_exit3[<span class="st">"entropy"</span>]</span>
<span id="cb21-30"><a href="#cb21-30" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb21-31"><a href="#cb21-31" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb21-32"><a href="#cb21-32" aria-hidden="true" tabindex="-1"></a>h1<span class="op">=</span>State_e1[<span class="st">"enthalpy"</span>]</span>
<span id="cb21-33"><a href="#cb21-33" aria-hidden="true" tabindex="-1"></a>h2<span class="op">=</span>State_e2[<span class="st">"enthalpy"</span>]</span>
<span id="cb21-34"><a href="#cb21-34" aria-hidden="true" tabindex="-1"></a>h3<span class="op">=</span>State_e3[<span class="st">"enthalpy"</span>]</span>
<span id="cb21-35"><a href="#cb21-35" aria-hidden="true" tabindex="-1"></a>h4<span class="op">=</span>State_e4[<span class="st">"enthalpy"</span>]</span>
<span id="cb21-36"><a href="#cb21-36" aria-hidden="true" tabindex="-1"></a>h5<span class="op">=</span>State_e5[<span class="st">"enthalpy"</span>]</span>
<span id="cb21-37"><a href="#cb21-37" aria-hidden="true" tabindex="-1"></a>h6<span class="op">=</span>State_e6[<span class="st">"enthalpy"</span>]</span>
<span id="cb21-38"><a href="#cb21-38" aria-hidden="true" tabindex="-1"></a>h7<span class="op">=</span>State_e7[<span class="st">"enthalpy"</span>]</span>
<span id="cb21-39"><a href="#cb21-39" aria-hidden="true" tabindex="-1"></a>h8<span class="op">=</span>State_e8[<span class="st">"enthalpy"</span>]</span>
<span id="cb21-40"><a href="#cb21-40" aria-hidden="true" tabindex="-1"></a>h9<span class="op">=</span>State_e9[<span class="st">"enthalpy"</span>]</span>
<span id="cb21-41"><a href="#cb21-41" aria-hidden="true" tabindex="-1"></a>h10<span class="op">=</span>State_e10[<span class="st">"enthalpy"</span>]</span>
<span id="cb21-42"><a href="#cb21-42" aria-hidden="true" tabindex="-1"></a>h11<span class="op">=</span>State_e11[<span class="st">"enthalpy"</span>]</span>
<span id="cb21-43"><a href="#cb21-43" aria-hidden="true" tabindex="-1"></a>h12<span class="op">=</span>State_e12[<span class="st">"enthalpy"</span>]</span>
<span id="cb21-44"><a href="#cb21-44" aria-hidden="true" tabindex="-1"></a>h13<span class="op">=</span>State_e13[<span class="st">"enthalpy"</span>]</span>
<span id="cb21-45"><a href="#cb21-45" aria-hidden="true" tabindex="-1"></a>h14<span class="op">=</span>State_e14[<span class="st">"enthalpy"</span>]</span>
<span id="cb21-46"><a href="#cb21-46" aria-hidden="true" tabindex="-1"></a>h15<span class="op">=</span>State_e15[<span class="st">"enthalpy"</span>]</span>
<span id="cb21-47"><a href="#cb21-47" aria-hidden="true" tabindex="-1"></a>h16<span class="op">=</span>State_e16[<span class="st">"enthalpy"</span>]</span>
<span id="cb21-48"><a href="#cb21-48" aria-hidden="true" tabindex="-1"></a>h17<span class="op">=</span>State_e17[<span class="st">"enthalpy"</span>]</span>
<span id="cb21-49"><a href="#cb21-49" aria-hidden="true" tabindex="-1"></a>h18<span class="op">=</span>State_e18[<span class="st">"enthalpy"</span>]</span>
<span id="cb21-50"><a href="#cb21-50" aria-hidden="true" tabindex="-1"></a>h19<span class="op">=</span>State_e19[<span class="st">"enthalpy"</span>]</span>
<span id="cb21-51"><a href="#cb21-51" aria-hidden="true" tabindex="-1"></a>h20<span class="op">=</span>State_e20[<span class="st">"enthalpy"</span>]</span>
<span id="cb21-52"><a href="#cb21-52" aria-hidden="true" tabindex="-1"></a>h21<span class="op">=</span>State_e21[<span class="st">"enthalpy"</span>]</span>
<span id="cb21-53"><a href="#cb21-53" aria-hidden="true" tabindex="-1"></a>h22<span class="op">=</span>State_e22[<span class="st">"enthalpy"</span>]</span>
<span id="cb21-54"><a href="#cb21-54" aria-hidden="true" tabindex="-1"></a>h23<span class="op">=</span>State_e23[<span class="st">"enthalpy"</span>]</span>
<span id="cb21-55"><a href="#cb21-55" aria-hidden="true" tabindex="-1"></a>hexit2<span class="op">=</span>State_exit2[<span class="st">"enthalpy"</span>]</span>
<span id="cb21-56"><a href="#cb21-56" aria-hidden="true" tabindex="-1"></a>hexit3<span class="op">=</span>State_exit3[<span class="st">"enthalpy"</span>]</span>
<span id="cb21-57"><a href="#cb21-57" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb21-58"><a href="#cb21-58" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb21-59"><a href="#cb21-59" aria-hidden="true" tabindex="-1"></a>m2<span class="op">=</span>m1</span>
<span id="cb21-60"><a href="#cb21-60" aria-hidden="true" tabindex="-1"></a>m13<span class="op">=</span>m12</span>
<span id="cb21-61"><a href="#cb21-61" aria-hidden="true" tabindex="-1"></a>m17<span class="op">=</span>m_w2</span>
<span id="cb21-62"><a href="#cb21-62" aria-hidden="true" tabindex="-1"></a>m18<span class="op">=</span>m_w3</span>
<span id="cb21-63"><a href="#cb21-63" aria-hidden="true" tabindex="-1"></a>m21 <span class="op">=</span> m_21</span>
<span id="cb21-64"><a href="#cb21-64" aria-hidden="true" tabindex="-1"></a>m22 <span class="op">=</span> m_22</span>
<span id="cb21-65"><a href="#cb21-65" aria-hidden="true" tabindex="-1"></a>m23 <span class="op">=</span> m_23</span>
<span id="cb21-66"><a href="#cb21-66" aria-hidden="true" tabindex="-1"></a>mexit2<span class="op">=</span>m16</span>
<span id="cb21-67"><a href="#cb21-67" aria-hidden="true" tabindex="-1"></a>mexit3<span class="op">=</span>m20</span>
<span id="cb21-68"><a href="#cb21-68" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb21-69"><a href="#cb21-69" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb21-70"><a href="#cb21-70" aria-hidden="true" tabindex="-1"></a><span class="co">#Recap</span></span>
<span id="cb21-71"><a href="#cb21-71" aria-hidden="true" tabindex="-1"></a><span class="co">#Print in a dataframe: Temperature, Pressure, Mass flow, Enthalpy, Entropy for each point (i.e. 1 to 23)</span></span>
<span id="cb21-72"><a href="#cb21-72" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb21-73"><a href="#cb21-73" aria-hidden="true" tabindex="-1"></a>datarecap <span class="op">=</span> {<span class="st">'Point'</span>: [<span class="st">'1'</span>, <span class="st">'2'</span>, <span class="st">'3'</span>, <span class="st">'4'</span>, <span class="st">'5'</span>, <span class="st">'6'</span>, <span class="st">'7'</span>, <span class="st">'8'</span>, <span class="st">'9'</span>, <span class="st">'10'</span>,<span class="st">'11'</span>, <span class="st">'12'</span>, <span class="st">'13'</span>, <span class="st">'14'</span>, <span class="st">'15'</span>, <span class="st">'16'</span>, <span class="st">'17'</span>, <span class="st">'18'</span>, <span class="st">'19'</span>, <span class="st">'20'</span>,<span class="st">'21'</span>, <span class="st">'22'</span>, <span class="st">'23'</span>, <span class="st">'exit2'</span>, <span class="st">'exit3'</span>],</span>
<span id="cb21-74"><a href="#cb21-74" aria-hidden="true" tabindex="-1"></a>        <span class="st">'Temperature (K)'</span>: [T1, T2, T3, T4, T5, T6, T7, T8, T9, T10,T11, T12, T13, T14, T15, T16, T17, T18, T19, T20,T21, T22, T23,Texit2, Texit3],</span>
<span id="cb21-75"><a href="#cb21-75" aria-hidden="true" tabindex="-1"></a>        <span class="st">'Pressure (Pa)'</span>: [p1, p2, p3, p4, p5, p6, p7, p8, p9, p10,p11, p12, p13, p14, p15, p16, p17, p18, p19, p20,p21, p22, p23,pexit2, pexit3],</span>
<span id="cb21-76"><a href="#cb21-76" aria-hidden="true" tabindex="-1"></a>        <span class="st">'Mass flow (kg/s)'</span>: [m1, m2, m3, m4, m5, m6, m7, m8, m9, m10,m11, m12, m13, m14, m15, m16, m17, m18, m19, m20,m21, m22, m23,mexit2, mexit3],</span>
<span id="cb21-77"><a href="#cb21-77" aria-hidden="true" tabindex="-1"></a>        <span class="st">'Enthalpy (J/mol)'</span>: [h1, h2, h3, h4, h5, h6, h7, h8, h9, h10,h11, h12, h13, h14, h15, h16, h17, h18, h19, h20,h21, h22, h23, hexit2, hexit3],</span>
<span id="cb21-78"><a href="#cb21-78" aria-hidden="true" tabindex="-1"></a>        <span class="st">'Entropy (J/K)'</span>: [s1, s2, s3, s4, s5, s6, s7, s8, s9, s10,s11, s12, s13, s14, s15, s16, s17, s18, s19, s20,s21, s22, s23, sexit2, sexit3]}</span>
<span id="cb21-79"><a href="#cb21-79" aria-hidden="true" tabindex="-1"></a>dfrecap <span class="op">=</span> pd.DataFrame(datarecap)</span>
<span id="cb21-80"><a href="#cb21-80" aria-hidden="true" tabindex="-1"></a>dfrecap <span class="op">=</span> dfrecap.set_index(<span class="st">'Point'</span>)</span>
<span id="cb21-81"><a href="#cb21-81" aria-hidden="true" tabindex="-1"></a>dfrecap <span class="op">=</span> dfrecap.<span class="bu">round</span>(<span class="dv">2</span>)</span>
<span id="cb21-82"><a href="#cb21-82" aria-hidden="true" tabindex="-1"></a>HTML(dfrecap.to_html())</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<table class="dataframe table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">Temperature (K)</th>
<th data-quarto-table-cell-role="th">Pressure (Pa)</th>
<th data-quarto-table-cell-role="th">Mass flow (kg/s)</th>
<th data-quarto-table-cell-role="th">Enthalpy (J/mol)</th>
<th data-quarto-table-cell-role="th">Entropy (J/K)</th>
</tr>
<tr class="odd">
<th data-quarto-table-cell-role="th">Point</th>
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th"></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">1</td>
<td>277.00</td>
<td>100000</td>
<td>5.00</td>
<td>-97330.56</td>
<td>-203.15</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">2</td>
<td>302.00</td>
<td>100000</td>
<td>5.00</td>
<td>560.64</td>
<td>135.21</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">3</td>
<td>317.50</td>
<td>100000</td>
<td>5.00</td>
<td>61136.10</td>
<td>330.82</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">4</td>
<td>338.00</td>
<td>100000</td>
<td>5.00</td>
<td>141356.45</td>
<td>575.65</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">5</td>
<td>338.00</td>
<td>100000</td>
<td>5.00</td>
<td>141356.45</td>
<td>575.65</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">6</td>
<td>343.00</td>
<td>31000</td>
<td>5.00</td>
<td>160898.84</td>
<td>633.26</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">7</td>
<td>343.00</td>
<td>31000</td>
<td>3.40</td>
<td>98998.76</td>
<td>482.65</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">8</td>
<td>338.00</td>
<td>25000</td>
<td>3.40</td>
<td>-35572.68</td>
<td>146.29</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">9</td>
<td>338.00</td>
<td>25000</td>
<td>2.12</td>
<td>-35572.68</td>
<td>146.29</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">10</td>
<td>333.00</td>
<td>20000</td>
<td>2.12</td>
<td>-53332.80</td>
<td>93.37</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">11</td>
<td>333.00</td>
<td>20000</td>
<td>1.32</td>
<td>-237505.80</td>
<td>-352.72</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">12</td>
<td>290.39</td>
<td>20000</td>
<td>1.32</td>
<td>-371880.45</td>
<td>-784.48</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">13</td>
<td>277.00</td>
<td>20000</td>
<td>1.32</td>
<td>-414140.10</td>
<td>-933.47</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">14</td>
<td>343.00</td>
<td>31000</td>
<td>1.60</td>
<td>292436.50</td>
<td>953.30</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">15</td>
<td>338.00</td>
<td>25000</td>
<td>1.28</td>
<td>271487.85</td>
<td>891.79</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">16</td>
<td>333.00</td>
<td>20000</td>
<td>0.80</td>
<td>250552.63</td>
<td>829.41</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">17</td>
<td>343.00</td>
<td>31000</td>
<td>1.55</td>
<td>292436.50</td>
<td>953.30</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">18</td>
<td>338.00</td>
<td>25000</td>
<td>0.14</td>
<td>271487.85</td>
<td>891.79</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">19</td>
<td>343.00</td>
<td>31000</td>
<td>0.05</td>
<td>292436.50</td>
<td>953.30</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">20</td>
<td>338.00</td>
<td>25000</td>
<td>1.14</td>
<td>271487.85</td>
<td>891.79</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">21</td>
<td>277.00</td>
<td>100000</td>
<td>2.52</td>
<td>-58804.20</td>
<td>-114.31</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">22</td>
<td>277.00</td>
<td>100000</td>
<td>1.52</td>
<td>-108202.50</td>
<td>-228.22</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">23</td>
<td>277.00</td>
<td>100000</td>
<td>1.00</td>
<td>16281.23</td>
<td>58.82</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">exit2</td>
<td>242.54</td>
<td>20000</td>
<td>0.80</td>
<td>-1.00</td>
<td>-1.00</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">exit3</td>
<td>254.16</td>
<td>25000</td>
<td>1.14</td>
<td>-1.00</td>
<td>-1.00</td>
</tr>
</tbody>
</table>
</div>
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb22"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb22-1"><a href="#cb22-1" aria-hidden="true" tabindex="-1"></a><span class="co">#Print in a dataframe: Q for each heat exchanger and evaporator</span></span>
<span id="cb22-2"><a href="#cb22-2" aria-hidden="true" tabindex="-1"></a>dataevap <span class="op">=</span> {<span class="st">'Evaporator'</span>: [<span class="st">'1'</span>, <span class="st">'2'</span>, <span class="st">'3'</span>],</span>
<span id="cb22-3"><a href="#cb22-3" aria-hidden="true" tabindex="-1"></a>        <span class="st">'Q (W)'</span>: [Q_evap1, Q_evap2, Q_evap3]}</span>
<span id="cb22-4"><a href="#cb22-4" aria-hidden="true" tabindex="-1"></a>dfevap <span class="op">=</span> pd.DataFrame(dataevap)</span>
<span id="cb22-5"><a href="#cb22-5" aria-hidden="true" tabindex="-1"></a>dfevap <span class="op">=</span> dfevap.set_index(<span class="st">'Evaporator'</span>)</span>
<span id="cb22-6"><a href="#cb22-6" aria-hidden="true" tabindex="-1"></a>dfevap <span class="op">=</span> dfevap.<span class="bu">round</span>(<span class="dv">2</span>)</span>
<span id="cb22-7"><a href="#cb22-7" aria-hidden="true" tabindex="-1"></a>HTML(dfevap.to_html())</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<table class="dataframe table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">Q (W)</th>
</tr>
<tr class="odd">
<th data-quarto-table-cell-role="th">Evaporator</th>
<th data-quarto-table-cell-role="th"></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">1</td>
<td>98038.87</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">2</td>
<td>453437.09</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">3</td>
<td>37624.97</td>
</tr>
</tbody>
</table>
</div>
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb23"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb23-1"><a href="#cb23-1" aria-hidden="true" tabindex="-1"></a><span class="co">#Print in a dataframe: Q for each heat exchanger and evaporator</span></span>
<span id="cb23-2"><a href="#cb23-2" aria-hidden="true" tabindex="-1"></a>datahx <span class="op">=</span> {<span class="st">'Heat_Exchanger'</span>: [<span class="st">'1'</span>, <span class="st">'2'</span>, <span class="st">'3'</span>, <span class="st">'4'</span>, <span class="st">'Glycolic'</span>],</span>
<span id="cb23-3"><a href="#cb23-3" aria-hidden="true" tabindex="-1"></a>        <span class="st">'Q (W)'</span>: [Q1, Q2, Q3, Q4, Qglycol]}</span>
<span id="cb23-4"><a href="#cb23-4" aria-hidden="true" tabindex="-1"></a>dfhx <span class="op">=</span> pd.DataFrame(datahx)</span>
<span id="cb23-5"><a href="#cb23-5" aria-hidden="true" tabindex="-1"></a>dfhx <span class="op">=</span> dfhx.set_index(<span class="st">'Heat_Exchanger'</span>)</span>
<span id="cb23-6"><a href="#cb23-6" aria-hidden="true" tabindex="-1"></a>dfhx <span class="op">=</span> dfhx.<span class="bu">round</span>(<span class="dv">2</span>)</span>
<span id="cb23-7"><a href="#cb23-7" aria-hidden="true" tabindex="-1"></a>HTML(dfhx.to_html())</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<table class="dataframe table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">Q (W)</th>
</tr>
<tr class="odd">
<th data-quarto-table-cell-role="th">Heat_Exchanger</th>
<th data-quarto-table-cell-role="th"></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">1</td>
<td>491475.77</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">2</td>
<td>302869.43</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">3</td>
<td>400698.49</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">4</td>
<td>0.00</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">Glycolic</td>
<td>55703.14</td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb24"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb24-1"><a href="#cb24-1" aria-hidden="true" tabindex="-1"></a><span class="co">#Load the dataframe in a csv file</span></span>
<span id="cb24-2"><a href="#cb24-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb24-3"><a href="#cb24-3" aria-hidden="true" tabindex="-1"></a>dfrecap.to_csv(<span class="st">'dfrecap.csv'</span>)</span>
<span id="cb24-4"><a href="#cb24-4" aria-hidden="true" tabindex="-1"></a>dfevap.to_csv(<span class="st">'dfevap.csv'</span>)</span>
<span id="cb24-5"><a href="#cb24-5" aria-hidden="true" tabindex="-1"></a>dfhx.to_csv(<span class="st">'dfhx.csv'</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</section>
</section>
<section id="drum-dryers" class="level2" data-number="2.3">
<h2 data-number="2.3" class="anchored" data-anchor-id="drum-dryers"><span class="header-section-number">2.3</span> Drum Dryers</h2>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="Figures/Drum_dryer_new.jpg" class="img-fluid figure-img"></p>
<figcaption class="figure-caption">Drum Dryers</figcaption>
</figure>
</div>
<p>This section will present the mass and energy balances of the various steps involved in the process of drying the concentrated milk into milk powder. The concentrated milk is received by the evaporation section. As such the concentrated milk is considered to be a mixture of 50% water and 50% fat which will be transformed into a mixture of 96% fat and 4% water.</p>
<p>This section consists of multiple step:</p>
<ol type="1">
<li>Compute the mixture proportions at the input and output of each dryer.</li>
<li>Compute the heating demand of each dryer</li>
<li>Compute the heating demand of each HEX component</li>
<li>Compute the amount of cooling water needed to cool down the milk powder</li>
<li>Compute the amount of steam needed to heat up the humid air</li>
<li>Compute the amount of water exiting the system at dd13</li>
</ol>
<section id="mixture-at-each-dryer" class="level3" data-number="2.3.1">
<h3 data-number="2.3.1" class="anchored" data-anchor-id="mixture-at-each-dryer"><span class="header-section-number">2.3.1</span> Mixture at each dryer</h3>
<p>The parameters of the mixture at the position dd1 is known, since it is the same mixture exiting the evaporation process. Knowing that the second dryer evaporates 63% of the water it receives as input, it is possible to compute the proportions of water and fat content at each input and output of the dryers.</p>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb25"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb25-1"><a href="#cb25-1" aria-hidden="true" tabindex="-1"></a>mass_dd1 <span class="op">=</span> <span class="fl">1.32</span></span>
<span id="cb25-2"><a href="#cb25-2" aria-hidden="true" tabindex="-1"></a><span class="co">#mass_dd5 = 0.5*mass_dd4 + 0.5*mass_dd4*(1-0.63) = mass_dd1*0.5 + mass_dd1*0.08</span></span>
<span id="cb25-3"><a href="#cb25-3" aria-hidden="true" tabindex="-1"></a><span class="co">#mass_dd5 = mass_dd1*0.5 + mass_dd1*0.5*0.04</span></span>
<span id="cb25-4"><a href="#cb25-4" aria-hidden="true" tabindex="-1"></a><span class="co">#96% = 0.5*mass_dd1</span></span>
<span id="cb25-5"><a href="#cb25-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb25-6"><a href="#cb25-6" aria-hidden="true" tabindex="-1"></a>mass_dd5 <span class="op">=</span> <span class="fl">0.5</span><span class="op">*</span>mass_dd1 <span class="op">+</span> (<span class="fl">0.5</span><span class="op">*</span>mass_dd1<span class="op">/</span><span class="fl">0.96</span>)<span class="op">*</span><span class="fl">0.04</span></span>
<span id="cb25-7"><a href="#cb25-7" aria-hidden="true" tabindex="-1"></a>mass_dd4 <span class="op">=</span> mass_dd5<span class="op">/</span>(<span class="fl">0.5</span><span class="op">+</span><span class="fl">0.5</span><span class="op">*</span>(<span class="dv">1</span><span class="op">-</span><span class="fl">0.63</span>))</span>
<span id="cb25-8"><a href="#cb25-8" aria-hidden="true" tabindex="-1"></a>mass_dd4 <span class="op">=</span> <span class="fl">0.5</span><span class="op">*</span>mass_dd1 <span class="op">+</span> (mass_dd5<span class="op">-</span><span class="fl">0.5</span><span class="op">*</span>mass_dd1)<span class="op">/</span><span class="fl">0.37</span></span>
<span id="cb25-9"><a href="#cb25-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb25-10"><a href="#cb25-10" aria-hidden="true" tabindex="-1"></a>water_dd1 <span class="op">=</span> <span class="dv">50</span></span>
<span id="cb25-11"><a href="#cb25-11" aria-hidden="true" tabindex="-1"></a>water_dd4 <span class="op">=</span> ((mass_dd4 <span class="op">-</span> mass_dd1<span class="op">/</span><span class="dv">2</span>)<span class="op">/</span>mass_dd4)<span class="op">*</span><span class="dv">100</span></span>
<span id="cb25-12"><a href="#cb25-12" aria-hidden="true" tabindex="-1"></a>water_dd5 <span class="op">=</span> ((mass_dd5 <span class="op">-</span> mass_dd1<span class="op">/</span><span class="dv">2</span>)<span class="op">/</span>mass_dd5)<span class="op">*</span><span class="dv">100</span></span>
<span id="cb25-13"><a href="#cb25-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb25-14"><a href="#cb25-14" aria-hidden="true" tabindex="-1"></a>data_m <span class="op">=</span> {<span class="st">'Position'</span>: [<span class="st">'dd1'</span>, <span class="st">'dd4'</span>, <span class="st">'dd5'</span>, <span class="st">'dd7'</span>],</span>
<span id="cb25-15"><a href="#cb25-15" aria-hidden="true" tabindex="-1"></a>        <span class="st">'m (kg)'</span>: [mass_dd1, mass_dd4, mass_dd5, mass_dd5],</span>
<span id="cb25-16"><a href="#cb25-16" aria-hidden="true" tabindex="-1"></a>        <span class="st">'Water Proportion'</span>: [water_dd1, water_dd4, water_dd5, water_dd5]}</span>
<span id="cb25-17"><a href="#cb25-17" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb25-18"><a href="#cb25-18" aria-hidden="true" tabindex="-1"></a>dfm <span class="op">=</span> pd.DataFrame(data_m)</span>
<span id="cb25-19"><a href="#cb25-19" aria-hidden="true" tabindex="-1"></a>dfm <span class="op">=</span> dfm.set_index(<span class="st">'Position'</span>)</span>
<span id="cb25-20"><a href="#cb25-20" aria-hidden="true" tabindex="-1"></a>dfm <span class="op">=</span> dfm.<span class="bu">round</span>(<span class="dv">2</span>)</span>
<span id="cb25-21"><a href="#cb25-21" aria-hidden="true" tabindex="-1"></a>HTML(dfm.to_html())</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<table class="dataframe table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">m (kg)</th>
<th data-quarto-table-cell-role="th">Water Proportion</th>
</tr>
<tr class="odd">
<th data-quarto-table-cell-role="th">Position</th>
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th"></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">dd1</td>
<td>1.32</td>
<td>50.00</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">dd4</td>
<td>0.73</td>
<td>10.12</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">dd5</td>
<td>0.69</td>
<td>4.00</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">dd7</td>
<td>0.69</td>
<td>4.00</td>
</tr>
</tbody>
</table>
</div>
</div>
</section>
<section id="heating-demand-of-each-dryer" class="level3" data-number="2.3.2">
<h3 data-number="2.3.2" class="anchored" data-anchor-id="heating-demand-of-each-dryer"><span class="header-section-number">2.3.2</span> Heating demand of each dryer</h3>
<p>For this part of the calculations it is assumed that the temperature of the steam at the point dd9 is of 50°C, the temperature at dd10is 60°C and that the pressure of the steam at points dd8, dd9, dd10 and dd11 is of 70529 Pa. The same equations as the ones of section 2.2.2 are used here.</p>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb26"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb26-1"><a href="#cb26-1" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> codes_01_energy_bill.coolprop_functions <span class="im">import</span> mixture</span>
<span id="cb26-2"><a href="#cb26-2" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> pyxosmose.state <span class="im">import</span> State</span>
<span id="cb26-3"><a href="#cb26-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb26-4"><a href="#cb26-4" aria-hidden="true" tabindex="-1"></a>m1_dryer <span class="op">=</span> mass_dd1</span>
<span id="cb26-5"><a href="#cb26-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb26-6"><a href="#cb26-6" aria-hidden="true" tabindex="-1"></a>cpH2O <span class="op">=</span> <span class="dv">4182</span> <span class="co">#J/kg</span></span>
<span id="cb26-7"><a href="#cb26-7" aria-hidden="true" tabindex="-1"></a>cpConcMilk <span class="op">=</span> <span class="dv">2610</span> <span class="co">#J/kg</span></span>
<span id="cb26-8"><a href="#cb26-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb26-9"><a href="#cb26-9" aria-hidden="true" tabindex="-1"></a>pressure_dryer <span class="op">=</span> <span class="dv">70529</span> <span class="co">#Pa, it's the saturatioon pressure for 90°C</span></span>
<span id="cb26-10"><a href="#cb26-10" aria-hidden="true" tabindex="-1"></a>pressure_dd1 <span class="op">=</span> pressure_dd4 <span class="op">=</span> pressure_dd5 <span class="op">=</span> <span class="dv">20000</span> <span class="co">#Pa</span></span>
<span id="cb26-11"><a href="#cb26-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb26-12"><a href="#cb26-12" aria-hidden="true" tabindex="-1"></a>Temp_dd11 <span class="op">=</span> <span class="fl">318.15</span></span>
<span id="cb26-13"><a href="#cb26-13" aria-hidden="true" tabindex="-1"></a>Temp_dd10 <span class="op">=</span> <span class="fl">333.15</span></span>
<span id="cb26-14"><a href="#cb26-14" aria-hidden="true" tabindex="-1"></a>Temp_dd9 <span class="op">=</span> <span class="fl">323.15</span></span>
<span id="cb26-15"><a href="#cb26-15" aria-hidden="true" tabindex="-1"></a>Temp_dd8 <span class="op">=</span> <span class="fl">363.15</span></span>
<span id="cb26-16"><a href="#cb26-16" aria-hidden="true" tabindex="-1"></a>Temp_dd1 <span class="op">=</span> <span class="fl">277.15</span></span>
<span id="cb26-17"><a href="#cb26-17" aria-hidden="true" tabindex="-1"></a>Temp_dd4 <span class="op">=</span> <span class="fl">333.15</span></span>
<span id="cb26-18"><a href="#cb26-18" aria-hidden="true" tabindex="-1"></a>Temp_dd5 <span class="op">=</span> <span class="fl">333.15</span></span>
<span id="cb26-19"><a href="#cb26-19" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb26-20"><a href="#cb26-20" aria-hidden="true" tabindex="-1"></a>mass_dd8 <span class="op">=</span> (mass_dd4<span class="op">-</span>mass_dd5)<span class="op">/</span><span class="dv">79</span></span>
<span id="cb26-21"><a href="#cb26-21" aria-hidden="true" tabindex="-1"></a>mass_dd9 <span class="op">=</span> mass_dd4<span class="op">-</span>mass_dd5 <span class="op">+</span> mass_dd8</span>
<span id="cb26-22"><a href="#cb26-22" aria-hidden="true" tabindex="-1"></a>mass_dd10 <span class="op">=</span> mass_dd9</span>
<span id="cb26-23"><a href="#cb26-23" aria-hidden="true" tabindex="-1"></a>mass_dd11 <span class="op">=</span> mass_dd10 <span class="op">+</span> mass_dd1<span class="op">-</span>mass_dd4</span>
<span id="cb26-24"><a href="#cb26-24" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb26-25"><a href="#cb26-25" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb26-26"><a href="#cb26-26" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> evaporator_fct(m_in,m_out1,m_out2,h_in,h_out1,h_out2,cp_in,deltaT,hfg):</span>
<span id="cb26-27"><a href="#cb26-27" aria-hidden="true" tabindex="-1"></a>    Q_evap <span class="op">=</span> m_in<span class="op">*</span>cp_in<span class="op">*</span>deltaT <span class="op">-</span> m_in<span class="op">*</span>h_in <span class="op">+</span> m_out1<span class="op">*</span>h_out1 <span class="op">+</span> m_out2<span class="op">*</span>h_out2</span>
<span id="cb26-28"><a href="#cb26-28" aria-hidden="true" tabindex="-1"></a>    m_w <span class="op">=</span> (Q_evap)<span class="op">/</span>(hfg)</span>
<span id="cb26-29"><a href="#cb26-29" aria-hidden="true" tabindex="-1"></a>    <span class="co">#print('Qevap:',Q_evap)</span></span>
<span id="cb26-30"><a href="#cb26-30" aria-hidden="true" tabindex="-1"></a>    <span class="co">#print('mw:',m_w)</span></span>
<span id="cb26-31"><a href="#cb26-31" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> Q_evap, m_w</span>
<span id="cb26-32"><a href="#cb26-32" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb26-33"><a href="#cb26-33" aria-hidden="true" tabindex="-1"></a>State_dd1 <span class="op">=</span> mixture(T <span class="op">=</span> Temp_dd1, P <span class="op">=</span> pressure_dd1, frac_water <span class="op">=</span> water_dd1<span class="op">/</span><span class="dv">100</span>, frac_fat <span class="op">=</span> <span class="dv">1</span><span class="op">-</span>water_dd1<span class="op">/</span><span class="dv">100</span>)</span>
<span id="cb26-34"><a href="#cb26-34" aria-hidden="true" tabindex="-1"></a>h1_dryer <span class="op">=</span> State_dd1[<span class="st">"enthalpy"</span>]</span>
<span id="cb26-35"><a href="#cb26-35" aria-hidden="true" tabindex="-1"></a>cp1_dryer <span class="op">=</span> State_dd1[<span class="st">"cpmass"</span>]</span>
<span id="cb26-36"><a href="#cb26-36" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb26-37"><a href="#cb26-37" aria-hidden="true" tabindex="-1"></a>State_dd4 <span class="op">=</span> mixture(T <span class="op">=</span> Temp_dd4, P <span class="op">=</span> pressure_dd4, frac_water <span class="op">=</span> water_dd4<span class="op">/</span><span class="dv">100</span>, frac_fat <span class="op">=</span> <span class="dv">1</span><span class="op">-</span>water_dd4<span class="op">/</span><span class="dv">100</span>)</span>
<span id="cb26-38"><a href="#cb26-38" aria-hidden="true" tabindex="-1"></a>h4_dryer <span class="op">=</span> State_dd4[<span class="st">"enthalpy"</span>]</span>
<span id="cb26-39"><a href="#cb26-39" aria-hidden="true" tabindex="-1"></a>cp4_dryer <span class="op">=</span> State_dd4[<span class="st">"cpmass"</span>]</span>
<span id="cb26-40"><a href="#cb26-40" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb26-41"><a href="#cb26-41" aria-hidden="true" tabindex="-1"></a>State_dd5 <span class="op">=</span> mixture(T <span class="op">=</span> Temp_dd5, P <span class="op">=</span> pressure_dd5, frac_water <span class="op">=</span> water_dd5<span class="op">/</span><span class="dv">100</span>, frac_fat <span class="op">=</span> <span class="dv">1</span><span class="op">-</span>water_dd5<span class="op">/</span><span class="dv">100</span>)</span>
<span id="cb26-42"><a href="#cb26-42" aria-hidden="true" tabindex="-1"></a>h5_dryer <span class="op">=</span> State_dd5[<span class="st">"enthalpy"</span>]</span>
<span id="cb26-43"><a href="#cb26-43" aria-hidden="true" tabindex="-1"></a>cp5_dryer <span class="op">=</span> State_dd5[<span class="st">"cpmass"</span>]</span>
<span id="cb26-44"><a href="#cb26-44" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb26-45"><a href="#cb26-45" aria-hidden="true" tabindex="-1"></a><span class="co">#We assume T9 goes to 50C so it can go back to 60 for T10 and pressure is the ambient pressure</span></span>
<span id="cb26-46"><a href="#cb26-46" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb26-47"><a href="#cb26-47" aria-hidden="true" tabindex="-1"></a>Point_dd9 <span class="op">=</span> State(pair<span class="op">=</span><span class="st">'TP'</span>, fluid<span class="op">=</span><span class="st">'water'</span>, temperature<span class="op">=</span>Temp_dd9, pressure<span class="op">=</span>pressure_dryer)</span>
<span id="cb26-48"><a href="#cb26-48" aria-hidden="true" tabindex="-1"></a>Point_dd9.StateCalc()</span>
<span id="cb26-49"><a href="#cb26-49" aria-hidden="true" tabindex="-1"></a>State_dd9 <span class="op">=</span> Point_dd9.__dict__</span>
<span id="cb26-50"><a href="#cb26-50" aria-hidden="true" tabindex="-1"></a>h9_dryer <span class="op">=</span> State_dd9[<span class="st">"enthalpy"</span>]</span>
<span id="cb26-51"><a href="#cb26-51" aria-hidden="true" tabindex="-1"></a>cp9_dryer <span class="op">=</span> State_dd9[<span class="st">"cpmass"</span>]</span>
<span id="cb26-52"><a href="#cb26-52" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb26-53"><a href="#cb26-53" aria-hidden="true" tabindex="-1"></a>Point_dd8 <span class="op">=</span> State(pair<span class="op">=</span><span class="st">'TP'</span>, fluid<span class="op">=</span><span class="st">'water'</span>, temperature<span class="op">=</span>Temp_dd8, pressure<span class="op">=</span>pressure_dryer)</span>
<span id="cb26-54"><a href="#cb26-54" aria-hidden="true" tabindex="-1"></a>Point_dd8.StateCalc()</span>
<span id="cb26-55"><a href="#cb26-55" aria-hidden="true" tabindex="-1"></a>State_dd8 <span class="op">=</span> Point_dd8.__dict__</span>
<span id="cb26-56"><a href="#cb26-56" aria-hidden="true" tabindex="-1"></a>hfg8_dryer <span class="op">=</span> State_e24[<span class="st">"enthalpy"</span>]</span>
<span id="cb26-57"><a href="#cb26-57" aria-hidden="true" tabindex="-1"></a>cp8_dryer <span class="op">=</span> State_dd8[<span class="st">"cpmass"</span>]</span>
<span id="cb26-58"><a href="#cb26-58" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb26-59"><a href="#cb26-59" aria-hidden="true" tabindex="-1"></a>cp14_dryer <span class="op">=</span> cp8_dryer</span>
<span id="cb26-60"><a href="#cb26-60" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb26-61"><a href="#cb26-61" aria-hidden="true" tabindex="-1"></a>Q2_dryer, m_w_2_dryer <span class="op">=</span> evaporator_fct(mass_dd4, mass_dd4<span class="op">-</span>mass_dd5, mass_dd5, h4_dryer, h9_dryer, h5_dryer, cp4_dryer, <span class="dv">40</span>, hfg8_dryer)</span>
<span id="cb26-62"><a href="#cb26-62" aria-hidden="true" tabindex="-1"></a><span class="co">#print(Q2_dryer)</span></span>
<span id="cb26-63"><a href="#cb26-63" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb26-64"><a href="#cb26-64" aria-hidden="true" tabindex="-1"></a>Point_dd10 <span class="op">=</span> State(pair<span class="op">=</span><span class="st">'TP'</span>, fluid<span class="op">=</span><span class="st">'water'</span>, temperature<span class="op">=</span>Temp_dd10, pressure<span class="op">=</span>pressure_dryer)</span>
<span id="cb26-65"><a href="#cb26-65" aria-hidden="true" tabindex="-1"></a>Point_dd10.StateCalc()</span>
<span id="cb26-66"><a href="#cb26-66" aria-hidden="true" tabindex="-1"></a>State_dd10 <span class="op">=</span> Point_dd10.__dict__</span>
<span id="cb26-67"><a href="#cb26-67" aria-hidden="true" tabindex="-1"></a>hfg10_dryer <span class="op">=</span> State_dd10[<span class="st">"enthalpy"</span>]</span>
<span id="cb26-68"><a href="#cb26-68" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb26-69"><a href="#cb26-69" aria-hidden="true" tabindex="-1"></a>Point_dd11 <span class="op">=</span> State(pair<span class="op">=</span><span class="st">'TP'</span>, fluid<span class="op">=</span><span class="st">'water'</span>, temperature<span class="op">=</span>Temp_dd11, pressure<span class="op">=</span>pressure_dryer)</span>
<span id="cb26-70"><a href="#cb26-70" aria-hidden="true" tabindex="-1"></a>Point_dd11.StateCalc()</span>
<span id="cb26-71"><a href="#cb26-71" aria-hidden="true" tabindex="-1"></a>State_dd11 <span class="op">=</span> Point_dd11.__dict__</span>
<span id="cb26-72"><a href="#cb26-72" aria-hidden="true" tabindex="-1"></a>h11_dryer <span class="op">=</span> State_dd11[<span class="st">"enthalpy"</span>]</span>
<span id="cb26-73"><a href="#cb26-73" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb26-74"><a href="#cb26-74" aria-hidden="true" tabindex="-1"></a>Q3_dryer, m_w_3_dryer <span class="op">=</span> evaporator_fct(mass_dd1, mass_dd1<span class="op">-</span>mass_dd4 <span class="op">+</span> mass_dd4<span class="op">-</span>mass_dd5, mass_dd4, h1_dryer, h11_dryer, h4_dryer, cp1_dryer, <span class="dv">15</span>, hfg10_dryer)</span>
<span id="cb26-75"><a href="#cb26-75" aria-hidden="true" tabindex="-1"></a><span class="co">#print(Q3_dryer)</span></span>
<span id="cb26-76"><a href="#cb26-76" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb26-77"><a href="#cb26-77" aria-hidden="true" tabindex="-1"></a>data_param <span class="op">=</span> {<span class="st">'Position'</span>: [<span class="st">'1'</span>, <span class="st">'4'</span>, <span class="st">'5'</span>, <span class="st">'8'</span>, <span class="st">'9'</span>, <span class="st">'10'</span>, <span class="st">'11'</span>],</span>
<span id="cb26-78"><a href="#cb26-78" aria-hidden="true" tabindex="-1"></a>            <span class="st">'Mass flow (kg/s)'</span>: [mass_dd1, mass_dd4, mass_dd5, mass_dd8, mass_dd9, mass_dd10, mass_dd11],</span>
<span id="cb26-79"><a href="#cb26-79" aria-hidden="true" tabindex="-1"></a>            <span class="st">'Temperature (K)'</span>: [Temp_dd1, Temp_dd4, Temp_dd5, Temp_dd8, Temp_dd9, Temp_dd10, Temp_dd11],</span>
<span id="cb26-80"><a href="#cb26-80" aria-hidden="true" tabindex="-1"></a>            <span class="st">'Pressure (Pa)'</span>: [pressure_dd1, pressure_dd4, pressure_dd5, pressure_dryer, pressure_dryer, pressure_dryer, pressure_dryer]}</span>
<span id="cb26-81"><a href="#cb26-81" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb26-82"><a href="#cb26-82" aria-hidden="true" tabindex="-1"></a>dfp <span class="op">=</span> pd.DataFrame(data_param)</span>
<span id="cb26-83"><a href="#cb26-83" aria-hidden="true" tabindex="-1"></a>dfp <span class="op">=</span> dfp.set_index(<span class="st">'Position'</span>)</span>
<span id="cb26-84"><a href="#cb26-84" aria-hidden="true" tabindex="-1"></a>dfp <span class="op">=</span> dfp.<span class="bu">round</span>(<span class="dv">4</span>)</span>
<span id="cb26-85"><a href="#cb26-85" aria-hidden="true" tabindex="-1"></a>HTML(dfp.to_html())</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<table class="dataframe table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">Mass flow (kg/s)</th>
<th data-quarto-table-cell-role="th">Temperature (K)</th>
<th data-quarto-table-cell-role="th">Pressure (Pa)</th>
</tr>
<tr class="odd">
<th data-quarto-table-cell-role="th">Position</th>
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th"></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">1</td>
<td>1.3200</td>
<td>277.15</td>
<td>20000</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">4</td>
<td>0.7343</td>
<td>333.15</td>
<td>20000</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">5</td>
<td>0.6875</td>
<td>333.15</td>
<td>20000</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">8</td>
<td>0.0006</td>
<td>363.15</td>
<td>70529</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">9</td>
<td>0.0474</td>
<td>323.15</td>
<td>70529</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">10</td>
<td>0.0474</td>
<td>333.15</td>
<td>70529</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">11</td>
<td>0.6331</td>
<td>318.15</td>
<td>70529</td>
</tr>
</tbody>
</table>
</div>
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb27"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb27-1"><a href="#cb27-1" aria-hidden="true" tabindex="-1"></a>data_q <span class="op">=</span> {<span class="st">'Dryer'</span>: [<span class="st">'Dryer 1'</span>, <span class="st">'Dryer 2'</span>],</span>
<span id="cb27-2"><a href="#cb27-2" aria-hidden="true" tabindex="-1"></a>        <span class="st">'Heat demand (W)'</span>: [Q3_dryer, Q2_dryer]}</span>
<span id="cb27-3"><a href="#cb27-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb27-4"><a href="#cb27-4" aria-hidden="true" tabindex="-1"></a>dfq <span class="op">=</span> pd.DataFrame(data_q)</span>
<span id="cb27-5"><a href="#cb27-5" aria-hidden="true" tabindex="-1"></a>dfq <span class="op">=</span> dfq.set_index(<span class="st">'Dryer'</span>)</span>
<span id="cb27-6"><a href="#cb27-6" aria-hidden="true" tabindex="-1"></a>dfq <span class="op">=</span> dfq.<span class="bu">round</span>(<span class="dv">2</span>)</span>
<span id="cb27-7"><a href="#cb27-7" aria-hidden="true" tabindex="-1"></a>HTML(dfq.to_html())</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<table class="dataframe table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">Heat demand (W)</th>
</tr>
<tr class="odd">
<th data-quarto-table-cell-role="th">Dryer</th>
<th data-quarto-table-cell-role="th"></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">Dryer 1</td>
<td>267875.02</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">Dryer 2</td>
<td>67081.68</td>
</tr>
</tbody>
</table>
</div>
</div>
</section>
<section id="heating-demand-of-each-hex" class="level3" data-number="2.3.3">
<h3 data-number="2.3.3" class="anchored" data-anchor-id="heating-demand-of-each-hex"><span class="header-section-number">2.3.3</span> Heating demand of each HEX</h3>
<p>In this section the following equation is used:</p>
<p><span class="math display">\begin{align}
    Q = m \cdot cp \cdot (T_{1} - T_{2})
\end{align}</span></p>
<p>The cp corresponding to the milk mixtures were calculated in the precedent section.</p>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb28"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb28-1"><a href="#cb28-1" aria-hidden="true" tabindex="-1"></a>data_cp <span class="op">=</span> {<span class="st">'Position'</span>: [<span class="st">'5'</span>, <span class="st">'9'</span>, <span class="st">'14'</span>],</span>
<span id="cb28-2"><a href="#cb28-2" aria-hidden="true" tabindex="-1"></a>        <span class="st">'cp (J/kg.K)'</span>: [ cp5_dryer, cp9_dryer, cp14_dryer]}</span>
<span id="cb28-3"><a href="#cb28-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb28-4"><a href="#cb28-4" aria-hidden="true" tabindex="-1"></a>dfcp <span class="op">=</span> pd.DataFrame(data_cp)</span>
<span id="cb28-5"><a href="#cb28-5" aria-hidden="true" tabindex="-1"></a>dfcp <span class="op">=</span> dfcp.set_index(<span class="st">'Position'</span>)</span>
<span id="cb28-6"><a href="#cb28-6" aria-hidden="true" tabindex="-1"></a>dfcp <span class="op">=</span> dfcp.<span class="bu">round</span>(<span class="dv">2</span>)</span>
<span id="cb28-7"><a href="#cb28-7" aria-hidden="true" tabindex="-1"></a>HTML(dfcp.to_html())</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<table class="dataframe table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">cp (J/kg.K)</th>
</tr>
<tr class="odd">
<th data-quarto-table-cell-role="th">Position</th>
<th data-quarto-table-cell-role="th"></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">5</td>
<td>2225.45</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">9</td>
<td>4181.41</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">14</td>
<td>4205.27</td>
</tr>
</tbody>
</table>
</div>
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb29"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb29-1"><a href="#cb29-1" aria-hidden="true" tabindex="-1"></a>QHEX1_dryer <span class="op">=</span> mass_dd8<span class="op">*</span>cp8_dryer<span class="op">*</span>(Temp_dd8<span class="op">-</span>Temp_dd11)</span>
<span id="cb29-2"><a href="#cb29-2" aria-hidden="true" tabindex="-1"></a>QHEX2_dryer <span class="op">=</span> mass_dd9<span class="op">*</span>cp9_dryer<span class="op">*</span>(Temp_dd10<span class="op">-</span>Temp_dd9)</span>
<span id="cb29-3"><a href="#cb29-3" aria-hidden="true" tabindex="-1"></a>QHEX3_dryer <span class="op">=</span> mass_dd5<span class="op">*</span>cp5_dryer<span class="op">*</span>(<span class="dv">10</span>)</span>
<span id="cb29-4"><a href="#cb29-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-5"><a href="#cb29-5" aria-hidden="true" tabindex="-1"></a>data_QHEX <span class="op">=</span> {<span class="st">'HEX'</span>: [<span class="st">'1'</span>, <span class="st">'2'</span>, <span class="st">'3'</span>],</span>
<span id="cb29-6"><a href="#cb29-6" aria-hidden="true" tabindex="-1"></a>        <span class="st">'Q (W)'</span>: [ QHEX1_dryer, QHEX2_dryer, QHEX3_dryer]}</span>
<span id="cb29-7"><a href="#cb29-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-8"><a href="#cb29-8" aria-hidden="true" tabindex="-1"></a>dfqhex <span class="op">=</span> pd.DataFrame(data_QHEX)</span>
<span id="cb29-9"><a href="#cb29-9" aria-hidden="true" tabindex="-1"></a>dfqhex <span class="op">=</span> dfqhex.set_index(<span class="st">'HEX'</span>)</span>
<span id="cb29-10"><a href="#cb29-10" aria-hidden="true" tabindex="-1"></a>dfqhex <span class="op">=</span> dfqhex.<span class="bu">round</span>(<span class="dv">2</span>)</span>
<span id="cb29-11"><a href="#cb29-11" aria-hidden="true" tabindex="-1"></a>HTML(dfqhex.to_html())</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<table class="dataframe table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">Q (W)</th>
</tr>
<tr class="odd">
<th data-quarto-table-cell-role="th">HEX</th>
<th data-quarto-table-cell-role="th"></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">1</td>
<td>112.16</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">2</td>
<td>1982.70</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">3</td>
<td>15299.94</td>
</tr>
</tbody>
</table>
</div>
</div>
</section>
<section id="water-demand-to-cool-down-the-milk-powder" class="level3" data-number="2.3.4">
<h3 data-number="2.3.4" class="anchored" data-anchor-id="water-demand-to-cool-down-the-milk-powder"><span class="header-section-number">2.3.4</span> Water demand to cool down the milk powder</h3>
<p>It is assumed that the water used to cool down the milk powder is saturated. As such, the following formula can be used:</p>
<p><span class="math display">\begin{align}
    Q = m_{water} \cdot L_{water}
\end{align}</span></p>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb30"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb30-1"><a href="#cb30-1" aria-hidden="true" tabindex="-1"></a>Lwater <span class="op">=</span> <span class="fl">2264.705</span></span>
<span id="cb30-2"><a href="#cb30-2" aria-hidden="true" tabindex="-1"></a>mass_water <span class="op">=</span> QHEX3_dryer <span class="op">/</span> Lwater</span>
<span id="cb30-3"><a href="#cb30-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb30-4"><a href="#cb30-4" aria-hidden="true" tabindex="-1"></a>data_water <span class="op">=</span> {<span class="st">'HEX'</span>: [<span class="st">'3'</span>],</span>
<span id="cb30-5"><a href="#cb30-5" aria-hidden="true" tabindex="-1"></a>        <span class="st">'Mass flow (kg/s)'</span>: [ mass_water]}</span>
<span id="cb30-6"><a href="#cb30-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb30-7"><a href="#cb30-7" aria-hidden="true" tabindex="-1"></a>dfw <span class="op">=</span> pd.DataFrame(data_water)</span>
<span id="cb30-8"><a href="#cb30-8" aria-hidden="true" tabindex="-1"></a>dfw <span class="op">=</span> dfw.set_index(<span class="st">'HEX'</span>)</span>
<span id="cb30-9"><a href="#cb30-9" aria-hidden="true" tabindex="-1"></a>dfw <span class="op">=</span> dfw.<span class="bu">round</span>(<span class="dv">2</span>)</span>
<span id="cb30-10"><a href="#cb30-10" aria-hidden="true" tabindex="-1"></a>HTML(dfw.to_html())</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<table class="dataframe table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">Mass flow (kg/s)</th>
</tr>
<tr class="odd">
<th data-quarto-table-cell-role="th">HEX</th>
<th data-quarto-table-cell-role="th"></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">3</td>
<td>6.76</td>
</tr>
</tbody>
</table>
</div>
</div>
</section>
<section id="steam-demand-to-heat-up-the-air" class="level3" data-number="2.3.5">
<h3 data-number="2.3.5" class="anchored" data-anchor-id="steam-demand-to-heat-up-the-air"><span class="header-section-number">2.3.5</span> Steam demand to heat up the air</h3>
<p>The steam demand can be computed in the same way as the water demand by inverting the sign of the latent heat parameter. The steam is assumed to be saturated.</p>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb31"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb31-1"><a href="#cb31-1" aria-hidden="true" tabindex="-1"></a>LwaterEvap <span class="op">=</span> <span class="fl">2264.705</span></span>
<span id="cb31-2"><a href="#cb31-2" aria-hidden="true" tabindex="-1"></a>mass_steam1 <span class="op">=</span> QHEX1_dryer <span class="op">/</span> LwaterEvap</span>
<span id="cb31-3"><a href="#cb31-3" aria-hidden="true" tabindex="-1"></a>mass_steam2 <span class="op">=</span> QHEX2_dryer <span class="op">/</span> LwaterEvap</span>
<span id="cb31-4"><a href="#cb31-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-5"><a href="#cb31-5" aria-hidden="true" tabindex="-1"></a>data_steam <span class="op">=</span> {<span class="st">'HEX'</span>: [<span class="st">'1'</span>, <span class="st">'2'</span>],</span>
<span id="cb31-6"><a href="#cb31-6" aria-hidden="true" tabindex="-1"></a>        <span class="st">'Mass flow (kg/s)'</span>: [ mass_steam1, mass_steam2]}</span>
<span id="cb31-7"><a href="#cb31-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-8"><a href="#cb31-8" aria-hidden="true" tabindex="-1"></a>dfs <span class="op">=</span> pd.DataFrame(data_steam)</span>
<span id="cb31-9"><a href="#cb31-9" aria-hidden="true" tabindex="-1"></a>dfs <span class="op">=</span> dfs.set_index(<span class="st">'HEX'</span>)</span>
<span id="cb31-10"><a href="#cb31-10" aria-hidden="true" tabindex="-1"></a>dfs <span class="op">=</span> dfs.<span class="bu">round</span>(<span class="dv">2</span>)</span>
<span id="cb31-11"><a href="#cb31-11" aria-hidden="true" tabindex="-1"></a>HTML(dfs.to_html())</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<table class="dataframe table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">Mass flow (kg/s)</th>
</tr>
<tr class="odd">
<th data-quarto-table-cell-role="th">HEX</th>
<th data-quarto-table-cell-role="th"></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">1</td>
<td>0.05</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">2</td>
<td>0.88</td>
</tr>
</tbody>
</table>
</div>
</div>
</section>
<section id="water-exiting-the-system" class="level3" data-number="2.3.6">
<h3 data-number="2.3.6" class="anchored" data-anchor-id="water-exiting-the-system"><span class="header-section-number">2.3.6</span> Water exiting the system</h3>
<p>The amount of water exiting the system at dd13 is simply the difference of mass between dd11 and dd8:</p>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb32"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb32-1"><a href="#cb32-1" aria-hidden="true" tabindex="-1"></a>water_exiting <span class="op">=</span> mass_dd11 <span class="op">-</span> mass_dd8</span>
<span id="cb32-2"><a href="#cb32-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb32-3"><a href="#cb32-3" aria-hidden="true" tabindex="-1"></a>data_water_exiting <span class="op">=</span> {<span class="st">'Position'</span>: [<span class="st">'13'</span>],</span>
<span id="cb32-4"><a href="#cb32-4" aria-hidden="true" tabindex="-1"></a>        <span class="st">'Mass flow (kg/s)'</span>: [ water_exiting]}</span>
<span id="cb32-5"><a href="#cb32-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb32-6"><a href="#cb32-6" aria-hidden="true" tabindex="-1"></a>dfwe <span class="op">=</span> pd.DataFrame(data_water_exiting)</span>
<span id="cb32-7"><a href="#cb32-7" aria-hidden="true" tabindex="-1"></a>dfwe <span class="op">=</span> dfwe.set_index(<span class="st">'Position'</span>)</span>
<span id="cb32-8"><a href="#cb32-8" aria-hidden="true" tabindex="-1"></a>dfwe <span class="op">=</span> dfwe.<span class="bu">round</span>(<span class="dv">2</span>)</span>
<span id="cb32-9"><a href="#cb32-9" aria-hidden="true" tabindex="-1"></a>HTML(dfwe.to_html())</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<table class="dataframe table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">Mass flow (kg/s)</th>
</tr>
<tr class="odd">
<th data-quarto-table-cell-role="th">Position</th>
<th data-quarto-table-cell-role="th"></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">13</td>
<td>0.63</td>
</tr>
</tbody>
</table>
</div>
</div>
</section>
<section id="summary-for-the-drum-dryers-section" class="level3" data-number="2.3.7">
<h3 data-number="2.3.7" class="anchored" data-anchor-id="summary-for-the-drum-dryers-section"><span class="header-section-number">2.3.7</span> Summary for the Drum Dryers section</h3>
<p>This table is a summary of the characteristics of each point of this section:</p>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb33"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb33-1"><a href="#cb33-1" aria-hidden="true" tabindex="-1"></a>mass_dd6 <span class="op">=</span> mass_dd5</span>
<span id="cb33-2"><a href="#cb33-2" aria-hidden="true" tabindex="-1"></a>mass_dd7 <span class="op">=</span> mass_dd6</span>
<span id="cb33-3"><a href="#cb33-3" aria-hidden="true" tabindex="-1"></a>mass_dd12 <span class="op">=</span> mass_dd11</span>
<span id="cb33-4"><a href="#cb33-4" aria-hidden="true" tabindex="-1"></a>mass_dd13 <span class="op">=</span> water_exiting</span>
<span id="cb33-5"><a href="#cb33-5" aria-hidden="true" tabindex="-1"></a>mass_dd14 <span class="op">=</span> mass_dd8</span>
<span id="cb33-6"><a href="#cb33-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb33-7"><a href="#cb33-7" aria-hidden="true" tabindex="-1"></a>Temp_dd6 <span class="op">=</span> <span class="fl">323.15</span></span>
<span id="cb33-8"><a href="#cb33-8" aria-hidden="true" tabindex="-1"></a>Temp_dd7 <span class="op">=</span> Temp_dd6</span>
<span id="cb33-9"><a href="#cb33-9" aria-hidden="true" tabindex="-1"></a>Temp_dd12 <span class="op">=</span> Temp_dd11</span>
<span id="cb33-10"><a href="#cb33-10" aria-hidden="true" tabindex="-1"></a>Temp_dd13 <span class="op">=</span> <span class="fl">318.15</span></span>
<span id="cb33-11"><a href="#cb33-11" aria-hidden="true" tabindex="-1"></a>Temp_dd14 <span class="op">=</span> Temp_dd13</span>
<span id="cb33-12"><a href="#cb33-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb33-13"><a href="#cb33-13" aria-hidden="true" tabindex="-1"></a>dryer_summary <span class="op">=</span> {<span class="st">'Position'</span>: [<span class="st">'1'</span>, <span class="st">'4'</span>, <span class="st">'5'</span>, <span class="st">'6'</span>, <span class="st">'7'</span>, <span class="st">'8'</span>, <span class="st">'9'</span>, <span class="st">'10'</span>, <span class="st">'11'</span>, <span class="st">'12'</span>, <span class="st">'13'</span>, <span class="st">'14'</span>],</span>
<span id="cb33-14"><a href="#cb33-14" aria-hidden="true" tabindex="-1"></a>            <span class="st">'Mass Flow (kg/s)'</span>: [mass_dd1, mass_dd4, mass_dd5, mass_dd6, mass_dd7, mass_dd8, mass_dd9, mass_dd10, mass_dd11, mass_dd12, mass_dd13, mass_dd14],</span>
<span id="cb33-15"><a href="#cb33-15" aria-hidden="true" tabindex="-1"></a>            <span class="st">'Temperature (K)'</span>: [Temp_dd1, Temp_dd4, Temp_dd5, Temp_dd6, Temp_dd7, Temp_dd8, Temp_dd9, Temp_dd10, Temp_dd11, Temp_dd12, Temp_dd13, Temp_dd14]}</span>
<span id="cb33-16"><a href="#cb33-16" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb33-17"><a href="#cb33-17" aria-hidden="true" tabindex="-1"></a>dfsd <span class="op">=</span> pd.DataFrame(dryer_summary)</span>
<span id="cb33-18"><a href="#cb33-18" aria-hidden="true" tabindex="-1"></a>dfsd <span class="op">=</span> dfsd.set_index(<span class="st">'Position'</span>)</span>
<span id="cb33-19"><a href="#cb33-19" aria-hidden="true" tabindex="-1"></a>dfsd <span class="op">=</span> dfsd.<span class="bu">round</span>(<span class="dv">4</span>)</span>
<span id="cb33-20"><a href="#cb33-20" aria-hidden="true" tabindex="-1"></a>HTML(dfsd.to_html())</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<table class="dataframe table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">Mass Flow (kg/s)</th>
<th data-quarto-table-cell-role="th">Temperature (K)</th>
</tr>
<tr class="odd">
<th data-quarto-table-cell-role="th">Position</th>
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th"></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">1</td>
<td>1.3200</td>
<td>277.15</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">4</td>
<td>0.7343</td>
<td>333.15</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">5</td>
<td>0.6875</td>
<td>333.15</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">6</td>
<td>0.6875</td>
<td>323.15</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">7</td>
<td>0.6875</td>
<td>323.15</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">8</td>
<td>0.0006</td>
<td>363.15</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">9</td>
<td>0.0474</td>
<td>323.15</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">10</td>
<td>0.0474</td>
<td>333.15</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">11</td>
<td>0.6331</td>
<td>318.15</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">12</td>
<td>0.6331</td>
<td>318.15</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">13</td>
<td>0.6325</td>
<td>318.15</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">14</td>
<td>0.0006</td>
<td>318.15</td>
</tr>
</tbody>
</table>
</div>
</div>
</section>
</section>
<section id="cleaning-in-place" class="level2" data-number="2.4">
<h2 data-number="2.4" class="anchored" data-anchor-id="cleaning-in-place"><span class="header-section-number">2.4</span> Cleaning in Place</h2>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="Figures/CIP.svg" class="img-fluid figure-img"></p>
<figcaption class="figure-caption">Cleaning in Place</figcaption>
</figure>
</div>
<p>Assumptions:</p>
<ul>
<li>For safety purposes the glass needs to contact with water which is at least at 65°C. Each glass bottle weights 370 g and has 500 mL of capacity.</li>
</ul>
<p>For this part of the process, the following data are used:</p>
<ul>
<li>Mass Flows <span class="math inline">\dot{m}_2 = 4\,kg/s</span></li>
<li>Specific Heats
<ul>
<li><span class="math inline">c_{p,water} = 4.184\,kJ/kgK</span> (Specific heat of liquid water)</li>
<li><span class="math inline">c_{p,glass} = 0.840\,kJ/kgK</span> (Specific heat of glass: <span class="citation" data-cites="noauthor_table_nodate"><span>“Table of <span>Specific</span> <span>Heats</span>”</span> (<a href="#ref-noauthor_table_nodate" role="doc-biblioref">n.d.</a>)</span>)</li>
<li><span class="math inline">h_{fg, steam} = 2257\,kJ/kg</span> (Latent heat of steam at <span class="math inline">100^\circ C</span>)</li>
</ul></li>
<li>Temperatures
<ul>
<li><span class="math inline">T_1 = 25°C</span></li>
<li><span class="math inline">T_2 = 60°C</span></li>
<li><span class="math inline">T_3 = T_{10} = 80°C</span></li>
<li><span class="math inline">T_4 = T_5 = T_6 = T_{12} = 75°C</span></li>
<li><span class="math inline">T_7 = 30°C</span></li>
<li><span class="math inline">T_8 = 25°C</span></li>
<li><span class="math inline">T_{11} = 40°C</span></li>
<li><span class="math inline">T_{steam} = 100°C</span> (Steam pressure is assumed at 1 bar)</li>
</ul></li>
</ul>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb34"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb34-1"><a href="#cb34-1" aria-hidden="true" tabindex="-1"></a>cp_water<span class="ot">=</span><span class="fl">4.184</span></span>
<span id="cb34-2"><a href="#cb34-2" aria-hidden="true" tabindex="-1"></a>cp_glass<span class="ot">=</span><span class="fl">0.84</span></span>
<span id="cb34-3"><a href="#cb34-3" aria-hidden="true" tabindex="-1"></a>hfg_cipsteam <span class="ot">=</span> <span class="dv">2257</span></span>
<span id="cb34-4"><a href="#cb34-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb34-5"><a href="#cb34-5" aria-hidden="true" tabindex="-1"></a>m_cip2<span class="ot">=</span><span class="dv">4</span></span>
<span id="cb34-6"><a href="#cb34-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb34-7"><a href="#cb34-7" aria-hidden="true" tabindex="-1"></a>t_cip1<span class="ot">=</span><span class="dv">298</span></span>
<span id="cb34-8"><a href="#cb34-8" aria-hidden="true" tabindex="-1"></a>t_cip2<span class="ot">=</span><span class="dv">333</span></span>
<span id="cb34-9"><a href="#cb34-9" aria-hidden="true" tabindex="-1"></a>t_cip3<span class="ot">=</span><span class="dv">353</span></span>
<span id="cb34-10"><a href="#cb34-10" aria-hidden="true" tabindex="-1"></a>t_cip4<span class="ot">=</span><span class="dv">348</span></span>
<span id="cb34-11"><a href="#cb34-11" aria-hidden="true" tabindex="-1"></a>t_cip5 <span class="ot">=</span> t_cip4</span>
<span id="cb34-12"><a href="#cb34-12" aria-hidden="true" tabindex="-1"></a>t_cip6 <span class="ot">=</span> t_cip4</span>
<span id="cb34-13"><a href="#cb34-13" aria-hidden="true" tabindex="-1"></a>t_cip7<span class="ot">=</span><span class="dv">303</span></span>
<span id="cb34-14"><a href="#cb34-14" aria-hidden="true" tabindex="-1"></a>t_cip8<span class="ot">=</span><span class="dv">298</span></span>
<span id="cb34-15"><a href="#cb34-15" aria-hidden="true" tabindex="-1"></a>t_cip11<span class="ot">=</span><span class="dv">313</span></span>
<span id="cb34-16"><a href="#cb34-16" aria-hidden="true" tabindex="-1"></a>t_cip10 <span class="ot">=</span> t_cip3</span>
<span id="cb34-17"><a href="#cb34-17" aria-hidden="true" tabindex="-1"></a>t_cip12 <span class="ot">=</span> t_cip4</span>
<span id="cb34-18"><a href="#cb34-18" aria-hidden="true" tabindex="-1"></a>t_cipsteam <span class="ot">=</span> <span class="dv">373</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<section id="mixer-1" class="level3" data-number="2.4.1">
<h3 data-number="2.4.1" class="anchored" data-anchor-id="mixer-1"><span class="header-section-number">2.4.1</span> Mixer</h3>
<p>The first component is an adiabatic mixer (enthalpy stays constant over the mixing). There are three different flows assumed to be water flow (according to pressure and temperature flows). Two in flows and on out flow. We can obtain the mass and energy balance at the mixer as follows: <span id="eq-mixer_m1"><span class="math display">
\dot{m}_{CIP,1}cp_{water}T_{CIP,1}+\dot{m}_{CIP,5}cp_{water}T_{CIP,5}=\dot{m}_{CIP,2}cp_{water}T_{CIP,2}
\tag{2.16}</span></span> <span id="eq-mixer_m2"><span class="math display">
\dot{m}_{CIP,1}+\dot{m}_{CIP,5}=\dot{m}_{CIP,2}
\tag{2.17}</span></span></p>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb35"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb35-1"><a href="#cb35-1" aria-hidden="true" tabindex="-1"></a>m_cip1 <span class="ot">=</span> m_cip2<span class="sc">*</span>(t_cip2<span class="sc">-</span>t_cip5)<span class="sc">/</span>(t_cip1<span class="sc">-</span>t_cip5) </span>
<span id="cb35-2"><a href="#cb35-2" aria-hidden="true" tabindex="-1"></a>m_cip5 <span class="ot">=</span> m_cip2<span class="sc">-</span>m_cip1</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<p>Hence, <span class="math inline">m_{CIP,1}</span> is equal to 1.2 <span class="math inline">kg/s</span> and <span class="math inline">m_{CIP,5}</span> is equal to 2.8 <span class="math inline">kg/s</span>.</p>
</section>
<section id="heater" class="level3" data-number="2.4.2">
<h3 data-number="2.4.2" class="anchored" data-anchor-id="heater"><span class="header-section-number">2.4.2</span> Heater</h3>
<p>The next step is to compute balances of the upper HX (between Steam and point 2 and 3). At this HX, there is mixed water at <span class="math inline">60^\circ C</span> which is heated to <span class="math inline">80^\circ C</span>. The steam used to heat up the water is assumed to be at 1 bar (costs saving reason). Again we have the following equations to compute the heat exchanged and the mass flow of steam (NB: mass flow of water is constant over the HX). <span id="eq-CIPHXsteam1"><span class="math display">
Q_{CIPHX,steam}=\dot{m}_{CIP,2}Cp_{water}(T_{CIP,3}-T_{CIP,2})
\tag{2.18}</span></span></p>
<p><span id="eq-CIPHXsteam2"><span class="math display">
Q_{CIPHX,steam}=\dot{m}_{steam}h_{fg,steam}
\tag{2.19}</span></span></p>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb36"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb36-1"><a href="#cb36-1" aria-hidden="true" tabindex="-1"></a>q_cipsteam <span class="ot">=</span> m_cip2<span class="sc">*</span>cp_water<span class="sc">*</span>(t_cip3<span class="sc">-</span>t_cip2)</span>
<span id="cb36-2"><a href="#cb36-2" aria-hidden="true" tabindex="-1"></a>m_cipsteam <span class="ot">=</span> q_cipsteam<span class="sc">/</span>hfg_cipsteam</span>
<span id="cb36-3"><a href="#cb36-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb36-4"><a href="#cb36-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Splitting between CIP-3 and CIP-10 </span></span>
<span id="cb36-5"><a href="#cb36-5" aria-hidden="true" tabindex="-1"></a>p <span class="ot">=</span> <span class="fl">0.5</span> <span class="co"># assumed for ease of calculation</span></span>
<span id="cb36-6"><a href="#cb36-6" aria-hidden="true" tabindex="-1"></a>m_cip3 <span class="ot">=</span> m_cip2<span class="sc">*</span>p</span>
<span id="cb36-7"><a href="#cb36-7" aria-hidden="true" tabindex="-1"></a>m_cip10 <span class="ot">=</span> m_cip2<span class="sc">*</span>(<span class="dv">1</span><span class="sc">-</span>p)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<p>There is 334.72 <span class="math inline">kW</span> heat exchanged thanks to a 0.1 <span class="math inline">kg/s</span> steam flow.</p>
</section>
<section id="showers" class="level3" data-number="2.4.3">
<h3 data-number="2.4.3" class="anchored" data-anchor-id="showers"><span class="header-section-number">2.4.3</span> Showers</h3>
<p>It has been assume for ease of calculation that both showers received the same exact mass flow of hot water. Thus, <span class="math inline">\dot{m}_{3} = \dot{m}_{4} = \dot{m}_{10} = \dot{m}_{12}= \dot{m}_{shower}=\frac{\dot{m}_2}{2}</span> Furthermore, it is assumed that there is no heat loss through radiation. It is also assumed the mass of the bottle will stay constant the entire process (from part 8 to part 11) and thus: <span class="math inline">\dot{m}_8 = \dot{m}_9 = \dot{m}_{11} = \dot{m}_{glass}</span>.</p>
<p>The heat balance for the first shower is as followed: <span class="math display"> \dot{m}_{glass}c_{p,glass}(T_9-T_8)=\dot{m}_{shower}c_{p,water}(T_{3}-T_4)</span> Then for shower 2: <span class="math display"> \dot{m}_{glass}c_{p,glass}(T_{11}-T_9)=\dot{m}_{shower}c_{p,water}(T_{10}-T_{12})</span></p>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb37"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb37-1"><a href="#cb37-1" aria-hidden="true" tabindex="-1"></a>Q_shower<span class="ot">=</span>m_cip3<span class="sc">*</span>cp_water<span class="sc">*</span>(t_cip3<span class="sc">-</span>t_cip4) <span class="co">#same w/ m_cip4</span></span>
<span id="cb37-2"><a href="#cb37-2" aria-hidden="true" tabindex="-1"></a>t_cip9<span class="ot">=</span>(t_cip11<span class="sc">+</span>t_cip8)<span class="sc">/</span><span class="dv">2</span></span>
<span id="cb37-3"><a href="#cb37-3" aria-hidden="true" tabindex="-1"></a>m_cipglass <span class="ot">=</span> Q_shower<span class="sc">/</span>(cp_glass<span class="sc">*</span>(t_cip9<span class="sc">-</span>t_cip8))</span>
<span id="cb37-4"><a href="#cb37-4" aria-hidden="true" tabindex="-1"></a>m_cip8 <span class="ot">=</span> m_cipglass</span>
<span id="cb37-5"><a href="#cb37-5" aria-hidden="true" tabindex="-1"></a>m_cip9 <span class="ot">=</span> m_cipglass</span>
<span id="cb37-6"><a href="#cb37-6" aria-hidden="true" tabindex="-1"></a>m_cip11 <span class="ot">=</span> m_cipglass</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<p>Thus, there is 41.84 <span class="math inline">kW</span> of heat used at each shower and bottle flow rate is 6.6 <span class="math inline">kg/s</span>.</p>
</section>
<section id="splitter" class="level3" data-number="2.4.4">
<h3 data-number="2.4.4" class="anchored" data-anchor-id="splitter"><span class="header-section-number">2.4.4</span> Splitter</h3>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb38"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb38-1"><a href="#cb38-1" aria-hidden="true" tabindex="-1"></a>m_cip4 <span class="ot">=</span> m_cip3</span>
<span id="cb38-2"><a href="#cb38-2" aria-hidden="true" tabindex="-1"></a>m_cip6 <span class="ot">=</span> <span class="dv">2</span><span class="sc">*</span>m_cip4<span class="sc">-</span>m_cip5</span>
<span id="cb38-3"><a href="#cb38-3" aria-hidden="true" tabindex="-1"></a>m_cip12 <span class="ot">=</span> m_cip4</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<p>No heat exchanged. Only mass flows such that <span class="math display"> \dot{m}_{4}+\dot{m}_{12}=\dot{m}_{2}=\dot{m}_{5}+\dot{m}_{6}</span> This gives <span class="math inline">\dot{m}_6</span> is equal to 1.2 <span class="math inline">kg/s</span>.</p>
</section>
<section id="cooler" class="level3" data-number="2.4.5">
<h3 data-number="2.4.5" class="anchored" data-anchor-id="cooler"><span class="header-section-number">2.4.5</span> Cooler</h3>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb39"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb39-1"><a href="#cb39-1" aria-hidden="true" tabindex="-1"></a>t_cwater_in <span class="ot">=</span> <span class="dv">283</span></span>
<span id="cb39-2"><a href="#cb39-2" aria-hidden="true" tabindex="-1"></a>t_cwater_out <span class="ot">=</span> <span class="dv">298</span></span>
<span id="cb39-3"><a href="#cb39-3" aria-hidden="true" tabindex="-1"></a>m_cip7 <span class="ot">=</span> m_cip6</span>
<span id="cb39-4"><a href="#cb39-4" aria-hidden="true" tabindex="-1"></a>q_cipwater <span class="ot">=</span> m_cip6<span class="sc">*</span>(t_cip6<span class="sc">-</span>t_cip7)<span class="sc">*</span>cp_water</span>
<span id="cb39-5"><a href="#cb39-5" aria-hidden="true" tabindex="-1"></a>m_cipwater <span class="ot">=</span> q_cipwater<span class="sc">/</span>((t_cwater_out<span class="sc">-</span>t_cwater_in)<span class="sc">*</span>cp_water)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<p>The final steps of this cleaning process is with the of a HX as a cooler. hot water will be cooled down to <span class="math inline">30^\circ C</span>. As showed above with calculations for the HX_Steam there is thus 225.94 <span class="math inline">kW</span> transferred thanks to a 3.6 <span class="math inline">kg/s</span> cooling water flow (which is itself going from <span class="math inline">10^\circ C</span> to <span class="math inline">25^\circ C</span>).</p>
</section>
<section id="summary-for-the-cleaning-in-place-section" class="level3" data-number="2.4.6">
<h3 data-number="2.4.6" class="anchored" data-anchor-id="summary-for-the-cleaning-in-place-section"><span class="header-section-number">2.4.6</span> Summary for the Cleaning in Place section</h3>
<div class="cell">
<div class="cell-output-display">

<div class="datatables html-widget html-fill-item-overflow-hidden html-fill-item" id="htmlwidget-8d3b6762f4530af94502" style="width:100%;height:auto;"></div>
<script type="application/json" data-for="htmlwidget-8d3b6762f4530af94502">{"x":{"filter":"none","vertical":false,"data":[["1","2","3","4","5","6","7","8","9","10","11","12"],["1","2","3","4","5","6","7","8","9","10","11","12"],[1.2,4,2,2,2.8,1.2,1.2,6.6,6.6,2,6.641269841269842,2],[25,60,80,75,75,75,30,25,32.5,80,40,75]],"container":"<table class=\"display\">\n  <thead>\n    <tr>\n      <th> <\/th>\n      <th>Points<\/th>\n      <th>Mass.Flow..kg.s.<\/th>\n      <th>Temperature...C.<\/th>\n    <\/tr>\n  <\/thead>\n<\/table>","options":{"columnDefs":[{"className":"dt-right","targets":[2,3]},{"orderable":false,"targets":0}],"order":[],"autoWidth":false,"orderClasses":false}},"evals":[],"jsHooks":[]}</script>
</div>
<div class="cell-output-display">

<div class="datatables html-widget html-fill-item-overflow-hidden html-fill-item" id="htmlwidget-9eccc9e089527a996e08" style="width:100%;height:auto;"></div>
<script type="application/json" data-for="htmlwidget-9eccc9e089527a996e08">{"x":{"filter":"none","vertical":false,"data":[["1","2","3","4"],["Steam","Shower 1","Shower 2","Cooler"],[334.72,41.84,41.84,225.94]],"container":"<table class=\"display\">\n  <thead>\n    <tr>\n      <th> <\/th>\n      <th>Points<\/th>\n      <th>Heat..kW.<\/th>\n    <\/tr>\n  <\/thead>\n<\/table>","options":{"columnDefs":[{"className":"dt-right","targets":2},{"orderable":false,"targets":0}],"order":[],"autoWidth":false,"orderClasses":false}},"evals":[],"jsHooks":[]}</script>
</div>
</div>
</section>
</section>
<section id="cold-storage-hot-water" class="level2" data-number="2.5">
<h2 data-number="2.5" class="anchored" data-anchor-id="cold-storage-hot-water"><span class="header-section-number">2.5</span> Cold Storage &amp; Hot Water</h2>
<p><img src="Figures/hotwatercoldstorage.png" class="img-fluid" alt="Hot water and cold storage"> Here are reported calculation of air mass flow required to remove 500kW of heat from a cold storage and the heat required to heat 1kg/s of water from 15°C to 55°C.</p>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb40"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb40-1"><a href="#cb40-1" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> pyxosmose.state <span class="im">import</span> State</span>
<span id="cb40-2"><a href="#cb40-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb40-3"><a href="#cb40-3" aria-hidden="true" tabindex="-1"></a>water_in <span class="op">=</span> State(pair<span class="op">=</span><span class="st">'TP'</span>,fluid<span class="op">=</span><span class="st">'Water'</span>,temperature<span class="op">=</span><span class="dv">288</span>,pressure<span class="op">=</span><span class="dv">100000</span>)</span>
<span id="cb40-4"><a href="#cb40-4" aria-hidden="true" tabindex="-1"></a>water_in.StateCalc()</span>
<span id="cb40-5"><a href="#cb40-5" aria-hidden="true" tabindex="-1"></a>water_out <span class="op">=</span> State(pair<span class="op">=</span><span class="st">'TP'</span>,fluid<span class="op">=</span><span class="st">'Water'</span>,temperature<span class="op">=</span><span class="dv">328</span>,pressure<span class="op">=</span><span class="dv">100000</span>)</span>
<span id="cb40-6"><a href="#cb40-6" aria-hidden="true" tabindex="-1"></a>water_out.StateCalc()</span>
<span id="cb40-7"><a href="#cb40-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb40-8"><a href="#cb40-8" aria-hidden="true" tabindex="-1"></a>h_in<span class="op">=</span>water_in.enthalpy </span>
<span id="cb40-9"><a href="#cb40-9" aria-hidden="true" tabindex="-1"></a>m_water<span class="op">=</span><span class="dv">1</span></span>
<span id="cb40-10"><a href="#cb40-10" aria-hidden="true" tabindex="-1"></a>h_out<span class="op">=</span>water_out.enthalpy </span>
<span id="cb40-11"><a href="#cb40-11" aria-hidden="true" tabindex="-1"></a>Q_hot<span class="op">=</span>m_water<span class="op">*</span>(h_out<span class="op">-</span>h_in)</span>
<span id="cb40-12"><a href="#cb40-12" aria-hidden="true" tabindex="-1"></a><span class="co">#print Q_hot rounded at 2 digits</span></span>
<span id="cb40-13"><a href="#cb40-13" aria-hidden="true" tabindex="-1"></a><span class="co">#print('The heat required to heat 1kg/s of water from 15°C to 55°C is', round(Q_hot,2), 'W.')</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<p>The heat required to heat 1kg/s of water from 15°C to 55°C is 167253.23 W.</p>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb41"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb41-1"><a href="#cb41-1" aria-hidden="true" tabindex="-1"></a>T_in<span class="op">=</span><span class="dv">273</span></span>
<span id="cb41-2"><a href="#cb41-2" aria-hidden="true" tabindex="-1"></a>T_out<span class="op">=</span><span class="dv">268</span></span>
<span id="cb41-3"><a href="#cb41-3" aria-hidden="true" tabindex="-1"></a>Q_fridge<span class="op">=</span><span class="dv">500000</span></span>
<span id="cb41-4"><a href="#cb41-4" aria-hidden="true" tabindex="-1"></a>Cp_air<span class="op">=</span><span class="dv">1000</span></span>
<span id="cb41-5"><a href="#cb41-5" aria-hidden="true" tabindex="-1"></a>m_air<span class="op">=</span>Q_fridge<span class="op">/</span>(Cp_air<span class="op">*</span>(T_in<span class="op">-</span>T_out))</span>
<span id="cb41-6"><a href="#cb41-6" aria-hidden="true" tabindex="-1"></a><span class="co">#print('The air mass flow required to remove 500kW of heat from a cold storage is', m_air, 'kg/s.')</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<p>The air mass flow required to remove 500kW of heat from a cold storage is 100.0 kg/s.</p>
</section>
<section id="wastewater-and-sludge-production" class="level2" data-number="2.6">
<h2 data-number="2.6" class="anchored" data-anchor-id="wastewater-and-sludge-production"><span class="header-section-number">2.6</span> WasteWater and Sludge Production</h2>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="Figures/Wastewater.svg" class="img-fluid figure-img"></p>
<figcaption class="figure-caption">Wastewater</figcaption>
</figure>
</div>
<p>For this process we just have to focus on computing liquid and dry matter mass flows for each of the 4 flows (<span class="math inline">dw_{tot}=dw_{dry}+dw_{liq}</span>). The discharge will only contains liquid water whereas the sludge is a mixture of 13.3wt% fry matter and 86.7wt% water (<span class="citation" data-cites="shiDairyProcessingSludge2021">Shi et al. (<a href="#ref-shiDairyProcessingSludge2021" role="doc-biblioref">2021</a>)</span>). From this paper, the following equations enables to deduce the waste water produced (WP) as well as the sludge produced (SP):</p>
<p><span id="eq-WP"><span class="math display">
WP = WRM \times RM
\tag{2.20}</span></span></p>
<p><span id="eq-SP"><span class="math display">
SP = SW \times WP
\tag{2.21}</span></span></p>
<p><span id="eq-SW"><span class="math display">
SW = \frac{\frac{ES}{RMa}}{WRM}
\tag{2.22}</span></span></p>
<p>Where <span class="math inline">WRM</span> is the wastewater to raw milk ratio (-) and <span class="math inline">RM</span> is the Raw Milk processing volume (<span class="math inline">m^3/s</span>), <span class="math inline">SW</span> is the sludge to wastewater ratio (<span class="math inline">kg/m^3</span>), <span class="math inline">ES</span> is the estimated annual sludge produced (<span class="math inline">kg</span>), <span class="math inline">RMa</span> is the annual milk production (<span class="math inline">m^3</span>), <span class="math inline">WP</span> is the wastewater produced (<span class="math inline">m^3/s</span>) and <span class="math inline">SP</span> is the amount of sludge produced (<span class="math inline">kg/s</span>).</p>
<p>From the data given we have that <span class="math inline">RM=8kg/s</span> and Asherruzzaman gives us that <span class="math inline">WRM=2.71\pm 0.9</span> in average. Thus the produced waste water is <span class="math inline">0.021 m^3/s</span> given a milk density of <span class="math inline">1035kg/m^3</span>.</p>
<p>Then from 2017 data in Asherruzzaman we have that <span class="math inline">ES=110000t</span>, <span class="math inline">RMa=7163000m^3</span> and thus <span class="math inline">SW=\frac{\frac{110000000}{7163000}}{2.71}=5.59kg/m^3</span>. Thus the produced sludge is <span class="math inline">SP = 5.59 \times 0.021 = 0.1174\text{kg/s}</span>.</p>
<p>There is also the assumption that dw3 is only sludge and dw4 only water (<span class="math inline">dw_{tot2}=dw_{tot3}+dw_{tot4}</span>). In dw3, the quantity of dry matter is again assume to be 13.3wt% and thus the quantity of water is 86.7wt%. The total mass entering the system is WP and because of mass balance, the dry quantity exiting at dw3 must be the same that at dw2 and dw1 (because there is no dry matter in dw4). Finally, we assume that WP density is around that of water (1000kg/m3). Thus, we have the following table to sum up the results:</p>
<table class="table">
<caption>Discharge water and sludge production streams mass composition</caption>
<colgroup>
<col style="width: 10%">
<col style="width: 31%">
<col style="width: 34%">
<col style="width: 24%">
</colgroup>
<thead>
<tr class="header">
<th>Stream</th>
<th style="text-align: center;"><span class="math inline">\dot{m}_{dry}\,(kg/s)</span></th>
<th style="text-align: center;"><span class="math inline">\dot{m}_{liquid}\,(kg/s)</span></th>
<th style="text-align: center;"><span class="math inline">\dot{m}_{total}</span></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>dw1</td>
<td style="text-align: center;">0.0156</td>
<td style="text-align: center;">20.9844</td>
<td style="text-align: center;">21</td>
</tr>
<tr class="even">
<td>dw2</td>
<td style="text-align: center;">0.0156</td>
<td style="text-align: center;">20.9844</td>
<td style="text-align: center;">21</td>
</tr>
<tr class="odd">
<td>dw3</td>
<td style="text-align: center;">0.01561</td>
<td style="text-align: center;">0.1018</td>
<td style="text-align: center;">0.1174</td>
</tr>
<tr class="even">
<td>dw4</td>
<td style="text-align: center;">0</td>
<td style="text-align: center;">20.8826</td>
<td style="text-align: center;">20.8826</td>
</tr>
</tbody>
</table>
</section>
<section id="rivella-production" class="level2" data-number="2.7">
<h2 data-number="2.7" class="anchored" data-anchor-id="rivella-production"><span class="header-section-number">2.7</span> Rivella Production</h2>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="Figures/Rivella.svg" class="img-fluid figure-img"></p>
<figcaption class="figure-caption">Rivella</figcaption>
</figure>
</div>
<p>Having a better understanding of dairy process, it is now possible to evaluate the energy and mass balance of Rivella production to be able to compare later its costs with the digester. The process is described in the following figure:</p>
<p>The process will be divided in 3 main parts:</p>
<ol type="1">
<li>The concentration of the whey</li>
<li>The production of Rivella Green</li>
<li>The production of Rivella Red</li>
</ol>
<section id="the-concentration-of-the-whey" class="level3" data-number="2.7.1">
<h3 data-number="2.7.1" class="anchored" data-anchor-id="the-concentration-of-the-whey"><span class="header-section-number">2.7.1</span> The concentration of the whey</h3>
<p>All the whey is assumed to come from the evaporator stage with the following characteristics:</p>
<ul>
<li>14.46 % of dry matter,</li>
<li>85.54 % of water,</li>
<li>T = 4°C,</li>
<li>p = 1 bar,</li>
<li>mass flow rate of 1.52 kg/s.</li>
</ul>
<p>At the end of the concentration process the whey will have the following characteristics:</p>
<ul>
<li>50 % of dry matter,</li>
<li>50 % of water,</li>
<li>T = 100°C,</li>
<li>p = 1 bar,</li>
<li>mass flow rate to be determined.</li>
</ul>
<p>We assume, the following: in the fermentation we have heating from 4 to 25°C, the mixer is isothermal and the evaporator is adiabatic. Also the bacterias are added at T = 25°C and without disturbing the flow rate of the whey (m1 = m3, m4 = 0 <span class="math inline">m/ s</span>) and the aromas are added at T = 25°C with 2g aromas/100g of whey. Bacteria and aromas have the same heat capacity as water (<span class="math inline">c_p=4184\,J/kgK</span>). The pressure stays constant at 1 bar.</p>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb42"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb42-1"><a href="#cb42-1" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> codes_01_energy_bill.coolprop_functions <span class="im">import</span> mixture</span>
<span id="cb42-2"><a href="#cb42-2" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> pyxosmose.state <span class="im">import</span> State</span>
<span id="cb42-3"><a href="#cb42-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb42-4"><a href="#cb42-4" aria-hidden="true" tabindex="-1"></a><span class="co">#Fixed Parameters</span></span>
<span id="cb42-5"><a href="#cb42-5" aria-hidden="true" tabindex="-1"></a>m1<span class="op">=</span><span class="fl">1.52</span> <span class="co">#kg.s-1</span></span>
<span id="cb42-6"><a href="#cb42-6" aria-hidden="true" tabindex="-1"></a>m2<span class="op">=</span><span class="dv">0</span> <span class="co">#kg.s-1</span></span>
<span id="cb42-7"><a href="#cb42-7" aria-hidden="true" tabindex="-1"></a>m3<span class="op">=</span><span class="fl">1.52</span> <span class="co">#kg.s-1</span></span>
<span id="cb42-8"><a href="#cb42-8" aria-hidden="true" tabindex="-1"></a>m4<span class="op">=</span><span class="fl">0.02</span><span class="op">*</span>m3 <span class="co">#kg.s-1</span></span>
<span id="cb42-9"><a href="#cb42-9" aria-hidden="true" tabindex="-1"></a>m5<span class="op">=</span>m3<span class="op">+</span>m4 <span class="co">#kg.s-1</span></span>
<span id="cb42-10"><a href="#cb42-10" aria-hidden="true" tabindex="-1"></a><span class="co">#to get m6 we assume that R6 is only water and that the flow is a mixture of fat and water</span></span>
<span id="cb42-11"><a href="#cb42-11" aria-hidden="true" tabindex="-1"></a><span class="co">#m6=1*mw6+0*mf6 so m6=mw6</span></span>
<span id="cb42-12"><a href="#cb42-12" aria-hidden="true" tabindex="-1"></a><span class="co">#mw7=0.5m7=0.5*(m5-m6)</span></span>
<span id="cb42-13"><a href="#cb42-13" aria-hidden="true" tabindex="-1"></a><span class="co">#mw6=mw5-mw7=0.8554*m5-0.5*(m5-m6)</span></span>
<span id="cb42-14"><a href="#cb42-14" aria-hidden="true" tabindex="-1"></a><span class="co">#m6=[0.8554*m5-0.5*m5]/0.5</span></span>
<span id="cb42-15"><a href="#cb42-15" aria-hidden="true" tabindex="-1"></a>m6<span class="op">=</span>(<span class="fl">0.8554</span><span class="op">*</span>m5<span class="op">-</span><span class="fl">0.5</span><span class="op">*</span>m5)<span class="op">/</span><span class="fl">0.5</span> <span class="co">#kg.s-1</span></span>
<span id="cb42-16"><a href="#cb42-16" aria-hidden="true" tabindex="-1"></a>m7<span class="op">=</span>m5<span class="op">-</span>m6 <span class="co">#kg.s-1</span></span>
<span id="cb42-17"><a href="#cb42-17" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb42-18"><a href="#cb42-18" aria-hidden="true" tabindex="-1"></a>T1<span class="op">=</span><span class="dv">277</span> <span class="co">#K</span></span>
<span id="cb42-19"><a href="#cb42-19" aria-hidden="true" tabindex="-1"></a>T2<span class="op">=</span><span class="dv">298</span> <span class="co">#K</span></span>
<span id="cb42-20"><a href="#cb42-20" aria-hidden="true" tabindex="-1"></a>T3<span class="op">=</span>T2 <span class="co">#K</span></span>
<span id="cb42-21"><a href="#cb42-21" aria-hidden="true" tabindex="-1"></a>T4<span class="op">=</span>T2 <span class="co">#K</span></span>
<span id="cb42-22"><a href="#cb42-22" aria-hidden="true" tabindex="-1"></a>T5<span class="op">=</span>T2 <span class="co">#K</span></span>
<span id="cb42-23"><a href="#cb42-23" aria-hidden="true" tabindex="-1"></a>T6<span class="op">=</span><span class="dv">373</span> <span class="co">#K</span></span>
<span id="cb42-24"><a href="#cb42-24" aria-hidden="true" tabindex="-1"></a>T7<span class="op">=</span>T6 <span class="co">#K</span></span>
<span id="cb42-25"><a href="#cb42-25" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb42-26"><a href="#cb42-26" aria-hidden="true" tabindex="-1"></a>Tsteam_out <span class="op">=</span> <span class="dv">373</span> <span class="co">#K</span></span>
<span id="cb42-27"><a href="#cb42-27" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb42-28"><a href="#cb42-28" aria-hidden="true" tabindex="-1"></a>p<span class="op">=</span><span class="dv">1</span> <span class="co">#bar</span></span>
<span id="cb42-29"><a href="#cb42-29" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb42-30"><a href="#cb42-30" aria-hidden="true" tabindex="-1"></a>R1 <span class="op">=</span> mixture(T<span class="op">=</span>T1, P<span class="op">=</span>p, frac_water<span class="op">=</span><span class="fl">0.8554</span>, frac_fat<span class="op">=</span><span class="fl">0.1446</span>) <span class="co"># this is a dictionary!!</span></span>
<span id="cb42-31"><a href="#cb42-31" aria-hidden="true" tabindex="-1"></a>cp1<span class="op">=</span>R1[<span class="st">"cpmass"</span>]</span>
<span id="cb42-32"><a href="#cb42-32" aria-hidden="true" tabindex="-1"></a>h1<span class="op">=</span>R1[<span class="st">"enthalpy"</span>]</span>
<span id="cb42-33"><a href="#cb42-33" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb42-34"><a href="#cb42-34" aria-hidden="true" tabindex="-1"></a><span class="co">#Fermentation </span></span>
<span id="cb42-35"><a href="#cb42-35" aria-hidden="true" tabindex="-1"></a>Qferm <span class="op">=</span> m1<span class="op">*</span>cp1<span class="op">*</span>(T2<span class="op">-</span>T1) <span class="co">#J/s</span></span>
<span id="cb42-36"><a href="#cb42-36" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb42-37"><a href="#cb42-37" aria-hidden="true" tabindex="-1"></a><span class="co">#Evaporator</span></span>
<span id="cb42-38"><a href="#cb42-38" aria-hidden="true" tabindex="-1"></a>Tsteam<span class="op">=</span><span class="dv">373</span> <span class="co">#K</span></span>
<span id="cb42-39"><a href="#cb42-39" aria-hidden="true" tabindex="-1"></a>Steam <span class="op">=</span> State(pair<span class="op">=</span><span class="st">'TP'</span>, fluid<span class="op">=</span><span class="st">'water'</span>, temperature<span class="op">=</span>Tsteam, pressure<span class="op">=</span>p)</span>
<span id="cb42-40"><a href="#cb42-40" aria-hidden="true" tabindex="-1"></a>Steam.StateCalc()</span>
<span id="cb42-41"><a href="#cb42-41" aria-hidden="true" tabindex="-1"></a>State_Steam <span class="op">=</span> Steam.__dict__ <span class="co"># Whole dictionary with properties</span></span>
<span id="cb42-42"><a href="#cb42-42" aria-hidden="true" tabindex="-1"></a>hfg<span class="op">=</span>State_Steam[<span class="st">"enthalpy"</span>]</span>
<span id="cb42-43"><a href="#cb42-43" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb42-44"><a href="#cb42-44" aria-hidden="true" tabindex="-1"></a>h5<span class="op">=</span>h1</span>
<span id="cb42-45"><a href="#cb42-45" aria-hidden="true" tabindex="-1"></a>cp5<span class="op">=</span>cp1</span>
<span id="cb42-46"><a href="#cb42-46" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb42-47"><a href="#cb42-47" aria-hidden="true" tabindex="-1"></a>R6 <span class="op">=</span> mixture(T<span class="op">=</span>T6, P<span class="op">=</span>p, frac_water<span class="op">=</span><span class="dv">1</span>, frac_fat<span class="op">=</span><span class="dv">0</span>) <span class="co"># this is a dictionary!!</span></span>
<span id="cb42-48"><a href="#cb42-48" aria-hidden="true" tabindex="-1"></a>h6<span class="op">=</span>R6[<span class="st">"enthalpy"</span>]</span>
<span id="cb42-49"><a href="#cb42-49" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb42-50"><a href="#cb42-50" aria-hidden="true" tabindex="-1"></a>R7 <span class="op">=</span> mixture(T<span class="op">=</span>T7, P<span class="op">=</span>p, frac_water<span class="op">=</span><span class="fl">0.5</span>, frac_fat<span class="op">=</span><span class="fl">0.5</span>) <span class="co"># this is a dictionary!!</span></span>
<span id="cb42-51"><a href="#cb42-51" aria-hidden="true" tabindex="-1"></a>h7<span class="op">=</span>R7[<span class="st">"enthalpy"</span>]</span>
<span id="cb42-52"><a href="#cb42-52" aria-hidden="true" tabindex="-1"></a>cp7<span class="op">=</span>R7[<span class="st">"cpmass"</span>]</span>
<span id="cb42-53"><a href="#cb42-53" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb42-54"><a href="#cb42-54" aria-hidden="true" tabindex="-1"></a>Qevap <span class="op">=</span> m5<span class="op">*</span>cp5<span class="op">*</span>(T7<span class="op">-</span>T5) <span class="op">-</span> m5<span class="op">*</span>h5 <span class="op">+</span> m6<span class="op">*</span>h6 <span class="op">+</span> m7<span class="op">*</span>h7 <span class="co">#J/s</span></span>
<span id="cb42-55"><a href="#cb42-55" aria-hidden="true" tabindex="-1"></a>msteam <span class="op">=</span> Qevap<span class="op">/</span>hfg <span class="co">#kg/s</span></span>
<span id="cb42-56"><a href="#cb42-56" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">'Qevap ='</span>, <span class="bu">round</span>(Qevap,<span class="dv">2</span>), <span class="st">'W'</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>Qevap = 579418.18 W</code></pre>
</div>
</div>
</section>
<section id="the-production-of-rivella-green" class="level3" data-number="2.7.2">
<h3 data-number="2.7.2" class="anchored" data-anchor-id="the-production-of-rivella-green"><span class="header-section-number">2.7.2</span> The production of Rivella Green</h3>
<p>30% of the concentrated whey is used for the Rivella Green production The composition of the Rivella Green is the following:</p>
<ul>
<li>30% whey,</li>
<li>50% water,</li>
<li>20% sugar.</li>
</ul>
<p>Tea is added at T = 50°C, without disturbing the flow rate of the Rivella Green (m8 = m10, m9 = 0 m/s) The sugar and water are added are added at T = 25°C (will thus cool the fluid and reduce the requirement for a steep change through HX2) and thus the mixer 3 is not isothermal anymore. CO2 is added without change of temperature and pressure (isothermal mixer) and without changing the mass flow (the content of gas in each bottle is not known). The Rivella Green exits at T = 10°C. The pressure stays constant at 1 bar during the entire production.</p>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb44"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb44-1"><a href="#cb44-1" aria-hidden="true" tabindex="-1"></a><span class="co">#Fixed Parameters</span></span>
<span id="cb44-2"><a href="#cb44-2" aria-hidden="true" tabindex="-1"></a>m8<span class="op">=</span><span class="fl">0.3</span><span class="op">*</span>m7 <span class="co">#kg.s-1</span></span>
<span id="cb44-3"><a href="#cb44-3" aria-hidden="true" tabindex="-1"></a>m10<span class="op">=</span>m8 <span class="co">#kg.s-1</span></span>
<span id="cb44-4"><a href="#cb44-4" aria-hidden="true" tabindex="-1"></a>m9<span class="op">=</span><span class="dv">0</span> <span class="co">#kg.s-1</span></span>
<span id="cb44-5"><a href="#cb44-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb44-6"><a href="#cb44-6" aria-hidden="true" tabindex="-1"></a>TA<span class="op">=</span><span class="dv">298</span> <span class="co">#K ref temperature</span></span>
<span id="cb44-7"><a href="#cb44-7" aria-hidden="true" tabindex="-1"></a>T8<span class="op">=</span><span class="dv">323</span> <span class="co">#K</span></span>
<span id="cb44-8"><a href="#cb44-8" aria-hidden="true" tabindex="-1"></a>T9<span class="op">=</span><span class="dv">323</span> <span class="co">#K</span></span>
<span id="cb44-9"><a href="#cb44-9" aria-hidden="true" tabindex="-1"></a>T10<span class="op">=</span>T8</span>
<span id="cb44-10"><a href="#cb44-10" aria-hidden="true" tabindex="-1"></a>T11<span class="op">=</span><span class="dv">298</span></span>
<span id="cb44-11"><a href="#cb44-11" aria-hidden="true" tabindex="-1"></a>T12<span class="op">=</span>T11</span>
<span id="cb44-12"><a href="#cb44-12" aria-hidden="true" tabindex="-1"></a>T16<span class="op">=</span><span class="dv">283</span> <span class="co">#K</span></span>
<span id="cb44-13"><a href="#cb44-13" aria-hidden="true" tabindex="-1"></a>T14<span class="op">=</span>T16</span>
<span id="cb44-14"><a href="#cb44-14" aria-hidden="true" tabindex="-1"></a>T15<span class="op">=</span>T16</span>
<span id="cb44-15"><a href="#cb44-15" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb44-16"><a href="#cb44-16" aria-hidden="true" tabindex="-1"></a><span class="co">#HX1: heater</span></span>
<span id="cb44-17"><a href="#cb44-17" aria-hidden="true" tabindex="-1"></a>QHX1<span class="op">=</span>m7<span class="op">*</span>cp7<span class="op">*</span>(T7<span class="op">-</span>T8) <span class="co">#J/s</span></span>
<span id="cb44-18"><a href="#cb44-18" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb44-19"><a href="#cb44-19" aria-hidden="true" tabindex="-1"></a><span class="co">#Mixer 3</span></span>
<span id="cb44-20"><a href="#cb44-20" aria-hidden="true" tabindex="-1"></a><span class="co">#We first have to determine the different flows of this non-isothermal mixer</span></span>
<span id="cb44-21"><a href="#cb44-21" aria-hidden="true" tabindex="-1"></a><span class="co">#we will use the composition of Rivella Green and assume water comes from both R10 (50% of the conc whey) and R11</span></span>
<span id="cb44-22"><a href="#cb44-22" aria-hidden="true" tabindex="-1"></a><span class="co">#m13=m10+m11+m12</span></span>
<span id="cb44-23"><a href="#cb44-23" aria-hidden="true" tabindex="-1"></a><span class="co">#m11=0.5*m13-0.5*m10</span></span>
<span id="cb44-24"><a href="#cb44-24" aria-hidden="true" tabindex="-1"></a><span class="co">#m12=0.2*m13</span></span>
<span id="cb44-25"><a href="#cb44-25" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb44-26"><a href="#cb44-26" aria-hidden="true" tabindex="-1"></a>m13<span class="op">=</span>(<span class="fl">0.5</span><span class="op">*</span>m10)<span class="op">/</span><span class="fl">0.3</span> <span class="co">#kg.s-1</span></span>
<span id="cb44-27"><a href="#cb44-27" aria-hidden="true" tabindex="-1"></a>m14<span class="op">=</span>m13</span>
<span id="cb44-28"><a href="#cb44-28" aria-hidden="true" tabindex="-1"></a>m16<span class="op">=</span>m14</span>
<span id="cb44-29"><a href="#cb44-29" aria-hidden="true" tabindex="-1"></a>m11<span class="op">=</span><span class="fl">0.5</span><span class="op">*</span>m13<span class="op">-</span><span class="fl">0.5</span><span class="op">*</span>m10</span>
<span id="cb44-30"><a href="#cb44-30" aria-hidden="true" tabindex="-1"></a>m12<span class="op">=</span><span class="fl">0.2</span><span class="op">*</span>m13</span>
<span id="cb44-31"><a href="#cb44-31" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb44-32"><a href="#cb44-32" aria-hidden="true" tabindex="-1"></a>R10 <span class="op">=</span> mixture(T<span class="op">=</span>T10, P<span class="op">=</span>p, frac_water<span class="op">=</span><span class="fl">0.5</span>, frac_fat<span class="op">=</span><span class="fl">0.5</span>) <span class="co"># this is a dictionary!!</span></span>
<span id="cb44-33"><a href="#cb44-33" aria-hidden="true" tabindex="-1"></a>cp10<span class="op">=</span>R10[<span class="st">"cpmass"</span>]</span>
<span id="cb44-34"><a href="#cb44-34" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb44-35"><a href="#cb44-35" aria-hidden="true" tabindex="-1"></a>R11 <span class="op">=</span> mixture(T<span class="op">=</span>T11, P<span class="op">=</span>p, frac_water<span class="op">=</span><span class="dv">1</span>, frac_fat<span class="op">=</span><span class="dv">0</span>) <span class="co"># this is a dictionary!!</span></span>
<span id="cb44-36"><a href="#cb44-36" aria-hidden="true" tabindex="-1"></a>cp11<span class="op">=</span>R11[<span class="st">"cpmass"</span>]</span>
<span id="cb44-37"><a href="#cb44-37" aria-hidden="true" tabindex="-1"></a>h11<span class="op">=</span>R11[<span class="st">"enthalpy"</span>]</span>
<span id="cb44-38"><a href="#cb44-38" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb44-39"><a href="#cb44-39" aria-hidden="true" tabindex="-1"></a>cp12<span class="op">=</span><span class="dv">1224</span> <span class="co">#J/kgK</span></span>
<span id="cb44-40"><a href="#cb44-40" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb44-41"><a href="#cb44-41" aria-hidden="true" tabindex="-1"></a>cp13 <span class="op">=</span> <span class="fl">0.3</span><span class="op">*</span>cp10 <span class="op">+</span> <span class="fl">0.5</span><span class="op">*</span>cp11 <span class="op">+</span> <span class="fl">0.2</span><span class="op">*</span>cp12</span>
<span id="cb44-42"><a href="#cb44-42" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb44-43"><a href="#cb44-43" aria-hidden="true" tabindex="-1"></a><span class="co">#From the heat balance of non-isothermal mixer we can then determine the temperature of the Rivella Green T13</span></span>
<span id="cb44-44"><a href="#cb44-44" aria-hidden="true" tabindex="-1"></a><span class="co">#m13*cp13*(T13-TA)=m10*cp10*(T10-TA)+m11*cp11*(T11-TA)+m12*cp12*(T12-TA)</span></span>
<span id="cb44-45"><a href="#cb44-45" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb44-46"><a href="#cb44-46" aria-hidden="true" tabindex="-1"></a>T13<span class="op">=</span>((m10<span class="op">*</span>cp10<span class="op">*</span>(T10<span class="op">-</span>TA)<span class="op">+</span>m11<span class="op">*</span>cp11<span class="op">*</span>(T11<span class="op">-</span>TA)<span class="op">+</span>m12<span class="op">*</span>cp12<span class="op">*</span>(T12<span class="op">-</span>TA))<span class="op">/</span>(m13<span class="op">*</span>cp13))<span class="op">+</span>TA</span>
<span id="cb44-47"><a href="#cb44-47" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb44-48"><a href="#cb44-48" aria-hidden="true" tabindex="-1"></a><span class="co">#HX2: cooler1</span></span>
<span id="cb44-49"><a href="#cb44-49" aria-hidden="true" tabindex="-1"></a>QHX2<span class="op">=</span>m13<span class="op">*</span>cp13<span class="op">*</span>(T13<span class="op">-</span>T14) <span class="co">#J/s</span></span>
<span id="cb44-50"><a href="#cb44-50" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb44-51"><a href="#cb44-51" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">' QHX1 ='</span>, <span class="bu">round</span>(QHX1,<span class="dv">2</span>), <span class="st">'W'</span>, <span class="st">'</span><span class="ch">\n</span><span class="st">'</span>, <span class="st">'QHXgreen ='</span>, <span class="bu">round</span>(QHX2,<span class="dv">2</span>), <span class="st">'W'</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code> QHX1 = 40112.41 W 
 QHXgreen = 12711.81 W</code></pre>
</div>
</div>
</section>
<section id="the-production-of-rivella-red" class="level3" data-number="2.7.3">
<h3 data-number="2.7.3" class="anchored" data-anchor-id="the-production-of-rivella-red"><span class="header-section-number">2.7.3</span> The production of Rivella Red</h3>
<p>70% of the concentrated whey is used for the Rivella Red production. The composition of the Rivella Red is the following:</p>
<ul>
<li>30% whey,</li>
<li>35% water,</li>
<li>35% sugar.</li>
</ul>
<p>The sugar and water are added are added at T = 25°C (will thus cool the fluid and reduce the requirement for a steep change through HX2) and thus the mixer 3 is not isothermal anymore. CO2 is added without change of temperature and pressure (isothermal mixer) and without changing the mass flow (because the content of gas in each bottle is not known). The Rivella Red exits as Rivella Green at T = 10°C. The pressure stays constant at 1 bar during the entire production.</p>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb46"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb46-1"><a href="#cb46-1" aria-hidden="true" tabindex="-1"></a><span class="co">#Fixed Parameters</span></span>
<span id="cb46-2"><a href="#cb46-2" aria-hidden="true" tabindex="-1"></a>m17<span class="op">=</span><span class="fl">0.7</span><span class="op">*</span>m7 <span class="co">#kg.s-1</span></span>
<span id="cb46-3"><a href="#cb46-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb46-4"><a href="#cb46-4" aria-hidden="true" tabindex="-1"></a>T17<span class="op">=</span>T8 <span class="co">#K</span></span>
<span id="cb46-5"><a href="#cb46-5" aria-hidden="true" tabindex="-1"></a>T18<span class="op">=</span>T11</span>
<span id="cb46-6"><a href="#cb46-6" aria-hidden="true" tabindex="-1"></a>T19<span class="op">=</span>T11</span>
<span id="cb46-7"><a href="#cb46-7" aria-hidden="true" tabindex="-1"></a>T23<span class="op">=</span>T16 <span class="co">#K</span></span>
<span id="cb46-8"><a href="#cb46-8" aria-hidden="true" tabindex="-1"></a>T22<span class="op">=</span>T23</span>
<span id="cb46-9"><a href="#cb46-9" aria-hidden="true" tabindex="-1"></a>T21<span class="op">=</span>T23</span>
<span id="cb46-10"><a href="#cb46-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb46-11"><a href="#cb46-11" aria-hidden="true" tabindex="-1"></a><span class="co">#Mixer 4</span></span>
<span id="cb46-12"><a href="#cb46-12" aria-hidden="true" tabindex="-1"></a><span class="co">#We first have to determine the different flows of this non-isothermal mixer</span></span>
<span id="cb46-13"><a href="#cb46-13" aria-hidden="true" tabindex="-1"></a><span class="co">#we will use the composition of Rivella Green and assume water comes from both R17 (50% of the conc whey) and R18</span></span>
<span id="cb46-14"><a href="#cb46-14" aria-hidden="true" tabindex="-1"></a><span class="co">#m20=m17+m18+m19</span></span>
<span id="cb46-15"><a href="#cb46-15" aria-hidden="true" tabindex="-1"></a><span class="co">#m18=0.35*m20-0.5*m17</span></span>
<span id="cb46-16"><a href="#cb46-16" aria-hidden="true" tabindex="-1"></a><span class="co">#m19=0.35*m20</span></span>
<span id="cb46-17"><a href="#cb46-17" aria-hidden="true" tabindex="-1"></a>m20<span class="op">=</span>(<span class="fl">0.5</span><span class="op">*</span>m17)<span class="op">/</span><span class="fl">0.3</span> <span class="co">#kg.s-1</span></span>
<span id="cb46-18"><a href="#cb46-18" aria-hidden="true" tabindex="-1"></a>m21<span class="op">=</span>m20</span>
<span id="cb46-19"><a href="#cb46-19" aria-hidden="true" tabindex="-1"></a>m23<span class="op">=</span>m21</span>
<span id="cb46-20"><a href="#cb46-20" aria-hidden="true" tabindex="-1"></a>m18<span class="op">=</span><span class="fl">0.35</span><span class="op">*</span>m20<span class="op">-</span><span class="fl">0.5</span><span class="op">*</span>m17</span>
<span id="cb46-21"><a href="#cb46-21" aria-hidden="true" tabindex="-1"></a>m19<span class="op">=</span><span class="fl">0.35</span><span class="op">*</span>m20</span>
<span id="cb46-22"><a href="#cb46-22" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb46-23"><a href="#cb46-23" aria-hidden="true" tabindex="-1"></a>R17 <span class="op">=</span> mixture(T<span class="op">=</span>T17, P<span class="op">=</span>p, frac_water<span class="op">=</span><span class="fl">0.5</span>, frac_fat<span class="op">=</span><span class="fl">0.5</span>) <span class="co"># this is a dictionary!!</span></span>
<span id="cb46-24"><a href="#cb46-24" aria-hidden="true" tabindex="-1"></a>cp17<span class="op">=</span>R17[<span class="st">"cpmass"</span>]</span>
<span id="cb46-25"><a href="#cb46-25" aria-hidden="true" tabindex="-1"></a>h17<span class="op">=</span>R17[<span class="st">"enthalpy"</span>]</span>
<span id="cb46-26"><a href="#cb46-26" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb46-27"><a href="#cb46-27" aria-hidden="true" tabindex="-1"></a>R18 <span class="op">=</span> mixture(T<span class="op">=</span>T18, P<span class="op">=</span>p, frac_water<span class="op">=</span><span class="dv">1</span>, frac_fat<span class="op">=</span><span class="dv">0</span>) <span class="co"># this is a dictionary!!</span></span>
<span id="cb46-28"><a href="#cb46-28" aria-hidden="true" tabindex="-1"></a>cp18<span class="op">=</span>R18[<span class="st">"cpmass"</span>]</span>
<span id="cb46-29"><a href="#cb46-29" aria-hidden="true" tabindex="-1"></a>h18<span class="op">=</span>R18[<span class="st">"enthalpy"</span>]</span>
<span id="cb46-30"><a href="#cb46-30" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb46-31"><a href="#cb46-31" aria-hidden="true" tabindex="-1"></a>cp19<span class="op">=</span><span class="dv">1224</span> <span class="co">#J/kgK</span></span>
<span id="cb46-32"><a href="#cb46-32" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb46-33"><a href="#cb46-33" aria-hidden="true" tabindex="-1"></a>cp20 <span class="op">=</span> <span class="fl">0.3</span><span class="op">*</span>cp17 <span class="op">+</span> <span class="fl">0.35</span><span class="op">*</span>cp18 <span class="op">+</span> <span class="fl">0.35</span><span class="op">*</span>cp19</span>
<span id="cb46-34"><a href="#cb46-34" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb46-35"><a href="#cb46-35" aria-hidden="true" tabindex="-1"></a><span class="co">#From the heat balance of non-isothermal mixer we can then determine the temperature of the Rivella Green T13</span></span>
<span id="cb46-36"><a href="#cb46-36" aria-hidden="true" tabindex="-1"></a><span class="co">#m20*cp20*(T20-TA)=m17*cp17*(T17-TA)+m18*cp18*(T18-TA)+m19*cp19*(T19-TA)</span></span>
<span id="cb46-37"><a href="#cb46-37" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb46-38"><a href="#cb46-38" aria-hidden="true" tabindex="-1"></a>T20<span class="op">=</span>((m17<span class="op">*</span>cp17<span class="op">*</span>(T17<span class="op">-</span>TA)<span class="op">+</span>m18<span class="op">*</span>cp18<span class="op">*</span>(T18<span class="op">-</span>TA)<span class="op">+</span>m19<span class="op">*</span>cp19<span class="op">*</span>(T19<span class="op">-</span>TA))<span class="op">/</span>(m20<span class="op">*</span>cp20))<span class="op">+</span>TA</span>
<span id="cb46-39"><a href="#cb46-39" aria-hidden="true" tabindex="-1"></a><span class="co">#HX2: cooler1</span></span>
<span id="cb46-40"><a href="#cb46-40" aria-hidden="true" tabindex="-1"></a>QHX3<span class="op">=-</span>m20<span class="op">*</span>cp20<span class="op">*</span>(T21<span class="op">-</span>T20) <span class="co">#J/s</span></span>
<span id="cb46-41"><a href="#cb46-41" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb46-42"><a href="#cb46-42" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">'QHXred ='</span>, <span class="bu">round</span>(QHX3,<span class="dv">2</span>), <span class="st">'W'</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>QHXred = 28907.2 W</code></pre>
</div>
</div>
</section>
<section id="summary-for-the-rivella-production-section" class="level3" data-number="2.7.4">
<h3 data-number="2.7.4" class="anchored" data-anchor-id="summary-for-the-rivella-production-section"><span class="header-section-number">2.7.4</span> Summary for the Rivella production section</h3>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb48"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb48-1"><a href="#cb48-1" aria-hidden="true" tabindex="-1"></a><span class="co">#Put everything in a dataframe</span></span>
<span id="cb48-2"><a href="#cb48-2" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> IPython.display <span class="im">import</span> HTML</span>
<span id="cb48-3"><a href="#cb48-3" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> pandas <span class="im">as</span> pd</span>
<span id="cb48-4"><a href="#cb48-4" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> numpy <span class="im">as</span> np</span>
<span id="cb48-5"><a href="#cb48-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb48-6"><a href="#cb48-6" aria-hidden="true" tabindex="-1"></a><span class="co">#Compute remaining enthalpies and heat capacities</span></span>
<span id="cb48-7"><a href="#cb48-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb48-8"><a href="#cb48-8" aria-hidden="true" tabindex="-1"></a>cp2<span class="op">=</span><span class="dv">4184</span> <span class="co">#J/kgK</span></span>
<span id="cb48-9"><a href="#cb48-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb48-10"><a href="#cb48-10" aria-hidden="true" tabindex="-1"></a>h3<span class="op">=</span>h1</span>
<span id="cb48-11"><a href="#cb48-11" aria-hidden="true" tabindex="-1"></a>cp3<span class="op">=</span>cp1</span>
<span id="cb48-12"><a href="#cb48-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb48-13"><a href="#cb48-13" aria-hidden="true" tabindex="-1"></a>cp4<span class="op">=</span><span class="dv">4184</span> <span class="co">#J/kgK</span></span>
<span id="cb48-14"><a href="#cb48-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb48-15"><a href="#cb48-15" aria-hidden="true" tabindex="-1"></a>R6 <span class="op">=</span> State(pair<span class="op">=</span><span class="st">'TP'</span>, fluid<span class="op">=</span><span class="st">'water'</span>, temperature<span class="op">=</span>T6, pressure<span class="op">=</span>p)</span>
<span id="cb48-16"><a href="#cb48-16" aria-hidden="true" tabindex="-1"></a>R6.StateCalc()</span>
<span id="cb48-17"><a href="#cb48-17" aria-hidden="true" tabindex="-1"></a>State_R6 <span class="op">=</span> R6.__dict__ <span class="co"># Whole dictionary with properties</span></span>
<span id="cb48-18"><a href="#cb48-18" aria-hidden="true" tabindex="-1"></a>h6<span class="op">=</span>State_R6[<span class="st">"enthalpy"</span>]</span>
<span id="cb48-19"><a href="#cb48-19" aria-hidden="true" tabindex="-1"></a>cp6<span class="op">=</span>State_R6[<span class="st">"cpmass"</span>]</span>
<span id="cb48-20"><a href="#cb48-20" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb48-21"><a href="#cb48-21" aria-hidden="true" tabindex="-1"></a>R8 <span class="op">=</span> mixture(T<span class="op">=</span>T8, P<span class="op">=</span>p, frac_water<span class="op">=</span><span class="fl">0.5</span>, frac_fat<span class="op">=</span><span class="fl">0.5</span>) </span>
<span id="cb48-22"><a href="#cb48-22" aria-hidden="true" tabindex="-1"></a>h8<span class="op">=</span>R8[<span class="st">"enthalpy"</span>]</span>
<span id="cb48-23"><a href="#cb48-23" aria-hidden="true" tabindex="-1"></a>cp8<span class="op">=</span>R8[<span class="st">"cpmass"</span>]</span>
<span id="cb48-24"><a href="#cb48-24" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb48-25"><a href="#cb48-25" aria-hidden="true" tabindex="-1"></a>h10<span class="op">=</span>h8</span>
<span id="cb48-26"><a href="#cb48-26" aria-hidden="true" tabindex="-1"></a>cp10<span class="op">=</span>cp8</span>
<span id="cb48-27"><a href="#cb48-27" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb48-28"><a href="#cb48-28" aria-hidden="true" tabindex="-1"></a>h12<span class="op">=</span><span class="dv">0</span> <span class="co">#CHECKKKKKKKKKKK HOW TO GET ENTHALPY SUGAR </span></span>
<span id="cb48-29"><a href="#cb48-29" aria-hidden="true" tabindex="-1"></a><span class="co">#m13*h13=m10*h10+m11*h11+m12*h12</span></span>
<span id="cb48-30"><a href="#cb48-30" aria-hidden="true" tabindex="-1"></a>h13<span class="op">=</span>((m10<span class="op">*</span>h10<span class="op">+</span>m11<span class="op">*</span>h11<span class="op">+</span>m12<span class="op">*</span>h12)<span class="op">/</span>m13)</span>
<span id="cb48-31"><a href="#cb48-31" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb48-32"><a href="#cb48-32" aria-hidden="true" tabindex="-1"></a><span class="co">#m13(h13-h14)=m13*cp13*(T13-T14)</span></span>
<span id="cb48-33"><a href="#cb48-33" aria-hidden="true" tabindex="-1"></a>h14<span class="op">=</span>h13<span class="op">-</span>m13<span class="op">*</span>cp13<span class="op">*</span>(T13<span class="op">-</span>T14)</span>
<span id="cb48-34"><a href="#cb48-34" aria-hidden="true" tabindex="-1"></a>cp14<span class="op">=</span>cp13 <span class="co">#assume no change of cp with cooling for Rivella Green</span></span>
<span id="cb48-35"><a href="#cb48-35" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb48-36"><a href="#cb48-36" aria-hidden="true" tabindex="-1"></a>h16<span class="op">=</span>h14</span>
<span id="cb48-37"><a href="#cb48-37" aria-hidden="true" tabindex="-1"></a>cp16<span class="op">=</span>cp13</span>
<span id="cb48-38"><a href="#cb48-38" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb48-39"><a href="#cb48-39" aria-hidden="true" tabindex="-1"></a>h19<span class="op">=</span>h16 <span class="co">#CHECKKKKKKKKKKK HOW TO GET ENTHALPY SUGAR</span></span>
<span id="cb48-40"><a href="#cb48-40" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb48-41"><a href="#cb48-41" aria-hidden="true" tabindex="-1"></a><span class="co">#m20*h20=m17*h17+m18*h18+m19*h19</span></span>
<span id="cb48-42"><a href="#cb48-42" aria-hidden="true" tabindex="-1"></a>h20<span class="op">=</span>((m17<span class="op">*</span>h17<span class="op">+</span>m18<span class="op">*</span>h18<span class="op">+</span>m19<span class="op">*</span>h19)<span class="op">/</span>m20)</span>
<span id="cb48-43"><a href="#cb48-43" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb48-44"><a href="#cb48-44" aria-hidden="true" tabindex="-1"></a><span class="co">#m20(h20-h21)=m20*cp20*(T20-T21)</span></span>
<span id="cb48-45"><a href="#cb48-45" aria-hidden="true" tabindex="-1"></a>h21<span class="op">=</span>h20<span class="op">-</span>m20<span class="op">*</span>cp20<span class="op">*</span>(T20<span class="op">-</span>T21)</span>
<span id="cb48-46"><a href="#cb48-46" aria-hidden="true" tabindex="-1"></a>cp21<span class="op">=</span>cp20 <span class="co">#assume no change of cp with cooling for Rivella Red</span></span>
<span id="cb48-47"><a href="#cb48-47" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb48-48"><a href="#cb48-48" aria-hidden="true" tabindex="-1"></a>h23<span class="op">=</span>h21</span>
<span id="cb48-49"><a href="#cb48-49" aria-hidden="true" tabindex="-1"></a>cp23<span class="op">=</span>cp20</span>
<span id="cb48-50"><a href="#cb48-50" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb48-51"><a href="#cb48-51" aria-hidden="true" tabindex="-1"></a><span class="co">#Create a dataframe with all the parameters</span></span>
<span id="cb48-52"><a href="#cb48-52" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb48-53"><a href="#cb48-53" aria-hidden="true" tabindex="-1"></a>Rivella <span class="op">=</span> pd.DataFrame(columns<span class="op">=</span>[<span class="st">'Point'</span>, <span class="st">'Temperature (K)'</span>, <span class="st">'Pressure (bar)'</span>, <span class="st">'Mass flow rate (kg/s)'</span>, <span class="st">'Heat capacity (J/kgK)'</span>, <span class="st">'Enthalpy (J/kg)'</span>])</span>
<span id="cb48-54"><a href="#cb48-54" aria-hidden="true" tabindex="-1"></a>Rivella[<span class="st">'Point'</span>]<span class="op">=</span>[<span class="st">'1'</span>, <span class="st">'2'</span>, <span class="st">'3'</span>, <span class="st">'4'</span>, <span class="st">'5'</span>, <span class="st">'6'</span>, <span class="st">'7'</span>, <span class="st">'8'</span>, <span class="st">'9'</span>, <span class="st">'10'</span>,<span class="st">'11'</span>,<span class="st">'12'</span>,<span class="st">'13'</span>,<span class="st">'14'</span>,<span class="st">'15'</span>,<span class="st">'16'</span>,<span class="st">'17'</span>,<span class="st">'18'</span>,<span class="st">'19'</span>,<span class="st">'20'</span>,<span class="st">'21'</span>,<span class="st">'22'</span>,<span class="st">'23'</span>]</span>
<span id="cb48-55"><a href="#cb48-55" aria-hidden="true" tabindex="-1"></a>Rivella[<span class="st">'Temperature (K)'</span>]<span class="op">=</span>[T1,T2,T3,T4,T5,T6,T7,T8,T9,T10,T11,T12,T13,T14,T15,T16,T17,T18,T19,T20,T21,T22,T23]</span>
<span id="cb48-56"><a href="#cb48-56" aria-hidden="true" tabindex="-1"></a>Rivella[<span class="st">'Pressure (bar)'</span>]<span class="op">=</span>[p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p]</span>
<span id="cb48-57"><a href="#cb48-57" aria-hidden="true" tabindex="-1"></a>Rivella[<span class="st">'Mass flow rate (kg/s)'</span>]<span class="op">=</span>[m1,m2,m3,m4,m5,m6,m7,m8,m9,m10,m11,m12,m13,m14,<span class="st">''</span>,m16,m17,m18,m19,m20,m21,<span class="st">''</span>,m23]</span>
<span id="cb48-58"><a href="#cb48-58" aria-hidden="true" tabindex="-1"></a>Rivella[<span class="st">'Heat capacity (J/kgK)'</span>]<span class="op">=</span>[cp1,cp2,cp3,cp4,cp5,cp6,cp7,cp8,<span class="st">''</span>,cp10,cp11,cp12,cp13,cp14,<span class="st">''</span>,cp16,cp17,cp18,cp19,cp20,cp21,<span class="st">''</span>,cp23]</span>
<span id="cb48-59"><a href="#cb48-59" aria-hidden="true" tabindex="-1"></a>Rivella[<span class="st">'Enthalpy (J/kg)'</span>]<span class="op">=</span>[h1,<span class="st">''</span>,h3,<span class="st">''</span>,h5,h6,h7,h8,<span class="st">''</span>,h10,h11,<span class="st">'h12'</span>,h13,h14,<span class="st">''</span>,h16,h17,h18,h19,h20,h21,<span class="st">''</span>,h23]</span>
<span id="cb48-60"><a href="#cb48-60" aria-hidden="true" tabindex="-1"></a>Rivella <span class="op">=</span> Rivella.set_index(<span class="st">'Point'</span>)</span>
<span id="cb48-61"><a href="#cb48-61" aria-hidden="true" tabindex="-1"></a>Rivella <span class="op">=</span> Rivella.<span class="bu">round</span>(<span class="dv">2</span>)</span>
<span id="cb48-62"><a href="#cb48-62" aria-hidden="true" tabindex="-1"></a>HTML(Rivella.to_html())</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<table class="dataframe table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">Temperature (K)</th>
<th data-quarto-table-cell-role="th">Pressure (bar)</th>
<th data-quarto-table-cell-role="th">Mass flow rate (kg/s)</th>
<th data-quarto-table-cell-role="th">Heat capacity (J/kgK)</th>
<th data-quarto-table-cell-role="th">Enthalpy (J/kg)</th>
</tr>
<tr class="odd">
<th data-quarto-table-cell-role="th">Point</th>
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th"></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">1</td>
<td>277.00</td>
<td>1</td>
<td>1.52</td>
<td>1896.854714</td>
<td>2023742.226974</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">2</td>
<td>298.00</td>
<td>1</td>
<td>0</td>
<td>4184</td>
<td></td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">3</td>
<td>298.00</td>
<td>1</td>
<td>1.52</td>
<td>1896.854714</td>
<td>2023742.226974</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">4</td>
<td>298.00</td>
<td>1</td>
<td>0.0304</td>
<td>4184</td>
<td></td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">5</td>
<td>298.00</td>
<td>1</td>
<td>1.5504</td>
<td>1896.854714</td>
<td>2023742.226974</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">6</td>
<td>373.00</td>
<td>1</td>
<td>1.102024</td>
<td>1889.734714</td>
<td>2688396.124217</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">7</td>
<td>373.00</td>
<td>1</td>
<td>0.448376</td>
<td>1789.232083</td>
<td>1190483.719342</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">8</td>
<td>323.00</td>
<td>1</td>
<td>0.134513</td>
<td>2002.408006</td>
<td>923714.318925</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">9</td>
<td>323.00</td>
<td>1</td>
<td>0</td>
<td></td>
<td></td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">10</td>
<td>323.00</td>
<td>1</td>
<td>0.134513</td>
<td>2002.408006</td>
<td>923714.318925</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">11</td>
<td>298.00</td>
<td>1</td>
<td>0.044838</td>
<td>1864.353548</td>
<td>2547701.452782</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">12</td>
<td>298.00</td>
<td>1</td>
<td>0.044838</td>
<td>1224</td>
<td>h12</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">13</td>
<td>314.90</td>
<td>1</td>
<td>0.224188</td>
<td>1777.699176</td>
<td>1063768.881911</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">14</td>
<td>283.00</td>
<td>1</td>
<td>0.224188</td>
<td>1777.699176</td>
<td>1051057.070948</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">15</td>
<td>283.00</td>
<td>1</td>
<td></td>
<td></td>
<td></td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">16</td>
<td>283.00</td>
<td>1</td>
<td>0.224188</td>
<td>1777.699176</td>
<td>1051057.070948</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">17</td>
<td>323.00</td>
<td>1</td>
<td>0.313863</td>
<td>2002.408006</td>
<td>923714.318925</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">18</td>
<td>298.00</td>
<td>1</td>
<td>0.026155</td>
<td>1864.353548</td>
<td>2547701.452782</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">19</td>
<td>298.00</td>
<td>1</td>
<td>0.183087</td>
<td>1224</td>
<td>1051057.070948</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">20</td>
<td>315.86</td>
<td>1</td>
<td>0.523105</td>
<td>1681.646144</td>
<td>1049483.638826</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">21</td>
<td>283.00</td>
<td>1</td>
<td>0.523105</td>
<td>1681.646144</td>
<td>1020576.433841</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">22</td>
<td>283.00</td>
<td>1</td>
<td></td>
<td></td>
<td></td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">23</td>
<td>283.00</td>
<td>1</td>
<td>0.523105</td>
<td>1681.646144</td>
<td>1020576.433841</td>
</tr>
</tbody>
</table>
</div>
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb49"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb49-1"><a href="#cb49-1" aria-hidden="true" tabindex="-1"></a><span class="co">#print a data frame with the heating value of the 3 hex</span></span>
<span id="cb49-2"><a href="#cb49-2" aria-hidden="true" tabindex="-1"></a>HX <span class="op">=</span> pd.DataFrame(columns<span class="op">=</span>[<span class="st">'HX'</span>, <span class="st">'Heat exchanged (W)'</span>])</span>
<span id="cb49-3"><a href="#cb49-3" aria-hidden="true" tabindex="-1"></a>HX[<span class="st">'HX'</span>]<span class="op">=</span>[<span class="st">'Evap'</span>, <span class="st">'HX1'</span>, <span class="st">'HX green'</span>, <span class="st">'HX red'</span>]</span>
<span id="cb49-4"><a href="#cb49-4" aria-hidden="true" tabindex="-1"></a>HX[<span class="st">'Heat exchanged (W)'</span>]<span class="op">=</span>[Qevap, QHX1,QHX2,QHX3]</span>
<span id="cb49-5"><a href="#cb49-5" aria-hidden="true" tabindex="-1"></a>HX <span class="op">=</span> HX.set_index(<span class="st">'HX'</span>)</span>
<span id="cb49-6"><a href="#cb49-6" aria-hidden="true" tabindex="-1"></a>HX <span class="op">=</span> HX.<span class="bu">round</span>(<span class="dv">2</span>)</span>
<span id="cb49-7"><a href="#cb49-7" aria-hidden="true" tabindex="-1"></a>HTML(HX.to_html())</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<table class="dataframe table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">Heat exchanged (W)</th>
</tr>
<tr class="odd">
<th data-quarto-table-cell-role="th">HX</th>
<th data-quarto-table-cell-role="th"></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">Evap</td>
<td>579418.18</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">HX1</td>
<td>40112.41</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">HX green</td>
<td>12711.81</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">HX red</td>
<td>28907.20</td>
</tr>
</tbody>
</table>
</div>
</div>
</section>
</section>
<section id="digester" class="level2" data-number="2.8">
<h2 data-number="2.8" class="anchored" data-anchor-id="digester"><span class="header-section-number">2.8</span> Digester</h2>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="Figures/Digester.svg" class="img-fluid figure-img"></p>
<figcaption class="figure-caption">Digester</figcaption>
</figure>
</div>
<p>The digester module aims to use sludge, consider as trash in milk production, to produce biogas and then make profits of it. In this project, all the whey and only whey is used for rivella production and all the sludge and only sludge is used for biogas production. This module is composed of a digestor to produce biogas, a rotary filter to eliminate some water, and a steam dryer to obtain as output dryed digestate. In order to compute the mass flow and energy balance of the digester module, the computation are split in three parts: the digestor, the rotary filter and the steam dryer.</p>
<section id="digestor" class="level3" data-number="2.8.1">
<h3 data-number="2.8.1" class="anchored" data-anchor-id="digestor"><span class="header-section-number">2.8.1</span> Digestor</h3>
<p>To compute the biogas production, the following equation is used:</p>
<p><span id="eq-biogas"><span class="math display">
\text{Biogas}(t) = \sum_{i=1}^{n} \text{Flow}(i) \cdot \text{BMP}(i) \cdot \text{TS}(i) \cdot \text{VS}(i) \cdot (1 - e^{-k_i t})
\tag{2.23}</span></span></p>
<p>From litterature <span class="citation" data-cites="holligerMethaneProductionFullScale2017">Holliger, Fruteau de Laclos, and Hack (<a href="#ref-holligerMethaneProductionFullScale2017" role="doc-biblioref">2017</a>)</span>, in table 2, data for waste sludge are the following:</p>
<ul>
<li><span class="math inline">\text{TS}_\text{sludge}</span> = 0.037</li>
<li><span class="math inline">\text{VS}_\text{sludge}</span> = 0.742</li>
<li><span class="math inline">\text{BMP}_\text{sludge}</span> = 0.407 <span class="math inline">m^3_{CH4}/kg_{VS}</span></li>
</ul>
<p>Considering 90 % conversion achieved for the given residence time and only sludge is used, the <a href="#eq-biogas">Equation&nbsp;<span class="quarto-unresolved-ref">eq-biogas</span></a> can be rewrite as:</p>
<p><span id="eq-biogas_simplified"><span class="math display">
\text{Biogas}(t) = \text{Flow}_\text{sludge} \cdot \text{BMP}_\text{sludge} \cdot \text{TS}_\text{sludge} \cdot \text{VS}_\text{sludge} \cdot 0.90
\tag{2.24}</span></span></p>
<p>Known data:</p>
<ul>
<li><span class="math inline">d_\text{1,dry}</span> = <span class="math inline">d_\text{w3,dry}</span> = 0.01561 kg/s</li>
<li><span class="math inline">d_\text{1,liquid}</span> = <span class="math inline">d_\text{w3,liquid}</span> = 0.1018 kg/S</li>
<li><span class="math inline">CH4_\text{in biogas}</span> = 0.55 kg_CH4/kg_biogas (55% CH4 in biogas)</li>
<li><span class="math inline">U_\text{digester}</span> = 2.5 W/m2/°C</li>
<li><span class="math inline">T_\text{digester}</span> = 55°C</li>
<li><span class="math inline">T_\text{in}</span> = 20°C</li>
<li>Ratio H/D = 0.6</li>
<li>Minimum biogas expansion volume: 15%</li>
</ul>
<p>Assumptions:</p>
<ul>
<li>p = 100000 Pa = 1 bar</li>
<li><span class="math inline">\rho_\text{biogas}</span> = 1.15 kg/m3</li>
<li><span class="math inline">cp_\text{flow}</span> = 4180 J/kg/°C</li>
<li><span class="math inline">\rho_\text{CH4}</span> = 0.657 kg/m3</li>
<li>20 days of residence time</li>
<li>No water in biogas d3</li>
</ul>
<section id="mass-flow" class="level4" data-number="2.8.1.1">
<h4 data-number="2.8.1.1" class="anchored" data-anchor-id="mass-flow"><span class="header-section-number">2.8.1.1</span> Mass Flow</h4>
<p>With those informations, the mass flow balance can be computed:</p>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb50"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb50-1"><a href="#cb50-1" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> numpy <span class="im">as</span> np</span>
<span id="cb50-2"><a href="#cb50-2" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> pandas <span class="im">as</span> pd</span>
<span id="cb50-3"><a href="#cb50-3" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> codes_01_energy_bill.coolprop_functions <span class="im">import</span> mixture</span>
<span id="cb50-4"><a href="#cb50-4" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> pyxosmose.state <span class="im">import</span> State</span>
<span id="cb50-5"><a href="#cb50-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb50-6"><a href="#cb50-6" aria-hidden="true" tabindex="-1"></a>p<span class="op">=</span><span class="dv">100000</span> <span class="co">#Pa</span></span>
<span id="cb50-7"><a href="#cb50-7" aria-hidden="true" tabindex="-1"></a>TS_sludge <span class="op">=</span> <span class="fl">0.037</span></span>
<span id="cb50-8"><a href="#cb50-8" aria-hidden="true" tabindex="-1"></a>VS_sludge <span class="op">=</span> <span class="fl">0.742</span></span>
<span id="cb50-9"><a href="#cb50-9" aria-hidden="true" tabindex="-1"></a>BMP_sludge <span class="op">=</span> <span class="fl">0.407</span> <span class="co"># m3_CH4/kg_VS</span></span>
<span id="cb50-10"><a href="#cb50-10" aria-hidden="true" tabindex="-1"></a>d1_dry <span class="op">=</span> <span class="fl">0.01561</span></span>
<span id="cb50-11"><a href="#cb50-11" aria-hidden="true" tabindex="-1"></a>d1_liquid <span class="op">=</span> <span class="fl">0.1018</span></span>
<span id="cb50-12"><a href="#cb50-12" aria-hidden="true" tabindex="-1"></a>d1 <span class="op">=</span> d1_dry <span class="op">+</span> d1_liquid</span>
<span id="cb50-13"><a href="#cb50-13" aria-hidden="true" tabindex="-1"></a>conversion_factor <span class="op">=</span> <span class="fl">0.90</span></span>
<span id="cb50-14"><a href="#cb50-14" aria-hidden="true" tabindex="-1"></a>CH4_density <span class="op">=</span> <span class="fl">0.657</span> <span class="co"># kg/m3</span></span>
<span id="cb50-15"><a href="#cb50-15" aria-hidden="true" tabindex="-1"></a>CH4_in_biogas <span class="op">=</span> <span class="fl">0.55</span> <span class="co"># kg_CH4/kg_biogas (55% CH4 in biogas)</span></span>
<span id="cb50-16"><a href="#cb50-16" aria-hidden="true" tabindex="-1"></a>biogas_density <span class="op">=</span> <span class="fl">1.15</span> <span class="co"># kg/m3</span></span>
<span id="cb50-17"><a href="#cb50-17" aria-hidden="true" tabindex="-1"></a>biogas_expansion <span class="op">=</span> <span class="fl">0.15</span></span>
<span id="cb50-18"><a href="#cb50-18" aria-hidden="true" tabindex="-1"></a>U_digester <span class="op">=</span> <span class="fl">2.5</span> <span class="co"># W/m2/°C</span></span>
<span id="cb50-19"><a href="#cb50-19" aria-hidden="true" tabindex="-1"></a>T_digester <span class="op">=</span> <span class="dv">55</span><span class="op">+</span><span class="dv">273</span> <span class="co"># K</span></span>
<span id="cb50-20"><a href="#cb50-20" aria-hidden="true" tabindex="-1"></a>T_in <span class="op">=</span> <span class="dv">20</span><span class="op">+</span><span class="dv">273</span> <span class="co"># K</span></span>
<span id="cb50-21"><a href="#cb50-21" aria-hidden="true" tabindex="-1"></a>cp_flow <span class="op">=</span> <span class="dv">4180</span> <span class="co"># J/kg/°C</span></span>
<span id="cb50-22"><a href="#cb50-22" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb50-23"><a href="#cb50-23" aria-hidden="true" tabindex="-1"></a>d3 <span class="op">=</span> d1 <span class="op">*</span> BMP_sludge <span class="op">*</span> TS_sludge <span class="op">*</span> VS_sludge <span class="op">*</span> conversion_factor <span class="op">*</span> CH4_density <span class="op">/</span> CH4_in_biogas <span class="co"># kg/s</span></span>
<span id="cb50-24"><a href="#cb50-24" aria-hidden="true" tabindex="-1"></a>d2 <span class="op">=</span> d1 <span class="op">-</span> d3</span>
<span id="cb50-25"><a href="#cb50-25" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb50-26"><a href="#cb50-26" aria-hidden="true" tabindex="-1"></a>d2_liquid <span class="op">=</span> d1_liquid <span class="co"># Assumption : no water in biogas d3</span></span>
<span id="cb50-27"><a href="#cb50-27" aria-hidden="true" tabindex="-1"></a>d2_dry <span class="op">=</span> d2 <span class="op">-</span> d2_liquid</span>
<span id="cb50-28"><a href="#cb50-28" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb50-29"><a href="#cb50-29" aria-hidden="true" tabindex="-1"></a><span class="co"># print d1, d2, d3 in a dataframe</span></span>
<span id="cb50-30"><a href="#cb50-30" aria-hidden="true" tabindex="-1"></a>data <span class="op">=</span> {<span class="st">'Point'</span>: [<span class="st">'1'</span>, <span class="st">'2'</span>, <span class="st">'3'</span>],</span>
<span id="cb50-31"><a href="#cb50-31" aria-hidden="true" tabindex="-1"></a>        <span class="st">'Dry Mass flow (kg/s)'</span>: [d1_dry, d2_dry, d3],</span>
<span id="cb50-32"><a href="#cb50-32" aria-hidden="true" tabindex="-1"></a>        <span class="st">'Liquid Mass flow (kg/s)'</span>: [d1_liquid, d2_liquid, <span class="dv">0</span>],</span>
<span id="cb50-33"><a href="#cb50-33" aria-hidden="true" tabindex="-1"></a>        <span class="st">'Total Mass flow (kg/s)'</span>: [d1, d2, d3]}</span>
<span id="cb50-34"><a href="#cb50-34" aria-hidden="true" tabindex="-1"></a>df <span class="op">=</span> pd.DataFrame(data)</span>
<span id="cb50-35"><a href="#cb50-35" aria-hidden="true" tabindex="-1"></a>df <span class="op">=</span> df.set_index(<span class="st">'Point'</span>)</span>
<span id="cb50-36"><a href="#cb50-36" aria-hidden="true" tabindex="-1"></a>df <span class="op">=</span> df.<span class="bu">round</span>(<span class="dv">4</span>)</span>
<span id="cb50-37"><a href="#cb50-37" aria-hidden="true" tabindex="-1"></a>HTML(df.to_html())</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<table class="dataframe table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">Dry Mass flow (kg/s)</th>
<th data-quarto-table-cell-role="th">Liquid Mass flow (kg/s)</th>
<th data-quarto-table-cell-role="th">Total Mass flow (kg/s)</th>
</tr>
<tr class="odd">
<th data-quarto-table-cell-role="th">Point</th>
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th"></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">1</td>
<td>0.0156</td>
<td>0.1018</td>
<td>0.1174</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">2</td>
<td>0.0142</td>
<td>0.1018</td>
<td>0.1160</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">3</td>
<td>0.0014</td>
<td>0.0000</td>
<td>0.0014</td>
</tr>
</tbody>
</table>
</div>
</div>
</section>
<section id="digestor-geometry" class="level4" data-number="2.8.1.2">
<h4 data-number="2.8.1.2" class="anchored" data-anchor-id="digestor-geometry"><span class="header-section-number">2.8.1.2</span> Digestor Geometry</h4>
<p><span id="eq-Vbiogas"><span class="math display">
V_\text{biogas} = \frac{d_3 \cdot \text{time}}{\rho_\text{biogas}}
\tag{2.25}</span></span></p>
<p><span id="eq-Vdigester"><span class="math display">
V_\text{digester} = V_\text{biogas} \cdot (1 + \text{biogas expansion})
\tag{2.26}</span></span></p>
<p><span id="eq-D"><span class="math display">
D = \left( \frac{4 \cdot V_\text{digester}}{0.6 \cdot \pi} \right)^{1/3}
\tag{2.27}</span></span></p>
<p><span id="eq-H"><span class="math display">
H = 0.6 \cdot D
\tag{2.28}</span></span></p>
<p><span id="eq-A"><span class="math display">
A = \pi \cdot D \cdot H + 2 \cdot \pi \left( \frac{D}{2} \right)^2
\tag{2.29}</span></span></p>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb51"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb51-1"><a href="#cb51-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Compute the Volume</span></span>
<span id="cb51-2"><a href="#cb51-2" aria-hidden="true" tabindex="-1"></a>time <span class="op">=</span> <span class="dv">20</span> <span class="op">*</span> <span class="dv">24</span> <span class="op">*</span> <span class="dv">3600</span> <span class="co"># 20 days in seconds</span></span>
<span id="cb51-3"><a href="#cb51-3" aria-hidden="true" tabindex="-1"></a>V_biogas<span class="op">=</span> d3 <span class="op">*</span> time <span class="op">/</span> biogas_density <span class="co"># m3</span></span>
<span id="cb51-4"><a href="#cb51-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb51-5"><a href="#cb51-5" aria-hidden="true" tabindex="-1"></a><span class="co"># Compute the surface area</span></span>
<span id="cb51-6"><a href="#cb51-6" aria-hidden="true" tabindex="-1"></a>V_digester <span class="op">=</span> V_biogas <span class="op">*</span> (<span class="dv">1</span> <span class="op">+</span> biogas_expansion) <span class="co"># m3</span></span>
<span id="cb51-7"><a href="#cb51-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb51-8"><a href="#cb51-8" aria-hidden="true" tabindex="-1"></a>D <span class="op">=</span> (<span class="dv">4</span> <span class="op">*</span> V_digester <span class="op">/</span> (<span class="fl">0.6</span> <span class="op">*</span> np.pi))<span class="op">**</span>(<span class="dv">1</span><span class="op">/</span><span class="dv">3</span>) </span>
<span id="cb51-9"><a href="#cb51-9" aria-hidden="true" tabindex="-1"></a>H <span class="op">=</span> <span class="fl">0.6</span> <span class="op">*</span> D</span>
<span id="cb51-10"><a href="#cb51-10" aria-hidden="true" tabindex="-1"></a>A <span class="op">=</span> np.pi <span class="op">*</span> D <span class="op">*</span> H <span class="op">+</span> <span class="dv">2</span> <span class="op">*</span> np.pi <span class="op">*</span> (D<span class="op">/</span><span class="dv">2</span>)<span class="op">**</span><span class="dv">2</span> <span class="co"># cylindrical digester area</span></span>
<span id="cb51-11"><a href="#cb51-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb51-12"><a href="#cb51-12" aria-hidden="true" tabindex="-1"></a><span class="co"># print in a dataframe the volume, the height, the diameter and the area of the digester</span></span>
<span id="cb51-13"><a href="#cb51-13" aria-hidden="true" tabindex="-1"></a>data <span class="op">=</span> {<span class="st">'Point'</span>: [<span class="st">'Digester'</span>],</span>
<span id="cb51-14"><a href="#cb51-14" aria-hidden="true" tabindex="-1"></a>        <span class="st">'Volume (m3)'</span>: [V_digester],</span>
<span id="cb51-15"><a href="#cb51-15" aria-hidden="true" tabindex="-1"></a>        <span class="st">'Diameter (m)'</span>: [D],</span>
<span id="cb51-16"><a href="#cb51-16" aria-hidden="true" tabindex="-1"></a>        <span class="st">'Height (m)'</span>: [H],</span>
<span id="cb51-17"><a href="#cb51-17" aria-hidden="true" tabindex="-1"></a>        <span class="st">'Area (m2)'</span>: [A]}</span>
<span id="cb51-18"><a href="#cb51-18" aria-hidden="true" tabindex="-1"></a>df <span class="op">=</span> pd.DataFrame(data)</span>
<span id="cb51-19"><a href="#cb51-19" aria-hidden="true" tabindex="-1"></a>df <span class="op">=</span> df.set_index(<span class="st">'Point'</span>)</span>
<span id="cb51-20"><a href="#cb51-20" aria-hidden="true" tabindex="-1"></a>df <span class="op">=</span> df.<span class="bu">round</span>(<span class="dv">2</span>)</span>
<span id="cb51-21"><a href="#cb51-21" aria-hidden="true" tabindex="-1"></a>HTML(df.to_html())</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<table class="dataframe table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">Volume (m3)</th>
<th data-quarto-table-cell-role="th">Diameter (m)</th>
<th data-quarto-table-cell-role="th">Height (m)</th>
<th data-quarto-table-cell-role="th">Area (m2)</th>
</tr>
<tr class="odd">
<th data-quarto-table-cell-role="th">Point</th>
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th"></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">Digester</td>
<td>2437.22</td>
<td>17.29</td>
<td>10.38</td>
<td>1033.5</td>
</tr>
</tbody>
</table>
</div>
</div>
<p>Knowing the surface area of the digester and the Heat transfer coefficient for well-insulated digester <span class="math inline">U_\text{digester}</span>, the heat loss can be computed:</p>
<p><span id="eq-Qdigester"><span class="math display">
Q_\text{digester} = U_\text{digester} \cdot A \cdot (T_\text{digester} - T_\text{in})
\tag{2.30}</span></span></p>
<p><span id="eq-Qflow"><span class="math display">
Q_\text{flow} = cp_\text{flow} \cdot d_1 \cdot (T_\text{digester} - T_\text{in})
\tag{2.31}</span></span></p>
<p><span id="eq-Qtot"><span class="math display">
Q_\text{tot} = Q_\text{digester} + Q_\text{flow}
\tag{2.32}</span></span></p>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb52"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb52-1"><a href="#cb52-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Compute the heat loss</span></span>
<span id="cb52-2"><a href="#cb52-2" aria-hidden="true" tabindex="-1"></a>Q_digester <span class="op">=</span> U_digester <span class="op">*</span> A <span class="op">*</span> (T_digester <span class="op">-</span> T_in) <span class="co"># W</span></span>
<span id="cb52-3"><a href="#cb52-3" aria-hidden="true" tabindex="-1"></a>Q_flow <span class="op">=</span> cp_flow <span class="op">*</span> d1 <span class="op">*</span> (T_digester <span class="op">-</span> T_in) <span class="co"># W</span></span>
<span id="cb52-4"><a href="#cb52-4" aria-hidden="true" tabindex="-1"></a>Q_tot <span class="op">=</span> Q_digester <span class="op">+</span> Q_flow</span>
<span id="cb52-5"><a href="#cb52-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb52-6"><a href="#cb52-6" aria-hidden="true" tabindex="-1"></a><span class="co"># print in a dataframe the 3 losses</span></span>
<span id="cb52-7"><a href="#cb52-7" aria-hidden="true" tabindex="-1"></a>data <span class="op">=</span> {<span class="st">'Point'</span>: [<span class="st">'Digestor'</span>, <span class="st">'Flow'</span>, <span class="st">'Total'</span>],</span>
<span id="cb52-8"><a href="#cb52-8" aria-hidden="true" tabindex="-1"></a>        <span class="st">'Heat Loss (W)'</span>: [Q_digester, Q_flow, Q_tot]}</span>
<span id="cb52-9"><a href="#cb52-9" aria-hidden="true" tabindex="-1"></a>df <span class="op">=</span> pd.DataFrame(data)</span>
<span id="cb52-10"><a href="#cb52-10" aria-hidden="true" tabindex="-1"></a>df <span class="op">=</span> df.set_index(<span class="st">'Point'</span>)</span>
<span id="cb52-11"><a href="#cb52-11" aria-hidden="true" tabindex="-1"></a>df <span class="op">=</span> df.<span class="bu">round</span>(<span class="dv">2</span>)</span>
<span id="cb52-12"><a href="#cb52-12" aria-hidden="true" tabindex="-1"></a>HTML(df.to_html())</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<table class="dataframe table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">Heat Loss (W)</th>
</tr>
<tr class="odd">
<th data-quarto-table-cell-role="th">Point</th>
<th data-quarto-table-cell-role="th"></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">Digestor</td>
<td>90431.39</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">Flow</td>
<td>17177.08</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">Total</td>
<td>107608.48</td>
</tr>
</tbody>
</table>
</div>
</div>
</section>
</section>
<section id="rotary-filter" class="level3" data-number="2.8.2">
<h3 data-number="2.8.2" class="anchored" data-anchor-id="rotary-filter"><span class="header-section-number">2.8.2</span> Rotary filter</h3>
<p>The rotary filter does not consume any heat. It is considered as a mechanical device only. The mass flow is computed as follow:</p>
<ul>
<li>only water is removed: <span class="math inline">d_{5,\text{dry}} = d_{2,\text{dry}}</span></li>
<li>d5 is composed of 50% wt. H2O (w.b.): <span class="math inline">d_{5,\text{liquid}} = d_{5,\text{dry}}</span></li>
<li><span class="math inline">d_5 = d_{5,\text{dry}} + d_{5,\text{liquid}}</span></li>
<li>d4 is fully liquid: <span class="math inline">d_4 = d_{2,\text{liquid}} - d_{5,\text{liquid}}</span></li>
</ul>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb53"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb53-1"><a href="#cb53-1" aria-hidden="true" tabindex="-1"></a><span class="co">#Rotary Filter</span></span>
<span id="cb53-2"><a href="#cb53-2" aria-hidden="true" tabindex="-1"></a>d5_dry <span class="op">=</span> d2_dry</span>
<span id="cb53-3"><a href="#cb53-3" aria-hidden="true" tabindex="-1"></a>d5_liquid <span class="op">=</span> d5_dry</span>
<span id="cb53-4"><a href="#cb53-4" aria-hidden="true" tabindex="-1"></a>d5 <span class="op">=</span> d5_dry <span class="op">+</span> d5_liquid</span>
<span id="cb53-5"><a href="#cb53-5" aria-hidden="true" tabindex="-1"></a>d4 <span class="op">=</span> d2_liquid <span class="op">-</span> d5_liquid</span>
<span id="cb53-6"><a href="#cb53-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb53-7"><a href="#cb53-7" aria-hidden="true" tabindex="-1"></a><span class="co"># print in a data frame the mass flow of dry and liquid for point 4 and 5 and the total mass flow for point 4 and 5</span></span>
<span id="cb53-8"><a href="#cb53-8" aria-hidden="true" tabindex="-1"></a>data <span class="op">=</span> {<span class="st">'Point'</span>: [<span class="st">'4'</span>, <span class="st">'5'</span>],</span>
<span id="cb53-9"><a href="#cb53-9" aria-hidden="true" tabindex="-1"></a>        <span class="st">'Dry Mass flow (kg/s)'</span>: [<span class="dv">0</span>, d5_dry],</span>
<span id="cb53-10"><a href="#cb53-10" aria-hidden="true" tabindex="-1"></a>        <span class="st">'Liquid Mass flow (kg/s)'</span>: [d4, d5_liquid],</span>
<span id="cb53-11"><a href="#cb53-11" aria-hidden="true" tabindex="-1"></a>        <span class="st">'Total Mass flow (kg/s)'</span>: [d4, d5]}</span>
<span id="cb53-12"><a href="#cb53-12" aria-hidden="true" tabindex="-1"></a>df <span class="op">=</span> pd.DataFrame(data)</span>
<span id="cb53-13"><a href="#cb53-13" aria-hidden="true" tabindex="-1"></a>df <span class="op">=</span> df.set_index(<span class="st">'Point'</span>)</span>
<span id="cb53-14"><a href="#cb53-14" aria-hidden="true" tabindex="-1"></a>df <span class="op">=</span> df.<span class="bu">round</span>(<span class="dv">4</span>)</span>
<span id="cb53-15"><a href="#cb53-15" aria-hidden="true" tabindex="-1"></a>HTML(df.to_html())</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<table class="dataframe table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">Dry Mass flow (kg/s)</th>
<th data-quarto-table-cell-role="th">Liquid Mass flow (kg/s)</th>
<th data-quarto-table-cell-role="th">Total Mass flow (kg/s)</th>
</tr>
<tr class="odd">
<th data-quarto-table-cell-role="th">Point</th>
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th"></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">4</td>
<td>0.0000</td>
<td>0.0876</td>
<td>0.0876</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">5</td>
<td>0.0142</td>
<td>0.0142</td>
<td>0.0284</td>
</tr>
</tbody>
</table>
</div>
</div>
</section>
<section id="steam-dryer" class="level3" data-number="2.8.3">
<h3 data-number="2.8.3" class="anchored" data-anchor-id="steam-dryer"><span class="header-section-number">2.8.3</span> Steam dryer</h3>
<p>The steam dryer target is to reduced the water composition of the digestate from 50% to 5%. It is assumed that <span class="math inline">h_\text{steam}</span> = 2250000 J/kg at T = 100°C.</p>
<p>The energy required to evaporate the water is computed as follow: <span id="eq-Qsd"><span class="math display">
Q_\text{sd} = d_5 \cdot (0.5 - 0.05) \cdot h_\text{steam}
\tag{2.33}</span></span></p>
<p>Assumptions:</p>
<ul>
<li><span class="math inline">T_7</span> = 150°C</li>
<li><span class="math inline">T_8</span> = 130°C</li>
</ul>
<p>Knowing this energy, the mass flow of the steam is computed as follow:</p>
<ul>
<li>90% of the water in d5 is removed: <span class="math inline">d_6 = d_5 - 0.9 \cdot d_{5,\text{liquid}}</span></li>
<li><span class="math inline">d_7 = d_8 = \frac{Q_{sd}}{cp7 * (T_7 - T_8)}</span></li>
</ul>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb54"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb54-1"><a href="#cb54-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Steam dryer</span></span>
<span id="cb54-2"><a href="#cb54-2" aria-hidden="true" tabindex="-1"></a>h_steam <span class="op">=</span> <span class="dv">2250000</span> <span class="co"># J/kg source wikipedia at T = 100°C</span></span>
<span id="cb54-3"><a href="#cb54-3" aria-hidden="true" tabindex="-1"></a>Q_sd <span class="op">=</span> d5 <span class="op">*</span> (<span class="fl">0.5</span><span class="op">-</span><span class="fl">0.05</span>) <span class="op">*</span> h_steam <span class="co"># W from 50% to 5% water</span></span>
<span id="cb54-4"><a href="#cb54-4" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">'Q_sd = '</span>, Q_sd, <span class="st">'W'</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>Q_sd =  28754.13727822047 W</code></pre>
</div>
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb56"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb56-1"><a href="#cb56-1" aria-hidden="true" tabindex="-1"></a>d6 <span class="op">=</span> d5 <span class="op">-</span> <span class="fl">0.9</span> <span class="op">*</span> d5_liquid <span class="co"># 90% of the water in d5 is removed</span></span>
<span id="cb56-2"><a href="#cb56-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb56-3"><a href="#cb56-3" aria-hidden="true" tabindex="-1"></a>T7 <span class="op">=</span> <span class="dv">150</span> <span class="op">+</span> <span class="dv">273</span> <span class="co"># °C  --&gt; is an assumption</span></span>
<span id="cb56-4"><a href="#cb56-4" aria-hidden="true" tabindex="-1"></a>T8 <span class="op">=</span> <span class="dv">130</span> <span class="op">+</span> <span class="dv">273</span> <span class="co"># °C  --&gt; is an assumption</span></span>
<span id="cb56-5"><a href="#cb56-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb56-6"><a href="#cb56-6" aria-hidden="true" tabindex="-1"></a>point7 <span class="op">=</span> State(pair<span class="op">=</span><span class="st">'TP'</span>, fluid<span class="op">=</span><span class="st">'water'</span>, temperature<span class="op">=</span>T7, pressure<span class="op">=</span>p)</span>
<span id="cb56-7"><a href="#cb56-7" aria-hidden="true" tabindex="-1"></a>point7.StateCalc()</span>
<span id="cb56-8"><a href="#cb56-8" aria-hidden="true" tabindex="-1"></a>point7 <span class="op">=</span> point7.__dict__ <span class="co"># Whole dictionary with properties</span></span>
<span id="cb56-9"><a href="#cb56-9" aria-hidden="true" tabindex="-1"></a>h7<span class="op">=</span>point7[<span class="st">"enthalpy"</span>]</span>
<span id="cb56-10"><a href="#cb56-10" aria-hidden="true" tabindex="-1"></a>cp7<span class="op">=</span>point7[<span class="st">"cpmass"</span>]</span>
<span id="cb56-11"><a href="#cb56-11" aria-hidden="true" tabindex="-1"></a>d7 <span class="op">=</span> Q_sd <span class="op">/</span> (cp7 <span class="op">*</span> (T7 <span class="op">-</span> T8)) <span class="co"># kg/s</span></span>
<span id="cb56-12"><a href="#cb56-12" aria-hidden="true" tabindex="-1"></a>d8 <span class="op">=</span> d7 <span class="op">+</span> d5<span class="op">*</span><span class="fl">0.9</span></span>
<span id="cb56-13"><a href="#cb56-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb56-14"><a href="#cb56-14" aria-hidden="true" tabindex="-1"></a><span class="co"># print in a dataframe the mass flow of dry and liquid for point 6, 7 and 8 and the total mass flow for point 6, 7 and 8</span></span>
<span id="cb56-15"><a href="#cb56-15" aria-hidden="true" tabindex="-1"></a>data <span class="op">=</span> {<span class="st">'Point'</span>: [<span class="st">'6'</span>, <span class="st">'7'</span>, <span class="st">'8'</span>],</span>
<span id="cb56-16"><a href="#cb56-16" aria-hidden="true" tabindex="-1"></a>        <span class="st">'Dry Mass flow (kg/s)'</span>: [d6<span class="op">*</span><span class="fl">0.05</span>, <span class="dv">0</span>, <span class="dv">0</span>],</span>
<span id="cb56-17"><a href="#cb56-17" aria-hidden="true" tabindex="-1"></a>        <span class="st">'Liquid Mass flow (kg/s)'</span>: [d6<span class="op">*</span><span class="fl">0.95</span>, d7, d8],</span>
<span id="cb56-18"><a href="#cb56-18" aria-hidden="true" tabindex="-1"></a>        <span class="st">'Total Mass flow (kg/s)'</span>: [d6, d7, d8]}</span>
<span id="cb56-19"><a href="#cb56-19" aria-hidden="true" tabindex="-1"></a>df <span class="op">=</span> pd.DataFrame(data)</span>
<span id="cb56-20"><a href="#cb56-20" aria-hidden="true" tabindex="-1"></a>df <span class="op">=</span> df.set_index(<span class="st">'Point'</span>)</span>
<span id="cb56-21"><a href="#cb56-21" aria-hidden="true" tabindex="-1"></a>df <span class="op">=</span> df.<span class="bu">round</span>(<span class="dv">4</span>)</span>
<span id="cb56-22"><a href="#cb56-22" aria-hidden="true" tabindex="-1"></a>HTML(df.to_html())</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<table class="dataframe table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">Dry Mass flow (kg/s)</th>
<th data-quarto-table-cell-role="th">Liquid Mass flow (kg/s)</th>
<th data-quarto-table-cell-role="th">Total Mass flow (kg/s)</th>
</tr>
<tr class="odd">
<th data-quarto-table-cell-role="th">Point</th>
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th"></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">6</td>
<td>0.0008</td>
<td>0.0148</td>
<td>0.0156</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">7</td>
<td>0.0000</td>
<td>0.7244</td>
<td>0.7244</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">8</td>
<td>0.0000</td>
<td>0.7499</td>
<td>0.7499</td>
</tr>
</tbody>
</table>
</div>
</div>
</section>
<section id="summary-for-the-digester-section" class="level3" data-number="2.8.4">
<h3 data-number="2.8.4" class="anchored" data-anchor-id="summary-for-the-digester-section"><span class="header-section-number">2.8.4</span> Summary for the digester section</h3>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb57"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb57-1"><a href="#cb57-1" aria-hidden="true" tabindex="-1"></a><span class="co">#Create a dataframe with all the parameters</span></span>
<span id="cb57-2"><a href="#cb57-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb57-3"><a href="#cb57-3" aria-hidden="true" tabindex="-1"></a>T1<span class="op">=</span> T_in</span>
<span id="cb57-4"><a href="#cb57-4" aria-hidden="true" tabindex="-1"></a>T2<span class="op">=</span> T_digester</span>
<span id="cb57-5"><a href="#cb57-5" aria-hidden="true" tabindex="-1"></a>T3<span class="op">=</span> T2</span>
<span id="cb57-6"><a href="#cb57-6" aria-hidden="true" tabindex="-1"></a>T4<span class="op">=</span> T2</span>
<span id="cb57-7"><a href="#cb57-7" aria-hidden="true" tabindex="-1"></a>T5<span class="op">=</span> <span class="dv">373</span></span>
<span id="cb57-8"><a href="#cb57-8" aria-hidden="true" tabindex="-1"></a>T6<span class="op">=</span> T5</span>
<span id="cb57-9"><a href="#cb57-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb57-10"><a href="#cb57-10" aria-hidden="true" tabindex="-1"></a>data <span class="op">=</span> {<span class="st">'Point'</span>: [<span class="st">'1'</span>, <span class="st">'2'</span>, <span class="st">'3'</span>, <span class="st">'4'</span>, <span class="st">'5'</span>, <span class="st">'6'</span>, <span class="st">'7'</span>, <span class="st">'8'</span>],</span>
<span id="cb57-11"><a href="#cb57-11" aria-hidden="true" tabindex="-1"></a>        <span class="st">'Temperature (K)'</span>: [T1, T2, T3, T4, T5, T6, T7, T8],</span>
<span id="cb57-12"><a href="#cb57-12" aria-hidden="true" tabindex="-1"></a>        <span class="st">'Pressure (bar)'</span>: [p, p, p, p, p, p, p, p],</span>
<span id="cb57-13"><a href="#cb57-13" aria-hidden="true" tabindex="-1"></a>        <span class="st">'Mass flow rate (kg/s)'</span>: [d1, d2, d3, d4, d5, d6, d7, d8]}</span>
<span id="cb57-14"><a href="#cb57-14" aria-hidden="true" tabindex="-1"></a>df <span class="op">=</span> pd.DataFrame(data)</span>
<span id="cb57-15"><a href="#cb57-15" aria-hidden="true" tabindex="-1"></a>df <span class="op">=</span> df.set_index(<span class="st">'Point'</span>)</span>
<span id="cb57-16"><a href="#cb57-16" aria-hidden="true" tabindex="-1"></a>df <span class="op">=</span> df.<span class="bu">round</span>(<span class="dv">4</span>)</span>
<span id="cb57-17"><a href="#cb57-17" aria-hidden="true" tabindex="-1"></a>HTML(df.to_html())</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<table class="dataframe table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">Temperature (K)</th>
<th data-quarto-table-cell-role="th">Pressure (bar)</th>
<th data-quarto-table-cell-role="th">Mass flow rate (kg/s)</th>
</tr>
<tr class="odd">
<th data-quarto-table-cell-role="th">Point</th>
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th"></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">1</td>
<td>293</td>
<td>100000</td>
<td>0.1174</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">2</td>
<td>328</td>
<td>100000</td>
<td>0.1160</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">3</td>
<td>328</td>
<td>100000</td>
<td>0.0014</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">4</td>
<td>328</td>
<td>100000</td>
<td>0.0876</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">5</td>
<td>373</td>
<td>100000</td>
<td>0.0284</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">6</td>
<td>373</td>
<td>100000</td>
<td>0.0156</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">7</td>
<td>423</td>
<td>100000</td>
<td>0.7244</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">8</td>
<td>403</td>
<td>100000</td>
<td>0.7499</td>
</tr>
</tbody>
</table>
</div>
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb58"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb58-1"><a href="#cb58-1" aria-hidden="true" tabindex="-1"></a><span class="co">#print dataframe with Q_tot (named as Q_digestor in the table) and Q_sd</span></span>
<span id="cb58-2"><a href="#cb58-2" aria-hidden="true" tabindex="-1"></a>data <span class="op">=</span> {<span class="st">'Point'</span>: [<span class="st">'Digestor'</span>, <span class="st">'Steam Dryer'</span>],</span>
<span id="cb58-3"><a href="#cb58-3" aria-hidden="true" tabindex="-1"></a>        <span class="st">'Q (W)'</span>: [Q_tot, Q_sd]}</span>
<span id="cb58-4"><a href="#cb58-4" aria-hidden="true" tabindex="-1"></a>df <span class="op">=</span> pd.DataFrame(data)</span>
<span id="cb58-5"><a href="#cb58-5" aria-hidden="true" tabindex="-1"></a>df <span class="op">=</span> df.set_index(<span class="st">'Point'</span>)</span>
<span id="cb58-6"><a href="#cb58-6" aria-hidden="true" tabindex="-1"></a>df <span class="op">=</span> df.<span class="bu">round</span>(<span class="dv">2</span>)</span>
<span id="cb58-7"><a href="#cb58-7" aria-hidden="true" tabindex="-1"></a>HTML(df.to_html())</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<table class="dataframe table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">Q (W)</th>
</tr>
<tr class="odd">
<th data-quarto-table-cell-role="th">Point</th>
<th data-quarto-table-cell-role="th"></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">Digestor</td>
<td>107608.48</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">Steam Dryer</td>
<td>28754.14</td>
</tr>
</tbody>
</table>
</div>
</div>


<div id="refs" class="references csl-bib-body hanging-indent" role="list">
<div id="ref-holligerMethaneProductionFullScale2017" class="csl-entry" role="listitem">
Holliger, Christof, Hélène Fruteau de Laclos, and Gabrielle Hack. 2017. <span>“Methane <span>Production</span> of <span>Full-Scale Anaerobic Digestion Plants Calculated</span> from <span>Substrate</span>’s <span>Biomethane Potentials Compares Well</span> with the <span>One Measured On-Site</span>.”</span> <em>Frontiers in Energy Research</em> 5 (June): 12. <a href="https://doi.org/10.3389/fenrg.2017.00012">https://doi.org/10.3389/fenrg.2017.00012</a>.
</div>
<div id="ref-NAGHAVI201864" class="csl-entry" role="listitem">
Naghavi, Enayat-Allah, Jalal Dehghannya, and Babak Ghanbarzadeh. 2018. <span>“3D Computational Simulation for the Prediction of Coupled Momentum, Heat and Mass Transfer During Deep-Fat Frying of Potato Strips Coated with Different Concentrations of Alginate.”</span> <em>Journal of Food Engineering</em> 235: 64–78. https://doi.org/<a href="https://doi.org/10.1016/j.jfoodeng.2018.04.026">https://doi.org/10.1016/j.jfoodeng.2018.04.026</a>.
</div>
<div id="ref-shiDairyProcessingSludge2021" class="csl-entry" role="listitem">
Shi, W., M. G. Healy, S. M. Ashekuzzaman, K. Daly, J. J. Leahy, and O. Fenton. 2021. <span>“Dairy Processing Sludge and Co-Products: <span>A</span> Review of Present and Future Re-Use Pathways in Agriculture.”</span> <em>Journal of Cleaner Production</em> 314 (September): 128035. <a href="https://doi.org/10.1016/j.jclepro.2021.128035">https://doi.org/10.1016/j.jclepro.2021.128035</a>.
</div>
<div id="ref-noauthor_table_nodate" class="csl-entry" role="listitem">
<span>“Table of <span>Specific</span> <span>Heats</span>.”</span> n.d. Accessed November 14, 2023. <a href="http://hyperphysics.phy-astr.gsu.edu/hbase/Tables/sphtt.html#c1">http://hyperphysics.phy-astr.gsu.edu/hbase/Tables/sphtt.html#c1</a>.
</div>
</div>
</section>
</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  const viewSource = window.document.getElementById('quarto-view-source') ||
                     window.document.getElementById('quarto-code-tools-source');
  if (viewSource) {
    const sourceUrl = viewSource.getAttribute("data-quarto-source-url");
    viewSource.addEventListener("click", function(e) {
      if (sourceUrl) {
        // rstudio viewer pane
        if (/\bcapabilities=\b/.test(window.location)) {
          window.open(sourceUrl);
        } else {
          window.location.href = sourceUrl;
        }
      } else {
        const modal = new bootstrap.Modal(document.getElementById('quarto-embedded-source-code-modal'));
        modal.show();
      }
      return false;
    });
  }
  function toggleCodeHandler(show) {
    return function(e) {
      const detailsSrc = window.document.querySelectorAll(".cell > details > .sourceCode");
      for (let i=0; i<detailsSrc.length; i++) {
        const details = detailsSrc[i].parentElement;
        if (show) {
          details.open = true;
        } else {
          details.removeAttribute("open");
        }
      }
      const cellCodeDivs = window.document.querySelectorAll(".cell > .sourceCode");
      const fromCls = show ? "hidden" : "unhidden";
      const toCls = show ? "unhidden" : "hidden";
      for (let i=0; i<cellCodeDivs.length; i++) {
        const codeDiv = cellCodeDivs[i];
        if (codeDiv.classList.contains(fromCls)) {
          codeDiv.classList.remove(fromCls);
          codeDiv.classList.add(toCls);
        } 
      }
      return false;
    }
  }
  const hideAllCode = window.document.getElementById("quarto-hide-all-code");
  if (hideAllCode) {
    hideAllCode.addEventListener("click", toggleCodeHandler(false));
  }
  const showAllCode = window.document.getElementById("quarto-show-all-code");
  if (showAllCode) {
    showAllCode.addEventListener("click", toggleCodeHandler(true));
  }
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
<nav class="page-navigation">
  <div class="nav-page nav-page-previous">
      <a href="./01.00-intro.html" class="pagination-link">
        <i class="bi bi-arrow-left-short"></i> <span class="nav-page-text"><span class="chapter-number">1</span>&nbsp; <span class="chapter-title">Group 6/F: Process Integration and Optimization for a Dairy Factory</span></span>
      </a>          
  </div>
  <div class="nav-page nav-page-next">
      <a href="./03.00-energy_bill.html" class="pagination-link">
        <span class="nav-page-text"><span class="chapter-number">3</span>&nbsp; <span class="chapter-title">Exergy analysis and Energy bill</span></span> <i class="bi bi-arrow-right-short"></i>
      </a>
  </div>
</nav>
</div> <!-- /content -->
<footer class="footer">
  <div class="nav-footer">
    <div class="nav-footer-left">
      <ul class="footer-items list-unstyled">
    <li class="nav-item">
 <a class="logo" href="https://ipese.epfl.ch"><img alt="IPESE" height="100px" src="https://ipese-lectures.epfl.ch/static/ipese-logo-black.svg"></a>
  </li>  
</ul>
    </div>   
    <div class="nav-footer-center">
      <ul class="footer-items list-unstyled">
    <li class="nav-item">
 © 2023 - Industrial Process and Energy Systems Engineering (IPESE)
  </li>  
</ul>
    </div>
    <div class="nav-footer-right">
      &nbsp;
    </div>
  </div>
</footer>



</body></html>